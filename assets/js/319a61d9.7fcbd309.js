"use strict";(self.webpackChunkjhipster_website=self.webpackChunkjhipster_website||[]).push([[7995],{42026:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>c,frontMatter:()=>o,metadata:()=>r,toc:()=>p});var i=n(74848),a=n(28453);const o={title:"Deploying to AWS with CloudCaptain",slug:"/cloudcaptain/",last_update:{date:new Date("2022-01-21T00:00:00.000Z")}},s=void 0,r={id:"production/cloudcaptain",title:"Deploying to AWS with CloudCaptain",description:"This guide show how to deploy your JHipster application to AWS using CloudCaptain.",source:"@site/docs/production/cloudcaptain.mdx",sourceDirName:"production",slug:"/cloudcaptain/",permalink:"/cloudcaptain/",draft:!1,unlisted:!1,editUrl:"https://github.com/jhipster/jhipster.github.io/tree/main/docs/production/cloudcaptain.mdx",tags:[],version:"current",lastUpdatedAt:16427232e5,frontMatter:{title:"Deploying to AWS with CloudCaptain",slug:"/cloudcaptain/",last_update:{date:"2022-01-21T00:00:00.000Z"}},sidebar:"docsSidebar",previous:{title:"Deploying to Azure",permalink:"/azure/"},next:{title:"Deploying to Clever Cloud",permalink:"/clever-cloud/"}},l={},p=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Preparing a deployment",id:"preparing-a-deployment",level:2},{value:"Deploying to AWS",id:"deploying-to-aws",level:2},{value:"Deploying updates",id:"deploying-updates",level:2},{value:"More information",id:"more-information",level:2}];function d(e){const t={a:"a",admonition:"admonition",code:"code",h2:"h2",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(t.p,{children:["This guide show how to deploy your JHipster application to AWS using ",(0,i.jsx)(t.a,{href:"https://cloudcaptain.sh/",children:"CloudCaptain"}),"."]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.a,{href:"https://cloudcaptain.sh/",children:(0,i.jsx)(t.img,{alt:"CloudCaptain",src:n(36656).A+"",width:"136",height:"100"})})}),"\n",(0,i.jsxs)(t.p,{children:["CloudCaptain comes with ",(0,i.jsx)(t.strong,{children:"first-class support for JHipster"})," and works by creating minimal immutable machine images for your application, which can then be deployed either on VirtualBox or on AWS."]}),"\n",(0,i.jsx)(t.admonition,{type:"tip",children:(0,i.jsxs)(t.p,{children:["As an alternative to CloudCaptain you can also deploy your JHipster application to AWS using ",(0,i.jsx)(t.a,{href:"/aws",children:"Elastic Beanstalk"}),"."]})}),"\n",(0,i.jsx)(t.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,i.jsxs)(t.p,{children:["To be able to deploy, you must first ",(0,i.jsx)(t.a,{href:"https://console.cloudcaptain.sh",children:"create a CloudCaptain account"})," and install the ",(0,i.jsx)(t.a,{href:"https://cloudcaptain.sh/getstarted/download",children:"CloudCaptain Client"}),"."]}),"\n",(0,i.jsxs)(t.p,{children:["You will also need to connect your AWS account in the ",(0,i.jsx)(t.a,{href:"https://console.cloudcaptain.sh",children:"CloudCaptain Console"}),"."]}),"\n",(0,i.jsx)(t.h2,{id:"preparing-a-deployment",children:"Preparing a deployment"}),"\n",(0,i.jsx)(t.p,{children:"When your application is ready, you can prepare it for deployment by typing:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-shell",children:"./mvnw package -Pprod -DskipTests\n"})}),"\n",(0,i.jsx)(t.p,{children:"Or when using gradle:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-shell",children:"./gradlew -Pprod bootJar -x test\n"})}),"\n",(0,i.jsx)(t.h2,{id:"deploying-to-aws",children:"Deploying to AWS"}),"\n",(0,i.jsx)(t.p,{children:"To deploy your application to AWS type:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-shell",children:"boxfuse run -env=prod\n"})}),"\n",(0,i.jsx)(t.p,{children:"CloudCaptain will then analyse your application, fuse a minimal machine image for it and automatically provision, configure and secure all necessary\nAWS infrastructure (instances, security groups, Elastic IPs, ELBs, MySQL or PostgreSQL RDS databases, ...)"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{children:"Creating jhipster ...\nMapping jhipster-dev-myuser.boxfuse.io to 127.0.0.1 ...\nCreated App jhipster (single-instance / postgresql)\nFusing Image for jhipster-1.0.war (JHipster) ...\nImage fused in 00:05.036s (96301 K) -> myuser/jhipster:1.0\nPushing myuser/jhipster:1.0 ...\nVerifying myuser/jhipster:1.0 ...\nCreating security group boxsg-db-myuser-prod-jhipster ...\nCreating RDS PostgreSQL database (db.t2.micro / 5 GB / single-az) => boxdb-myuser-prod-jhipster (this one-time action may take up to 10 minutes to complete) ...\nWaiting for AWS to create an AMI for myuser/jhipster:1.0 in eu-central-1 (this may take up to 50 seconds) ...\nAMI created in 00:35.564s in eu-central-1 -> ami-35fa0b5a\nWaiting for AWS to make RDS DB boxdb-myuser-prod-jhipster available ...\nDB boxdb-myuser-prod-jhipster [creating]\nDB boxdb-myuser-prod-jhipster [backing-up]\nDB boxdb-myuser-prod-jhipster [available]\nCreating security group boxsg-myuser-prod-jhipster ...\nCreating Elastic IP ...\nMapping jhipster-myuser.boxfuse.io to 52.29.78.197 ...\nCreating security group boxsg-myuser-prod-jhipster-1.0 ...\nLaunching t2.micro instance of myuser/jhipster:1.0 (ami-35fa0b5a) in prod (eu-central-1) ...\nInstance launched in 00:20.687s -> i-95d15028\nCreating Cloud Watch Alarm for Instance auto-recovery -> i-95d15028-auto-recovery-alarm\nWaiting for AWS to boot Instance i-95d15028 and Payload to start at http://54.93.63.207:8080/ ...\nPayload started in 01:29.685s -> http://54.93.63.207:8080/\nRemapping Elastic IP 52.29.78.197 to i-95d15028 ...\nWaiting 15s for AWS to complete Elastic IP Zero Downtime transition ...\nDeployment completed successfully. myuser/jhipster:1.0 is up and running at http://jhipster-myuser.boxfuse.io:8080/\n"})}),"\n",(0,i.jsxs)(t.p,{children:["Note that you didn't need to explicitly specify things like ports, healthcheck urls or database types. By default CloudCaptain auto-discovers those\nfrom your JHipster war based on your ",(0,i.jsx)(t.code,{children:"application-prod.yml"})," file and the included jars.\nYou can override those auto-discovered settings if you want to, but in most cases you won't need to."]}),"\n",(0,i.jsx)(t.h2,{id:"deploying-updates",children:"Deploying updates"}),"\n",(0,i.jsx)(t.p,{children:"To deploy an update to an existing application follow the preparation and deploy steps outlined above. All updates\nare performed as zero downtime-blue deployments."}),"\n",(0,i.jsx)(t.h2,{id:"more-information",children:"More information"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:"https://cloudcaptain.sh/getstarted/jhipster",children:"Get Started with CloudCaptain and JHipster"})}),"\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:"https://cloudcaptain.sh/docs/payloads/jhipster",children:"JHipster CloudCaptain documentation"})}),"\n"]})]})}function c(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},36656:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/logo-cloudcaptain-e6a86da2400cd08ab9938afee56a0631.png"},28453:(e,t,n)=>{n.d(t,{R:()=>s,x:()=>r});var i=n(96540);const a={},o=i.createContext(a);function s(e){const t=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),i.createElement(o.Provider,{value:t},e.children)}}}]);