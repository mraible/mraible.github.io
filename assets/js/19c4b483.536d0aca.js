"use strict";(self.webpackChunkjhipster_website=self.webpackChunkjhipster_website||[]).push([[2433],{99987:(e,o,r)=>{r.r(o),r.d(o,{assets:()=>c,contentTitle:()=>i,default:()=>l,frontMatter:()=>s,metadata:()=>p,toc:()=>a});var n=r(74848),t=r(28453);const s={title:"Configuring a corporate proxy",slug:"/configuring-a-corporate-proxy/",last_update:{date:new Date("2016-08-18T08:00:00.000Z")}},i=void 0,p={id:"environment/configuring-a-corporate-proxy",title:"Configuring a corporate proxy",description:"When JHipster is used in a company, you probably will need to configure all tools to bypass the corporate proxy.",source:"@site/docs/environment/configuring-a-corporate-proxy.mdx",sourceDirName:"environment",slug:"/configuring-a-corporate-proxy/",permalink:"/configuring-a-corporate-proxy/",draft:!1,unlisted:!1,editUrl:"https://github.com/jhipster/jhipster.github.io/tree/main/docs/environment/configuring-a-corporate-proxy.mdx",tags:[],version:"current",lastUpdatedAt:14715072e5,frontMatter:{title:"Configuring a corporate proxy",slug:"/configuring-a-corporate-proxy/",last_update:{date:"2016-08-18T08:00:00.000Z"}},sidebar:"docsSidebar",previous:{title:"Installing JHipster",permalink:"/installation/"},next:{title:"Configuring your IDE",permalink:"/configuring-ide/"}},c={},a=[{value:"Introduction",id:"introduction",level:2},{value:"NPM configuration",id:"npm-configuration",level:2},{value:"Git configuration",id:"git-configuration",level:2},{value:"Maven configuration",id:"maven-configuration",level:2},{value:"Maven Wrapper",id:"maven-wrapper",level:3},{value:"Gradle configuration",id:"gradle-configuration",level:2},{value:"Docker",id:"docker",level:2},{value:"Native Docker",id:"native-docker",level:3},{value:"Docker with docker-machine",id:"docker-with-docker-machine",level:3}];function d(e){const o={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.p,{children:"When JHipster is used in a company, you probably will need to configure all tools to bypass the corporate proxy."}),"\n",(0,n.jsxs)(o.p,{children:["You can try to configure the ",(0,n.jsx)(o.code,{children:"HTTP_PROXY"})," and ",(0,n.jsx)(o.code,{children:"HTTPS_PROXY"})," environment variables or use a tool like ",(0,n.jsx)(o.a,{href:"http://cntlm.sourceforge.net/",children:"Cntlm"}),"."]}),"\n",(0,n.jsx)(o.p,{children:"But this probably won't be enough, so you will need to configure separately all the tools that are used with JHipster."}),"\n",(0,n.jsx)(o.h2,{id:"introduction",children:"Introduction"}),"\n",(0,n.jsx)(o.p,{children:"Supposing your proxy is defined with:"}),"\n",(0,n.jsxs)(o.ul,{children:["\n",(0,n.jsx)(o.li,{children:"username"}),"\n",(0,n.jsx)(o.li,{children:"password"}),"\n",(0,n.jsx)(o.li,{children:"host"}),"\n",(0,n.jsx)(o.li,{children:"port"}),"\n"]}),"\n",(0,n.jsxs)(o.p,{children:["The resulting configuration is: ",(0,n.jsx)(o.code,{children:"http://username:password@host:port"})]}),"\n",(0,n.jsxs)(o.p,{children:["If you use ",(0,n.jsx)(o.a,{href:"http://cntlm.sourceforge.net/",children:"Cntlm"}),", then your configuration would be: ",(0,n.jsx)(o.code,{children:"127.0.0.1:3128"}),". Otherwise, follow the next steps to configure each tool individually."]}),"\n",(0,n.jsx)(o.h2,{id:"npm-configuration",children:"NPM configuration"}),"\n",(0,n.jsx)(o.p,{children:"Use these commands:"}),"\n",(0,n.jsx)(o.pre,{children:(0,n.jsx)(o.code,{className:"language-shell",children:"npm config set proxy http://username:password@host:port\nnpm config set https-proxy http://username:password@host:port\n"})}),"\n",(0,n.jsxs)(o.p,{children:["Or you can edit directly your ",(0,n.jsx)(o.code,{children:"~/.npmrc"})," file:"]}),"\n",(0,n.jsx)(o.pre,{children:(0,n.jsx)(o.code,{children:"proxy=http://username:password@host:port\nhttps-proxy=http://username:password@host:port\nhttps_proxy=http://username:password@host:port\n"})}),"\n",(0,n.jsx)(o.h2,{id:"git-configuration",children:"Git configuration"}),"\n",(0,n.jsx)(o.p,{children:"Use these commands:"}),"\n",(0,n.jsx)(o.pre,{children:(0,n.jsx)(o.code,{className:"language-shell",children:"git config --global http.proxy http://username:password@host:port\ngit config --global https.proxy http://username:password@host:port\n"})}),"\n",(0,n.jsxs)(o.p,{children:["Or you can edit directly your ",(0,n.jsx)(o.code,{children:"~/.gitconfig"})," file:"]}),"\n",(0,n.jsx)(o.pre,{children:(0,n.jsx)(o.code,{children:"[http]\n        proxy = http://username:password@host:port\n[https]\n        proxy = http://username:password@host:port\n"})}),"\n",(0,n.jsx)(o.h2,{id:"maven-configuration",children:"Maven configuration"}),"\n",(0,n.jsxs)(o.p,{children:["Edit the ",(0,n.jsx)(o.code,{children:"proxies"})," session in your ",(0,n.jsx)(o.code,{children:"~/.m2/settings.xml"})," file:"]}),"\n",(0,n.jsx)(o.pre,{children:(0,n.jsx)(o.code,{className:"language-xml",children:"<proxies>\n    <proxy>\n        <id>id</id>\n        <active>true</active>\n        <protocol>http</protocol>\n        <username>username</username>\n        <password>password</password>\n        <host>host</host>\n        <port>port</port>\n        <nonProxyHosts>local.net|some.host.com</nonProxyHosts>\n    </proxy>\n</proxies>\n"})}),"\n",(0,n.jsx)(o.h3,{id:"maven-wrapper",children:"Maven Wrapper"}),"\n",(0,n.jsxs)(o.p,{children:["Create a new file ",(0,n.jsx)(o.code,{children:".mvn/jvm.config"})," inside the project folder and set the properties accordingly:"]}),"\n",(0,n.jsx)(o.pre,{children:(0,n.jsx)(o.code,{children:"-Dhttp.proxyHost=host \n-Dhttp.proxyPort=port \n-Dhttps.proxyHost=host \n-Dhttps.proxyPort=port \n-Dhttp.proxyUser=username \n-Dhttp.proxyPassword=password\n"})}),"\n",(0,n.jsx)(o.h2,{id:"gradle-configuration",children:"Gradle configuration"}),"\n",(0,n.jsxs)(o.p,{children:["Add the below in your ",(0,n.jsx)(o.code,{children:"gradle.properties"})," file and in your ",(0,n.jsx)(o.code,{children:"gradle/wrapper/gradle-wrapper.properties"})," file if you are downloading the wrapper over a proxy"]}),"\n",(0,n.jsxs)(o.p,{children:["If you want to set these properties globally then add it in ",(0,n.jsx)(o.code,{children:"USER_HOME/.gradle/gradle.properties"})," file"]}),"\n",(0,n.jsx)(o.pre,{children:(0,n.jsx)(o.code,{className:"language-properties",children:'## Proxy setup\nsystemProp.proxySet="true"\nsystemProp.http.keepAlive="true"\nsystemProp.http.proxyHost=host\nsystemProp.http.proxyPort=port\nsystemProp.http.proxyUser=username\nsystemProp.http.proxyPassword=password\nsystemProp.http.nonProxyHosts=local.net|some.host.com\n\nsystemProp.https.keepAlive="true"\nsystemProp.https.proxyHost=host\nsystemProp.https.proxyPort=port\nsystemProp.https.proxyUser=username\nsystemProp.https.proxyPassword=password\nsystemProp.https.nonProxyHosts=local.net|some.host.com\n## end of proxy setup\n'})}),"\n",(0,n.jsx)(o.h2,{id:"docker",children:"Docker"}),"\n",(0,n.jsx)(o.h3,{id:"native-docker",children:"Native Docker"}),"\n",(0,n.jsxs)(o.p,{children:["Depending on your OS, you have to edit a specific file (",(0,n.jsx)(o.code,{children:"/etc/sysconfig/docker"})," or ",(0,n.jsx)(o.code,{children:"/etc/default/docker"}),")."]}),"\n",(0,n.jsxs)(o.p,{children:["Then, you have to restart the docker service with: ",(0,n.jsx)(o.code,{children:"sudo service docker restart"}),"."]}),"\n",(0,n.jsxs)(o.p,{children:["It will not apply to systemd. See this ",(0,n.jsx)(o.a,{href:"https://docs.docker.com/engine/admin/systemd/#http-proxy",children:"page from docker"}),"\nto configure the proxy."]}),"\n",(0,n.jsx)(o.h3,{id:"docker-with-docker-machine",children:"Docker with docker-machine"}),"\n",(0,n.jsx)(o.p,{children:"You can create your docker-machine with:"}),"\n",(0,n.jsx)(o.pre,{children:(0,n.jsx)(o.code,{className:"language-shell",children:"docker-machine create -d virtualbox \\\n    --engine-env HTTP_PROXY=http://username:password@host:port \\\n    --engine-env HTTPS_PROXY=http://username:password@host:port \\\n    default\n"})}),"\n",(0,n.jsxs)(o.p,{children:["Or you can edit the file ",(0,n.jsx)(o.code,{children:"~/.docker/machine/machines/default/config.json"}),"."]})]})}function l(e={}){const{wrapper:o}={...(0,t.R)(),...e.components};return o?(0,n.jsx)(o,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},28453:(e,o,r)=>{r.d(o,{R:()=>i,x:()=>p});var n=r(96540);const t={},s=n.createContext(t);function i(e){const o=n.useContext(s);return n.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function p(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),n.createElement(s.Provider,{value:o},e.children)}}}]);