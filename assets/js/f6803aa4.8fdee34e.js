"use strict";(self.webpackChunkjhipster_website=self.webpackChunkjhipster_website||[]).push([[1780],{39582:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>r,metadata:()=>a,toc:()=>c});var t=n(74848),s=n(28453);const r={title:"Filtering your entities",slug:"/entities-filtering/",last_update:{date:new Date("2017-08-22T00:00:00.000Z")}},l=void 0,a={id:"options/entities-filtering",title:"Filtering your entities",description:"Introduction",source:"@site/docs/options/entities-filtering.mdx",sourceDirName:"options",slug:"/entities-filtering/",permalink:"/entities-filtering/",draft:!1,unlisted:!1,editUrl:"https://github.com/jhipster/jhipster.github.io/tree/main/docs/options/entities-filtering.mdx",tags:[],version:"current",lastUpdatedAt:150336e7,frontMatter:{title:"Filtering your entities",slug:"/entities-filtering/",last_update:{date:"2017-08-22T00:00:00.000Z"}},sidebar:"docsSidebar",previous:{title:"Securing your app",permalink:"/security/"},next:{title:"Using Elasticsearch",permalink:"/using-elasticsearch/"}},o={},c=[{value:"Introduction",id:"introduction",level:2},{value:"How to activate",id:"how-to-activate",level:2},{value:"Public interface",id:"public-interface",level:2},{value:"Implementation",id:"implementation",level:2},{value:"Angular",id:"angular",level:3},{value:"Limitations",id:"limitations",level:2}];function d(e){const i={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.h2,{id:"introduction",children:"Introduction"}),"\n",(0,t.jsx)(i.p,{children:"After the basic CRUD functionalities are implemented for an entity, there is a very common request to create various filters for the attributes of the entity,\nso the server could be used more effectively. These filters should be sent as the request parameters, so any client - and any browser - could use it.\nAdditionally, these filters should follow a reasonable, and concise pattern, and they must be allowed combining them freely."}),"\n",(0,t.jsx)(i.h2,{id:"how-to-activate",children:"How to activate"}),"\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.em,{children:"Note"}),": ",(0,t.jsx)(i.code,{children:"filter"})," is not compatible with ",(0,t.jsx)(i.code,{children:"reactive"}),".\nWhen generating an entity with ",(0,t.jsx)(i.code,{children:"jhipster entity"})," command, select services or service implementation to enable filtering on this entity."]}),"\n",(0,t.jsxs)(i.p,{children:["If you want to enable filtering for existing entities, you can modify the entity configuration in your projects ",(0,t.jsx)(i.code,{children:".jhipster"})," directory, by setting ",(0,t.jsx)(i.code,{children:"service"})," to ",(0,t.jsx)(i.code,{children:"serviceClass"})," or ",(0,t.jsx)(i.code,{children:"serviceImpl"})," from ",(0,t.jsx)(i.code,{children:"no"}),", and ",(0,t.jsx)(i.code,{children:"jpaMetamodelFiltering"})," to ",(0,t.jsx)(i.code,{children:"true"})," and then re-generate with ",(0,t.jsx)(i.code,{children:"jhipster entity <entity name>"}),"."]}),"\n",(0,t.jsxs)(i.p,{children:["When using JDL, add a line ",(0,t.jsx)(i.code,{children:"filter <entity name>"})," to your JDL file and re-import the definitions with ",(0,t.jsx)(i.code,{children:"jhipster jdl"})," command."]}),"\n",(0,t.jsx)(i.h2,{id:"public-interface",children:"Public interface"}),"\n",(0,t.jsxs)(i.p,{children:["For each entity, you can enable filtering in the entity generator, and after, you can call your ",(0,t.jsx)(i.code,{children:"/api/my-entity"})," GET endpoint with the following parameters :"]}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:["For each ",(0,t.jsx)(i.em,{children:"xyz"})," field","\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.em,{children:"xyz.equals=someValue"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"To list all the entities, where xyz equals to 'someValue'"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.em,{children:"xyz.in=someValue,otherValue"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"To list all the entities, where xyz equals to 'someValue' or 'otherValue'"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.em,{children:"xyz.specified=true"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"To list all the entities, where xyz is not null, specified."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.em,{children:"xyz.specified=false"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"To list all the entities, where xyz is null, unspecified."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["If ",(0,t.jsx)(i.em,{children:"xyz"}),"'s type is string:","\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.em,{children:"xyz.contains=something"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"To list all the entities, where xyz contains 'something'."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["If ",(0,t.jsx)(i.em,{children:"xyz"}),"'s is either any of the number types, or the date types.","\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.em,{children:"xyz.greaterThan=someValue"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"To list all the entities, where xyz is greater than 'someValue'."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.em,{children:"xyz.lessThan=someValue"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"To list all the entities, where xyz is less than 'someValue'."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.em,{children:"xyz.greaterThanOrEqual=someValue"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"To list all the entities, where xyz is greater than or equal to 'someValue'."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.em,{children:"xyz.lessThanOrEqual=someValue"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"To list all the entities, where xyz is less than or equal to 'someValue'."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:"They can be combined freely."}),"\n",(0,t.jsx)(i.p,{children:"A good way to experience the expressiveness of this filter API is to use it from swagger-ui in the API docs page of your JHipster application."}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{src:n(32276).A+"",width:"1272",height:"933"})}),"\n",(0,t.jsx)(i.h2,{id:"implementation",children:"Implementation"}),"\n",(0,t.jsxs)(i.p,{children:["When this feature is enabled, a new service named as ",(0,t.jsx)(i.code,{children:"EntityQueryService"})," and an ",(0,t.jsx)(i.code,{children:"EntityCriteria"})," is generated. Spring will convert the request parameters into the fields of the ",(0,t.jsx)(i.code,{children:"EntityCriteria"})," class."]}),"\n",(0,t.jsxs)(i.p,{children:["In the ",(0,t.jsx)(i.code,{children:"EntityQueryService"}),", we convert the criteria object into a static, and type safe, JPA query object. For this, it is ",(0,t.jsx)(i.strong,{children:"required"})," that the ",(0,t.jsx)(i.strong,{children:"static metamodel generation is enabled"})," in the build. See the ",(0,t.jsx)(i.a,{href:"https://docs.jboss.org/hibernate/orm/current/userguide/html_single/Hibernate_User_Guide.html#tooling-modelgen",children:"JPA Static Metamodel Generator documentation"})," for details."]}),"\n",(0,t.jsxs)(i.p,{children:["To prove that the generated criteria is working, and Spring is well configured, the ",(0,t.jsx)(i.code,{children:"EntityResourceIntTest"})," is extended with lots of test cases, one for each individual filter."]}),"\n",(0,t.jsx)(i.h3,{id:"angular",children:"Angular"}),"\n",(0,t.jsx)(i.p,{children:"When using Angular, the proper way to take advantage of this useful feature would look like this:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:["Equals (same applies for ",(0,t.jsx)(i.code,{children:"contains"})," and ",(0,t.jsx)(i.code,{children:"notEquals"}),")"]}),"\n"]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-js",children:"this.bookService.query({'title.equals':someValue}).subscribe(...);\n"})}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:["greaterThan (same applies for ",(0,t.jsx)(i.code,{children:"lessThan"}),", ",(0,t.jsx)(i.code,{children:"greaterThanOrEqual"})," and ",(0,t.jsx)(i.code,{children:"lessThanOrEqual"})," when using ",(0,t.jsx)(i.code,{children:"date"})," and ",(0,t.jsx)(i.code,{children:"number"})," data types)"]}),"\n"]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-js",children:"this.bookService.query({'id.greaterThan':value}).subscribe(...);\nthis.bookService.query({'birthday.lessThanOrEqual':value}).subscribe(...);\n"})}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:["In (same applies for ",(0,t.jsx)(i.code,{children:"notIn"}),")"]}),"\n"]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-js",children:"this.bookService.query({'id.in':[value1, value2]}).subscribe(...);\n"})}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Specified"}),"\n"]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-js",children:"this.bookService.query({'author.specified':true}).subscribe(...);\n"})}),"\n",(0,t.jsx)(i.h2,{id:"limitations",children:"Limitations"}),"\n",(0,t.jsx)(i.p,{children:"Currently only SQL databases (with JPA) is supported, with the separate service or separate service implementation/interface combination."})]})}function h(e={}){const{wrapper:i}={...(0,s.R)(),...e.components};return i?(0,t.jsx)(i,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},32276:(e,i,n)=>{n.d(i,{A:()=>t});const t=n.p+"assets/images/entities_filtering_swagger-dfde8e808af7cb2e4645e9a06dcb91c3.png"},28453:(e,i,n)=>{n.d(i,{R:()=>l,x:()=>a});var t=n(96540);const s={},r=t.createContext(s);function l(e){const i=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function a(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),t.createElement(r.Provider,{value:i},e.children)}}}]);