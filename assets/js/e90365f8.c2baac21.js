"use strict";(self.webpackChunkjhipster_website=self.webpackChunkjhipster_website||[]).push([[3211],{49072:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>a,contentTitle:()=>o,default:()=>l,frontMatter:()=>r,metadata:()=>c,toc:()=>d});var i=s(74848),n=s(28453);const r={title:"Enable cross origin HTTP requests",slug:"/tips/006_tips_enable_cross_origin_requests.html",last_update:{date:new Date("2015-07-30T18:40:00.000Z")}},o=void 0,c={id:"tips/tips_enable_cross_origin_requests",title:"Enable cross origin HTTP requests",description:"/!\\ This tip is deprecated since JHipster v3.0",source:"@site/docs/tips/006_tips_enable_cross_origin_requests.mdx",sourceDirName:"tips",slug:"/tips/006_tips_enable_cross_origin_requests.html",permalink:"/tips/006_tips_enable_cross_origin_requests.html",draft:!1,unlisted:!1,editUrl:"https://github.com/jhipster/jhipster.github.io/tree/main/docs/tips/006_tips_enable_cross_origin_requests.mdx",tags:[],version:"current",lastUpdatedAt:14382816e5,sidebarPosition:6,frontMatter:{title:"Enable cross origin HTTP requests",slug:"/tips/006_tips_enable_cross_origin_requests.html",last_update:{date:"2015-07-30T18:40:00.000Z"}}},a={},d=[{value:"/!\\ This tip is deprecated since JHipster v3.0",id:"-this-tip-is-deprecated-since-jhipster-v30",level:2},{value:"Modify the SecurityConfiguration",id:"modify-the-securityconfiguration",level:2},{value:"Adapt the HTTP response headers",id:"adapt-the-http-response-headers",level:2}];function h(e){const t={a:"a",code:"code",h2:"h2",li:"li",ol:"ol",p:"p",strong:"strong",...(0,n.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.h2,{id:"-this-tip-is-deprecated-since-jhipster-v30",children:"/!\\ This tip is deprecated since JHipster v3.0"}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsxs)(t.strong,{children:["Tip submitted by ",(0,i.jsx)(t.a,{href:"https://github.com/tomcgn",children:"@tomcgn"})]})}),"\n",(0,i.jsxs)(t.p,{children:["You might want to use the nice out-of-the-box API to integrate your application into existing websites.\nOne approach could be to use ",(0,i.jsx)(t.a,{href:"https://github.com/knockout/knockout",children:"Knockout"})," to bind your entities with ease and render the entity on e.g. your blog, being served from your JHipster application."]}),"\n",(0,i.jsx)(t.p,{children:"Two aspects need to be changed in the standard JHipster code in order to use the API from simple HTML/AJAX clients:"}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsxs)(t.li,{children:["Configure the ",(0,i.jsx)(t.code,{children:"SecurityConfiguration"})]}),"\n",(0,i.jsx)(t.li,{children:"Tell the browsers of the users that visit the 3rd party site that uses the API that your app permits the origin of that request."}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"modify-the-securityconfiguration",children:"Modify the SecurityConfiguration"}),"\n",(0,i.jsxs)(t.p,{children:["In method ",(0,i.jsx)(t.code,{children:"SecurityConfiguration.configure(HttpSecurity http)"})," , add new directives as needed in the ",(0,i.jsx)(t.code,{children:".and().authorizeRequests()"})," part, e.g. :"]}),"\n",(0,i.jsx)(t.p,{children:'.antMatchers("/api/_search/meetings/**").permitAll()\n.antMatchers("/api/_search/meetings").permitAll()`'}),"\n",(0,i.jsxs)(t.p,{children:["Of course you can make use of ",(0,i.jsx)(t.code,{children:".hasAuthority()"})," and ",(0,i.jsx)(t.code,{children:".authenticated()"})," to make your thinst-client a bit more dynamic."]}),"\n",(0,i.jsx)(t.h2,{id:"adapt-the-http-response-headers",children:"Adapt the HTTP response headers"}),"\n",(0,i.jsxs)(t.p,{children:["You need to add the following directives to the ",(0,i.jsx)(t.code,{children:"CsrfCookieGeneratorFilter"})," :"]}),"\n",(0,i.jsxs)(t.p,{children:["In method ",(0,i.jsx)(t.code,{children:"doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException"})]}),"\n",(0,i.jsx)(t.p,{children:'response.addHeader("Access-Control-Allow-Origin", "*");\nresponse.setHeader("Access-Control-Allow-Methods", "POST, GET, OPTIONS, DELETE");\nresponse.setHeader("Access-Control-Max-Age", "86400"); // 24 Hours\nresponse.setHeader("Access-Control-Allow-Headers", "Origin, X-Requested-With, Content-Type, Accept, x-auth-token");'})]})}function l(e={}){const{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},28453:(e,t,s)=>{s.d(t,{R:()=>o,x:()=>c});var i=s(96540);const n={},r=i.createContext(n);function o(e){const t=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:o(e.components),i.createElement(r.Provider,{value:t},e.children)}}}]);