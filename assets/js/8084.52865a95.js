"use strict";(self.webpackChunkjhipster_website=self.webpackChunkjhipster_website||[]).push([[8084],{78084:(e,t,n)=>{n.r(t),n.d(t,{BarChart:()=>at,BoxplotChart:()=>ar,CandlestickChart:()=>Cr,CustomChart:()=>Fl,EffectScatterChart:()=>Rr,FunnelChart:()=>lo,GaugeChart:()=>to,GraphChart:()=>ji,HeatmapChart:()=>ss,LineChart:()=>Ie,LinesChart:()=>es,MapChart:()=>on,ParallelChart:()=>bo,PictorialBarChart:()=>Ts,PieChart:()=>Dt,RadarChart:()=>jt,SankeyChart:()=>Fo,ScatterChart:()=>kt,SunburstChart:()=>Qs,ThemeRiverChart:()=>ks,TreeChart:()=>ea,TreemapChart:()=>Za});var a=n(74179),i=n(98026),o=n(6006),r=n(13430),s=n(22759),l=n(34310),u=n(70250),d=n(48170),h=n(23071),c=n(73632);function p(e,t){(0,l.tP)(e)||(e=(0,l.AF)(e));var n=(t=t||{}).coordDimensions||[],a=t.dimensionsDefine||e.dimensionsDefine||[],o=(0,i.nt)(),p=[],f=function(e,t,n,a){var o=Math.max(e.dimensionsDetectedCount||1,t.length,n.length,a||0);return(0,i.__)(t,(function(e){var t;(0,i.Gv)(e)&&(t=e.dimsDef)&&(o=Math.max(o,t.length))})),o}(e,n,a,t.dimensionsCount),y=t.canOmitUnusedDimensions&&(0,c.eS)(f),m=a===e.dimensionsDefine,v=m?(0,c.j_)(e):(0,c.io)(a),x=t.encodeDefine;!x&&t.encodeDefaulter&&(x=t.encodeDefaulter(e,f));for(var _=(0,i.nt)(x),b=new u.A_(f),S=0;S<b.length;S++)b[S]=-1;function I(e){var t=b[e];if(t<0){var n=a[e],o=(0,i.Gv)(n)?n:{name:n},r=new s.A,l=o.name;null!=l&&null!=v.get(l)&&(r.name=r.displayName=l),null!=o.type&&(r.type=o.type),null!=o.displayName&&(r.displayName=o.displayName);var u=p.length;return b[e]=u,r.storeDimIndex=e,p.push(r),r}return p[t]}if(!y)for(S=0;S<f;S++)I(S);_.each((function(e,t){var n=(0,d.qB)(e).slice();if(1===n.length&&!(0,i.Kg)(n[0])&&n[0]<0)_.set(t,!1);else{var a=_.set(t,[]);(0,i.__)(n,(function(e,n){var o=(0,i.Kg)(e)?v.get(e):e;null!=o&&o<f&&(a[n]=o,A(I(o),t,n))}))}}));var w=0;function A(e,t,n){null!=r.Pe.get(t)?e.otherDims[t]=n:(e.coordDim=t,e.coordDimIndex=n,o.set(t,!0))}(0,i.__)(n,(function(e){var t,n,a,o;if((0,i.Kg)(e))t=e,o={};else{t=(o=e).name;var r=o.ordinalMeta;o.ordinalMeta=null,(o=(0,i.X$)({},o)).ordinalMeta=r,n=o.dimsDef,a=o.otherDims,o.name=o.coordDim=o.coordDimIndex=o.dimsDef=o.otherDims=null}var s=_.get(t);if(!1!==s){if(!(s=(0,d.qB)(s)).length)for(var l=0;l<(n&&n.length||1);l++){for(;w<f&&null!=I(w).coordDim;)w++;w<f&&s.push(w++)}(0,i.__)(s,(function(e,r){var s=I(e);if(m&&null!=o.type&&(s.type=o.type),A((0,i.NT)(s,o),t,r),null==s.name&&n){var l=n[r];!(0,i.Gv)(l)&&(l={name:l}),s.name=s.displayName=l.name,s.defaultTooltip=l.defaultTooltip}a&&(0,i.NT)(s.otherDims,a)}))}}));var M=t.generateCoord,D=t.generateCoordCount,L=null!=D;D=M?D||1:0;var C=M||"value";function T(e){null==e.name&&(e.name=e.coordDim)}if(y)(0,i.__)(p,(function(e){T(e)})),p.sort((function(e,t){return e.storeDimIndex-t.storeDimIndex}));else for(var N=0;N<f;N++){var P=I(N);null==P.coordDim&&(P.coordDim=g(C,o,L),P.coordDimIndex=0,(!M||D<=0)&&(P.isExtraCoord=!0),D--),T(P),null!=P.type||(0,h.PU)(e,N)!==h.sc.Must&&(!P.isExtraCoord||null==P.otherDims.itemName&&null==P.otherDims.seriesName)||(P.type="ordinal")}return function(e){for(var t=(0,i.nt)(),n=0;n<e.length;n++){var a=e[n],o=a.name,r=t.get(o)||0;r>0&&(a.name=o+(r-1)),r++,t.set(o,r)}}(p),new c.Tc({source:e,dimensions:p,fullDimensionCount:f,dimensionOmitted:y})}function g(e,t,n){if(n||t.hasKey(e)){for(var a=0;t.hasKey(e+a);)a++;e+=a}return t.set(e,!0),e}var f=n(29756),y=n(89737),m=function(e){this.coordSysDims=[],this.axisMap=(0,i.nt)(),this.categoryAxisMap=(0,i.nt)(),this.coordSysName=e};var v={cartesian2d:function(e,t,n,a){var i=e.getReferringComponents("xAxis",d.US).models[0],o=e.getReferringComponents("yAxis",d.US).models[0];t.coordSysDims=["x","y"],n.set("x",i),n.set("y",o),x(i)&&(a.set("x",i),t.firstCategoryDimIndex=0),x(o)&&(a.set("y",o),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=1))},singleAxis:function(e,t,n,a){var i=e.getReferringComponents("singleAxis",d.US).models[0];t.coordSysDims=["single"],n.set("single",i),x(i)&&(a.set("single",i),t.firstCategoryDimIndex=0)},polar:function(e,t,n,a){var i=e.getReferringComponents("polar",d.US).models[0],o=i.findAxisModel("radiusAxis"),r=i.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],n.set("radius",o),n.set("angle",r),x(o)&&(a.set("radius",o),t.firstCategoryDimIndex=0),x(r)&&(a.set("angle",r),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=1))},geo:function(e,t,n,a){t.coordSysDims=["lng","lat"]},parallel:function(e,t,n,a){var o=e.ecModel,r=o.getComponent("parallel",e.get("parallelIndex")),s=t.coordSysDims=r.dimensions.slice();(0,i.__)(r.parallelAxisIndex,(function(e,i){var r=o.getComponent("parallelAxis",e),l=s[i];n.set(l,r),x(r)&&(a.set(l,r),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=i))}))}};function x(e){return"category"===e.get("type")}var _=n(65008);const b=function(e,t,n){n=n||{};var a,s=t.getSourceManager(),u=!1;e?(u=!0,a=(0,l.AF)(e)):u=(a=s.getSource()).sourceFormat===r.mK;var c=function(e){var t=e.get("coordinateSystem"),n=new m(t),a=v[t];if(a)return a(e,n,n.axisMap,n.categoryAxisMap),n}(t),g=function(e,t){var n,a=e.get("coordinateSystem"),o=y.A.get(a);return t&&t.coordSysDims&&(n=i.Tj(t.coordSysDims,(function(e){var n={name:e},a=t.axisMap.get(e);if(a){var i=a.get("type");n.type=(0,f.B)(i)}return n}))),n||(n=o&&(o.getDimensionsInfo?o.getDimensionsInfo():o.dimensions.slice())||["x","y"]),n}(t,c),x=n.useEncodeDefaulter,b=i.Tn(x)?x:x?i.cF(h.OC,g,t):null,S=p(a,{coordDimensions:g,generateCoord:n.generateCoord,encodeDefine:t.getEncode(),encodeDefaulter:b,canOmitUnusedDimensions:!u}),I=function(e,t,n){var a,o;return n&&i.__(e,(function(e,i){var r=e.coordDim,s=n.categoryAxisMap.get(r);s&&(null==a&&(a=i),e.ordinalMeta=s.getOrdinalMeta(),t&&(e.createInvertedIndices=!0)),null!=e.otherDims.itemName&&(o=!0)})),o||null==a||(e[a].otherDims.itemName=0),a}(S.dimensions,n.createInvertedIndices,c),w=u?null:s.getSharedDataStore(S),A=(0,_.iJ)(t,{schema:S,store:w}),M=new o.A(S,t);M.setCalculationInfo(A);var D=null!=I&&function(e){if(e.sourceFormat===r.mK){var t=function(e){var t=0;for(;t<e.length&&null==e[t];)t++;return e[t]}(e.data||[]);return!i.cy((0,d.vj)(t))}}(a)?function(e,t,n,a){return a===I?n:this.defaultDimValueGetter(e,t,n,a)}:null;return M.hasItemOption=!1,M.initData(u?a:w,null,D),M};var S=n(47355),I=n(62103),w=n(43870),A=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return(0,a.C6)(t,e),t.prototype.getInitialData=function(e){return b(null,this,{useEncodeDefaulter:!0})},t.prototype.getLegendIcon=function(e){var t=new w.A,n=(0,I.v5)("line",0,e.itemHeight/2,e.itemWidth,0,e.lineStyle.stroke,!1);t.add(n),n.setStyle(e.lineStyle);var a=this.getData().getVisual("symbol"),i=this.getData().getVisual("symbolRotate"),o="none"===a?"circle":a,r=.8*e.itemHeight,s=(0,I.v5)(o,(e.itemWidth-r)/2,(e.itemHeight-r)/2,r,r,e.itemStyle.fill);t.add(s),s.setStyle(e.itemStyle);var l="inherit"===e.iconRotate?i:e.iconRotate||0;return s.rotation=l*Math.PI/180,s.setOrigin([e.itemWidth/2,e.itemHeight/2]),o.indexOf("empty")>-1&&(s.style.stroke=s.style.fill,s.style.fill="#fff",s.style.lineWidth=2),t},t.type="series.line",t.dependencies=["grid","polar"],t.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},t}(S.A);const M=A;var D=n(96005),L=n(10128);function C(e,t,n){var a=e.getBaseAxis(),o=e.getOtherAxis(a),r=function(e,t){var n=0,a=e.scale.getExtent();"start"===t?n=a[0]:"end"===t?n=a[1]:(0,i.Et)(t)&&!isNaN(t)?n=t:a[0]>0?n=a[0]:a[1]<0&&(n=a[1]);return n}(o,n),s=a.dim,l=o.dim,u=t.mapDimension(l),d=t.mapDimension(s),h="x"===l||"radius"===l?1:0,c=(0,i.Tj)(e.dimensions,(function(e){return t.mapDimension(e)})),p=!1,g=t.getCalculationInfo("stackResultDimension");return(0,_.sJ)(t,c[0])&&(p=!0,c[0]=g),(0,_.sJ)(t,c[1])&&(p=!0,c[1]=g),{dataDimsForPoint:c,valueStart:r,valueAxisDim:l,baseAxisDim:s,stacked:!!p,valueDim:u,baseDim:d,baseDataOffset:h,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function T(e,t,n,a){var i=NaN;e.stacked&&(i=n.get(n.getCalculationInfo("stackedOverDimension"),a)),isNaN(i)&&(i=e.valueStart);var o=e.baseDataOffset,r=[];return r[o]=n.get(e.baseDim,a),r[1-o]=i,t.dataToPoint(r)}var N=n(8957);var P=n(29668),E=n(5638),R=n(82980),V=n(5070),k=n(68717),z=n(89259),O=Math.min,G=Math.max;function B(e,t){return isNaN(e)||isNaN(t)}function W(e,t,n,a,i,o,r,s,l){for(var u,d,h,c,p,g,f=n,y=0;y<a;y++){var m=t[2*f],v=t[2*f+1];if(f>=i||f<0)break;if(B(m,v)){if(l){f+=o;continue}break}if(f===n)e[o>0?"moveTo":"lineTo"](m,v),h=m,c=v;else{var x=m-u,_=v-d;if(x*x+_*_<.5){f+=o;continue}if(r>0){for(var b=f+o,S=t[2*b],I=t[2*b+1];S===m&&I===v&&y<a;)y++,f+=o,S=t[2*(b+=o)],I=t[2*b+1],x=(m=t[2*f])-u,_=(v=t[2*f+1])-d;var w=y+1;if(l)for(;B(S,I)&&w<a;)w++,S=t[2*(b+=o)],I=t[2*b+1];var A=.5,M=0,D=0,L=void 0,C=void 0;if(w>=a||B(S,I))p=m,g=v;else{M=S-u,D=I-d;var T=m-u,N=S-m,P=v-d,E=I-v,R=void 0,V=void 0;if("x"===s){var k=M>0?1:-1;p=m-k*(R=Math.abs(T))*r,g=v,L=m+k*(V=Math.abs(N))*r,C=v}else if("y"===s){var z=D>0?1:-1;p=m,g=v-z*(R=Math.abs(P))*r,L=m,C=v+z*(V=Math.abs(E))*r}else R=Math.sqrt(T*T+P*P),p=m-M*r*(1-(A=(V=Math.sqrt(N*N+E*E))/(V+R))),g=v-D*r*(1-A),C=v+D*r*A,L=O(L=m+M*r*A,G(S,m)),C=O(C,G(I,v)),L=G(L,O(S,m)),g=v-(D=(C=G(C,O(I,v)))-v)*R/V,p=O(p=m-(M=L-m)*R/V,G(u,m)),g=O(g,G(d,v)),L=m+(M=m-(p=G(p,O(u,m))))*V/R,C=v+(D=v-(g=G(g,O(d,v))))*V/R}e.bezierCurveTo(h,c,p,g,m,v),h=L,c=C}else e.lineTo(m,v)}u=m,d=v,f+=o}return y}var F=function(){this.smooth=0,this.smoothConstraint=!0},X=function(e){function t(t){var n=e.call(this,t)||this;return n.type="ec-polyline",n}return(0,a.C6)(t,e),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new F},t.prototype.buildPath=function(e,t){var n=t.points,a=0,i=n.length/2;if(t.connectNulls){for(;i>0&&B(n[2*i-2],n[2*i-1]);i--);for(;a<i&&B(n[2*a],n[2*a+1]);a++);}for(;a<i;)a+=W(e,n,a,i,i,1,t.smooth,t.smoothMonotone,t.connectNulls)+1},t.prototype.getPointOn=function(e,t){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var n,a,i=this.path.data,o=k.A.CMD,r="x"===t,s=[],l=0;l<i.length;){var u=void 0,d=void 0,h=void 0,c=void 0,p=void 0,g=void 0,f=void 0;switch(i[l++]){case o.M:n=i[l++],a=i[l++];break;case o.L:if(u=i[l++],d=i[l++],(f=r?(e-n)/(u-n):(e-a)/(d-a))<=1&&f>=0){var y=r?(d-a)*f+a:(u-n)*f+n;return r?[e,y]:[y,e]}n=u,a=d;break;case o.C:u=i[l++],d=i[l++],h=i[l++],c=i[l++],p=i[l++],g=i[l++];var m=r?(0,z._E)(n,u,h,p,e,s):(0,z._E)(a,d,c,g,e,s);if(m>0)for(var v=0;v<m;v++){var x=s[v];if(x<=1&&x>=0){y=r?(0,z.Yb)(a,d,c,g,x):(0,z.Yb)(n,u,h,p,x);return r?[e,y]:[y,e]}}n=p,a=g}}},t}(V.Ay),Y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.C6)(t,e),t}(F),H=function(e){function t(t){var n=e.call(this,t)||this;return n.type="ec-polygon",n}return(0,a.C6)(t,e),t.prototype.getDefaultShape=function(){return new Y},t.prototype.buildPath=function(e,t){var n=t.points,a=t.stackedOnPoints,i=0,o=n.length/2,r=t.smoothMonotone;if(t.connectNulls){for(;o>0&&B(n[2*o-2],n[2*o-1]);o--);for(;i<o&&B(n[2*i],n[2*i+1]);i++);}for(;i<o;){var s=W(e,n,i,o,o,1,t.smooth,r,t.connectNulls);W(e,a,i+s-1,s,o,-1,t.stackedOnSmooth,r,t.connectNulls),i+=s+1,e.closePath()}},t}(V.Ay),U=n(6666),j=n(10992),q=n(59975),Z=n(24326);function $(e,t,n,a,o){var r=e.getArea(),s=r.x,l=r.y,u=r.width,d=r.height,h=n.get(["lineStyle","width"])||2;s-=h/2,l-=h/2,u+=h,d+=h,u=Math.ceil(u),s!==Math.floor(s)&&(s=Math.floor(s),u++);var c=new j.A({shape:{x:s,y:l,width:u,height:d}});if(t){var p=e.getBaseAxis(),g=p.isHorizontal(),f=p.inverse;g?(f&&(c.shape.x+=u),c.shape.width=0):(f||(c.shape.y+=d),c.shape.height=0);var y=(0,i.Tn)(o)?function(e){o(e,c)}:null;E.LW(c,{shape:{width:u,height:d,x:s,y:l}},n,null,a,y)}return c}function K(e,t,n){var a=e.getArea(),i=(0,Z.LI)(a.r0,1),o=(0,Z.LI)(a.r,1),r=new q.A({shape:{cx:(0,Z.LI)(e.cx,1),cy:(0,Z.LI)(e.cy,1),r0:i,r:o,startAngle:a.startAngle,endAngle:a.endAngle,clockwise:a.clockwise}});t&&("angle"===e.getBaseAxis().dim?r.shape.endAngle=a.startAngle:r.shape.r=i,E.LW(r,{shape:{endAngle:a.endAngle,r:o}},n));return r}function J(e,t,n,a,i){return e?"polar"===e.type?K(e,t,n):"cartesian2d"===e.type?$(e,t,n,a,i):null:null}var Q=n(41849),ee=n(34833),te=n(89632),ne=n(44532),ae=n(69622),ie=n(83412),oe=n(47698);function re(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return;return!0}}function se(e){for(var t=1/0,n=1/0,a=-1/0,i=-1/0,o=0;o<e.length;){var r=e[o++],s=e[o++];isNaN(r)||(t=Math.min(r,t),a=Math.max(r,a)),isNaN(s)||(n=Math.min(s,n),i=Math.max(s,i))}return[[t,n],[a,i]]}function le(e,t){var n=se(e),a=n[0],i=n[1],o=se(t),r=o[0],s=o[1];return Math.max(Math.abs(a[0]-r[0]),Math.abs(a[1]-r[1]),Math.abs(i[0]-s[0]),Math.abs(i[1]-s[1]))}function ue(e){return i.Et(e)?e:e?.5:0}function de(e,t,n,a){var i=t.getBaseAxis(),o="x"===i.dim||"radius"===i.dim?0:1,r=[],s=0,l=[],u=[],d=[],h=[];if(a){for(s=0;s<e.length;s+=2)isNaN(e[s])||isNaN(e[s+1])||h.push(e[s],e[s+1]);e=h}for(s=0;s<e.length-2;s+=2)switch(d[0]=e[s+2],d[1]=e[s+3],u[0]=e[s],u[1]=e[s+1],r.push(u[0],u[1]),n){case"end":l[o]=d[o],l[1-o]=u[1-o],r.push(l[0],l[1]);break;case"middle":var c=(u[o]+d[o])/2,p=[];l[o]=p[o]=c,l[1-o]=u[1-o],p[1-o]=d[1-o],r.push(l[0],l[1]),r.push(p[0],p[1]);break;default:l[o]=u[o],l[1-o]=d[1-o],r.push(l[0],l[1])}return r.push(e[s++],e[s++]),r}function he(e,t,n){var a=e.getVisual("visualMeta");if(a&&a.length&&e.count()&&"cartesian2d"===t.type){for(var o,r,s=a.length-1;s>=0;s--){var l=e.getDimensionInfo(a[s].dimension);if("x"===(o=l&&l.coordDim)||"y"===o){r=a[s];break}}if(r){var u=t.getAxis(o),d=i.Tj(r.stops,(function(e){return{coord:u.toGlobalCoord(u.dataToCoord(e.value)),color:e.color}})),h=d.length,c=r.outerColors.slice();h&&d[0].coord>d[h-1].coord&&(d.reverse(),c.reverse());var p=function(e,t){var n,a,i=[],o=e.length;function r(e,t,n){var a=e.coord,i=(n-a)/(t.coord-a);return{coord:n,color:(0,oe.Cc)(i,[e.color,t.color])}}for(var s=0;s<o;s++){var l=e[s],u=l.coord;if(u<0)n=l;else{if(u>t){a?i.push(r(a,l,t)):n&&i.push(r(n,l,0),r(n,l,t));break}n&&(i.push(r(n,l,0)),n=null),i.push(l),a=l}}return i}(d,"x"===o?n.getWidth():n.getHeight()),g=p.length;if(!g&&h)return d[0].coord<0?c[1]?c[1]:d[h-1].color:c[0]?c[0]:d[0].color;var f=p[0].coord-10,y=p[g-1].coord+10,m=y-f;if(m<.001)return"transparent";i.__(p,(function(e){e.offset=(e.coord-f)/m})),p.push({offset:g?p[g-1].offset:.5,color:c[1]||"transparent"}),p.unshift({offset:g?p[0].offset:.5,color:c[0]||"transparent"});var v=new P.A(0,0,0,0,p,!0);return v[o]=f,v[o+"2"]=y,v}}}function ce(e,t,n){var a=e.get("showAllSymbol"),o="auto"===a;if(!a||o){var r=n.getAxesByScale("ordinal")[0];if(r&&(!o||!function(e,t){var n=e.getExtent(),a=Math.abs(n[1]-n[0])/e.scale.count();isNaN(a)&&(a=0);for(var i=t.count(),o=Math.max(1,Math.round(i/5)),r=0;r<i;r+=o)if(1.5*L.A.getSymbolSize(t,r)[e.isHorizontal()?1:0]>a)return!1;return!0}(r,t))){var s=t.mapDimension(r.dim),l={};return i.__(r.getViewLabels(),(function(e){var t=r.scale.getRawOrdinalNumber(e.tickValue);l[t]=1})),function(e){return!l.hasOwnProperty(t.get(s,e))}}}}function pe(e,t){return[e[2*t],e[2*t+1]]}function ge(e){if(e.get(["endLabel","show"]))return!0;for(var t=0;t<ee.BV.length;t++)if(e.get([ee.BV[t],"endLabel","show"]))return!0;return!1}function fe(e,t,n,a){if((0,Q.g)(t,"cartesian2d")){var i=a.getModel("endLabel"),o=i.get("valueAnimation"),r=a.getData(),s={lastFrameIndex:0},l=ge(a)?function(n,a){e._endLabelOnDuring(n,a,r,s,o,i,t)}:null,u=t.getBaseAxis().isHorizontal(),d=$(t,n,a,(function(){var t=e._endLabel;t&&n&&null!=s.originalX&&t.attr({x:s.originalX,y:s.originalY})}),l);if(!a.get("clip",!0)){var h=d.shape,c=Math.max(h.width,h.height);u?(h.y-=c,h.height+=2*c):(h.x-=c,h.width+=2*c)}return l&&l(1,d),d}return K(t,n,a)}var ye=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.C6)(t,e),t.prototype.init=function(){var e=new w.A,t=new D.A;this.group.add(t.group),this._symbolDraw=t,this._lineGroup=e},t.prototype.render=function(e,t,n){var a=this,o=e.coordinateSystem,r=this.group,s=e.getData(),l=e.getModel("lineStyle"),u=e.getModel("areaStyle"),d=s.getLayout("points")||[],h="polar"===o.type,c=this._coordSys,p=this._symbolDraw,g=this._polyline,f=this._polygon,y=this._lineGroup,m=!t.ssr&&e.get("animation"),v=!u.isEmpty(),x=u.get("origin"),_=C(o,s,x),b=v&&function(e,t,n){if(!n.valueDim)return[];for(var a=t.count(),i=(0,N.J)(2*a),o=0;o<a;o++){var r=T(n,e,t,o);i[2*o]=r[0],i[2*o+1]=r[1]}return i}(o,s,_),S=e.get("showSymbol"),I=e.get("connectNulls"),w=S&&!h&&ce(e,s,o),A=this._data;A&&A.eachItemGraphicEl((function(e,t){e.__temp&&(r.remove(e),A.setItemGraphicEl(t,null))})),S||p.remove(),r.add(y);var M,D=!h&&e.get("step");o&&o.getArea&&e.get("clip",!0)&&(null!=(M=o.getArea()).width?(M.x-=.1,M.y-=.1,M.width+=.2,M.height+=.2):M.r0&&(M.r0-=.5,M.r+=.5)),this._clipShapeForSymbol=M;var L=he(s,o,n)||s.getVisual("style")[s.getVisual("drawType")];if(g&&c.type===o.type&&D===this._step){v&&!f?f=this._newPolygon(d,b):f&&!v&&(y.remove(f),f=this._polygon=null),h||this._initOrUpdateEndLabel(e,o,(0,ie.he)(L));var P=y.getClipPath();if(P){var R=fe(this,o,!1,e);E.LW(P,{shape:R.shape},e)}else y.setClipPath(fe(this,o,!0,e));S&&p.updateData(s,{isIgnore:w,clipShape:M,disableAnimation:!0,getSymbolPoint:function(e){return[d[2*e],d[2*e+1]]}}),re(this._stackedOnPoints,b)&&re(this._points,d)||(m?this._doUpdateAnimation(s,b,o,n,D,x,I):(D&&(d=de(d,o,D,I),b&&(b=de(b,o,D,I))),g.setShape({points:d}),f&&f.setShape({points:d,stackedOnPoints:b})))}else S&&p.updateData(s,{isIgnore:w,clipShape:M,disableAnimation:!0,getSymbolPoint:function(e){return[d[2*e],d[2*e+1]]}}),m&&this._initSymbolLabelAnimation(s,o,M),D&&(d=de(d,o,D,I),b&&(b=de(b,o,D,I))),g=this._newPolyline(d),v?f=this._newPolygon(d,b):f&&(y.remove(f),f=this._polygon=null),h||this._initOrUpdateEndLabel(e,o,(0,ie.he)(L)),y.setClipPath(fe(this,o,!0,e));var V=e.getModel("emphasis"),k=V.get("focus"),z=V.get("blurScope"),O=V.get("disabled");(g.useStyle(i.NT(l.getLineStyle(),{fill:"none",stroke:L,lineJoin:"bevel"})),(0,ee.Mx)(g,e,"lineStyle"),g.style.lineWidth>0&&"bolder"===e.get(["emphasis","lineStyle","width"]))&&(g.getState("emphasis").style.lineWidth=+g.style.lineWidth+1);(0,ae.z)(g).seriesIndex=e.seriesIndex,(0,ee.Lm)(g,k,z,O);var G=ue(e.get("smooth")),B=e.get("smoothMonotone");if(g.setShape({smooth:G,smoothMonotone:B,connectNulls:I}),f){var W=s.getCalculationInfo("stackedOnSeries"),F=0;f.useStyle(i.NT(u.getAreaStyle(),{fill:L,opacity:.7,lineJoin:"bevel",decal:s.getVisual("style").decal})),W&&(F=ue(W.get("smooth"))),f.setShape({smooth:G,stackedOnSmooth:F,smoothMonotone:B,connectNulls:I}),(0,ee.Mx)(f,e,"areaStyle"),(0,ae.z)(f).seriesIndex=e.seriesIndex,(0,ee.Lm)(f,k,z,O)}var X=function(e){a._changePolyState(e)};s.eachItemGraphicEl((function(e){e&&(e.onHoverStateChange=X)})),this._polyline.onHoverStateChange=X,this._data=s,this._coordSys=o,this._stackedOnPoints=b,this._points=d,this._step=D,this._valueOrigin=x,e.get("triggerLineEvent")&&(this.packEventData(e,g),f&&this.packEventData(e,f))},t.prototype.packEventData=function(e,t){(0,ae.z)(t).eventData={componentType:"series",componentSubType:"line",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"line"}},t.prototype.highlight=function(e,t,n,a){var i=e.getData(),o=d.le(i,a);if(this._changePolyState("emphasis"),!(o instanceof Array)&&null!=o&&o>=0){var r=i.getLayout("points"),s=i.getItemGraphicEl(o);if(!s){var l=r[2*o],u=r[2*o+1];if(isNaN(l)||isNaN(u))return;if(this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(l,u))return;var h=e.get("zlevel")||0,c=e.get("z")||0;(s=new L.A(i,o)).x=l,s.y=u,s.setZ(h,c);var p=s.getSymbolPath().getTextContent();p&&(p.zlevel=h,p.z=c,p.z2=this._polyline.z2+1),s.__temp=!0,i.setItemGraphicEl(o,s),s.stopSymbolAnimation(!0),this.group.add(s)}s.highlight()}else U.A.prototype.highlight.call(this,e,t,n,a)},t.prototype.downplay=function(e,t,n,a){var i=e.getData(),o=d.le(i,a);if(this._changePolyState("normal"),null!=o&&o>=0){var r=i.getItemGraphicEl(o);r&&(r.__temp?(i.setItemGraphicEl(o,null),this.group.remove(r)):r.downplay())}else U.A.prototype.downplay.call(this,e,t,n,a)},t.prototype._changePolyState=function(e){var t=this._polygon;(0,ee.Pk)(this._polyline,e),t&&(0,ee.Pk)(t,e)},t.prototype._newPolyline=function(e){var t=this._polyline;return t&&this._lineGroup.remove(t),t=new X({shape:{points:e},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(t),this._polyline=t,t},t.prototype._newPolygon=function(e,t){var n=this._polygon;return n&&this._lineGroup.remove(n),n=new H({shape:{points:e,stackedOnPoints:t},segmentIgnoreThreshold:2}),this._lineGroup.add(n),this._polygon=n,n},t.prototype._initSymbolLabelAnimation=function(e,t,n){var a,o,r=t.getBaseAxis(),s=r.inverse;"cartesian2d"===t.type?(a=r.isHorizontal(),o=!1):"polar"===t.type&&(a="angle"===r.dim,o=!0);var l=e.hostModel,u=l.get("animationDuration");i.Tn(u)&&(u=u(null));var d=l.get("animationDelay")||0,h=i.Tn(d)?d(null):d;e.eachItemGraphicEl((function(e,r){var l=e;if(l){var c=[e.x,e.y],p=void 0,g=void 0,f=void 0;if(n)if(o){var y=n,m=t.pointToCoord(c);a?(p=y.startAngle,g=y.endAngle,f=-m[1]/180*Math.PI):(p=y.r0,g=y.r,f=m[0])}else{var v=n;a?(p=v.x,g=v.x+v.width,f=e.x):(p=v.y+v.height,g=v.y,f=e.y)}var x=g===p?0:(f-p)/(g-p);s&&(x=1-x);var _=i.Tn(d)?d(r):u*x+h,b=l.getSymbolPath(),S=b.getTextContent();l.attr({scaleX:0,scaleY:0}),l.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:_}),S&&S.animateFrom({style:{opacity:0}},{duration:300,delay:_}),b.disableLabelAnimation=!0}}))},t.prototype._initOrUpdateEndLabel=function(e,t,n){var a=e.getModel("endLabel");if(ge(e)){var i=e.getData(),o=this._polyline,r=i.getLayout("points");if(!r)return o.removeTextContent(),void(this._endLabel=null);var s=this._endLabel;s||((s=this._endLabel=new R.Ay({z2:200})).ignoreClip=!0,o.setTextContent(this._endLabel),o.disableLabelAnimation=!0);var l=function(e){for(var t,n,a=e.length/2;a>0&&(t=e[2*a-2],n=e[2*a-1],isNaN(t)||isNaN(n));a--);return a-1}(r);l>=0&&((0,te.qM)(o,(0,te.lx)(e,"endLabel"),{inheritColor:n,labelFetcher:e,labelDataIndex:l,defaultText:function(e,t,n){return null!=n?(0,ne.T)(i,n):(0,ne.i)(i,e)},enableTextSetter:!0},function(e,t){var n=t.getBaseAxis(),a=n.isHorizontal(),i=n.inverse,o=a?i?"right":"left":"center",r=a?"middle":i?"top":"bottom";return{normal:{align:e.get("align")||o,verticalAlign:e.get("verticalAlign")||r}}}(a,t)),o.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},t.prototype._endLabelOnDuring=function(e,t,n,a,i,o,r){var s=this._endLabel,l=this._polyline;if(s){e<1&&null==a.originalX&&(a.originalX=s.x,a.originalY=s.y);var u=n.getLayout("points"),h=n.hostModel,c=h.get("connectNulls"),p=o.get("precision"),g=o.get("distance")||0,f=r.getBaseAxis(),y=f.isHorizontal(),m=f.inverse,v=t.shape,x=m?y?v.x:v.y+v.height:y?v.x+v.width:v.y,_=(y?g:0)*(m?-1:1),b=(y?0:-g)*(m?-1:1),S=y?"x":"y",I=function(e,t,n){for(var a,i,o=e.length/2,r="x"===n?0:1,s=0,l=-1,u=0;u<o;u++)if(i=e[2*u+r],!isNaN(i)&&!isNaN(e[2*u+1-r]))if(0!==u){if(a<=t&&i>=t||a>=t&&i<=t){l=u;break}s=u,a=i}else a=i;return{range:[s,l],t:(t-a)/(i-a)}}(u,x,S),w=I.range,A=w[1]-w[0],M=void 0;if(A>=1){if(A>1&&!c){var D=pe(u,w[0]);s.attr({x:D[0]+_,y:D[1]+b}),i&&(M=h.getRawValue(w[0]))}else{(D=l.getPointOn(x,S))&&s.attr({x:D[0]+_,y:D[1]+b});var L=h.getRawValue(w[0]),C=h.getRawValue(w[1]);i&&(M=d.Il(n,p,L,C,I.t))}a.lastFrameIndex=w[0]}else{var T=1===e||a.lastFrameIndex>0?w[0]:0;D=pe(u,T);i&&(M=h.getRawValue(T)),s.attr({x:D[0]+_,y:D[1]+b})}if(i){var N=(0,te.Lu)(s);"function"==typeof N.setLabelText&&N.setLabelText(M)}}},t.prototype._doUpdateAnimation=function(e,t,n,a,i,o,r){var s=this._polyline,l=this._polygon,u=e.hostModel,d=function(e,t,n,a,i,o,r,s){for(var l=function(e,t){var n=[];return t.diff(e).add((function(e){n.push({cmd:"+",idx:e})})).update((function(e,t){n.push({cmd:"=",idx:t,idx1:e})})).remove((function(e){n.push({cmd:"-",idx:e})})).execute(),n}(e,t),u=[],d=[],h=[],c=[],p=[],g=[],f=[],y=C(i,t,r),m=e.getLayout("points")||[],v=t.getLayout("points")||[],x=0;x<l.length;x++){var _=l[x],b=!0,S=void 0,I=void 0;switch(_.cmd){case"=":S=2*_.idx,I=2*_.idx1;var w=m[S],A=m[S+1],M=v[I],D=v[I+1];(isNaN(w)||isNaN(A))&&(w=M,A=D),u.push(w,A),d.push(M,D),h.push(n[S],n[S+1]),c.push(a[I],a[I+1]),f.push(t.getRawIndex(_.idx1));break;case"+":var L=_.idx,P=y.dataDimsForPoint,E=i.dataToPoint([t.get(P[0],L),t.get(P[1],L)]);I=2*L,u.push(E[0],E[1]),d.push(v[I],v[I+1]);var R=T(y,i,t,L);h.push(R[0],R[1]),c.push(a[I],a[I+1]),f.push(t.getRawIndex(L));break;case"-":b=!1}b&&(p.push(_),g.push(g.length))}g.sort((function(e,t){return f[e]-f[t]}));var V=u.length,k=(0,N.J)(V),z=(0,N.J)(V),O=(0,N.J)(V),G=(0,N.J)(V),B=[];for(x=0;x<g.length;x++){var W=g[x],F=2*x,X=2*W;k[F]=u[X],k[F+1]=u[X+1],z[F]=d[X],z[F+1]=d[X+1],O[F]=h[X],O[F+1]=h[X+1],G[F]=c[X],G[F+1]=c[X+1],B[x]=p[W]}return{current:k,next:z,stackedOnCurrent:O,stackedOnNext:G,status:B}}(this._data,e,this._stackedOnPoints,t,this._coordSys,0,this._valueOrigin),h=d.current,c=d.stackedOnCurrent,p=d.next,g=d.stackedOnNext;if(i&&(h=de(d.current,n,i,r),c=de(d.stackedOnCurrent,n,i,r),p=de(d.next,n,i,r),g=de(d.stackedOnNext,n,i,r)),le(h,p)>3e3||l&&le(c,g)>3e3)return s.stopAnimation(),s.setShape({points:p}),void(l&&(l.stopAnimation(),l.setShape({points:p,stackedOnPoints:g})));s.shape.__points=d.current,s.shape.points=h;var f={shape:{points:p}};d.current!==h&&(f.shape.__points=d.next),s.stopAnimation(),E.oi(s,f,u),l&&(l.setShape({points:h,stackedOnPoints:c}),l.stopAnimation(),E.oi(l,{shape:{stackedOnPoints:g}},u),s.shape.points!==l.shape.points&&(l.shape.points=s.shape.points));for(var y=[],m=d.status,v=0;v<m.length;v++){if("="===m[v].cmd){var x=e.getItemGraphicEl(m[v].idx1);x&&y.push({el:x,ptIdx:v})}}s.animators&&s.animators.length&&s.animators[0].during((function(){l&&l.dirtyShape();for(var e=s.shape.__points,t=0;t<y.length;t++){var n=y[t].el,a=2*y[t].ptIdx;n.x=e[a],n.y=e[a+1],n.markRedraw()}}))},t.prototype.remove=function(e){var t=this.group,n=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),n&&n.eachItemGraphicEl((function(e,a){e.__temp&&(t.remove(e),n.setItemGraphicEl(a,null))})),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},t.type="line",t}(U.A);const me=ye;var ve=n(87582);function xe(e,t){return{seriesType:e,plan:(0,ve.A)(),reset:function(e){var n=e.getData(),a=e.coordinateSystem,o=e.pipelineContext,r=t||o.large;if(a){var s=(0,i.Tj)(a.dimensions,(function(e){return n.mapDimension(e)})).slice(0,2),l=s.length,u=n.getCalculationInfo("stackResultDimension");(0,_.sJ)(n,s[0])&&(s[0]=u),(0,_.sJ)(n,s[1])&&(s[1]=u);var d=n.getStore(),h=n.getDimensionIndex(s[0]),c=n.getDimensionIndex(s[1]);return l&&{progress:function(e,t){for(var n=e.end-e.start,i=r&&(0,N.J)(n*l),o=[],s=[],u=e.start,p=0;u<e.end;u++){var g=void 0;if(1===l){var f=d.get(h,u);g=a.dataToPoint(f,null,s)}else o[0]=d.get(h,u),o[1]=d.get(c,u),g=a.dataToPoint(o,null,s);r?(i[p++]=g[0],i[p++]=g[1]):t.setItemLayout(u,g.slice())}r&&t.setLayout("points",i)}}}}}}var _e={average:function(e){for(var t=0,n=0,a=0;a<e.length;a++)isNaN(e[a])||(t+=e[a],n++);return 0===n?NaN:t/n},sum:function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n]||0;return t},max:function(e){for(var t=-1/0,n=0;n<e.length;n++)e[n]>t&&(t=e[n]);return isFinite(t)?t:NaN},min:function(e){for(var t=1/0,n=0;n<e.length;n++)e[n]<t&&(t=e[n]);return isFinite(t)?t:NaN},minmax:function(e){for(var t=-1/0,n=-1/0,a=0;a<e.length;a++){var i=e[a],o=Math.abs(i);o>t&&(t=o,n=i)}return isFinite(n)?n:NaN},nearest:function(e){return e[0]}},be=function(e){return Math.round(e.length/2)};function Se(e){return{seriesType:e,reset:function(e,t,n){var a=e.getData(),o=e.get("sampling"),r=e.coordinateSystem,s=a.count();if(s>10&&"cartesian2d"===r.type&&o){var l=r.getBaseAxis(),u=r.getOtherAxis(l),d=l.getExtent(),h=n.getDevicePixelRatio(),c=Math.abs(d[1]-d[0])*(h||1),p=Math.round(s/c);if(isFinite(p)&&p>1){"lttb"===o&&e.setData(a.lttbDownSample(a.mapDimension(u.dim),1/p));var g=void 0;(0,i.Kg)(o)?g=_e[o]:(0,i.Tn)(o)&&(g=o),g&&e.setData(a.downSample(a.mapDimension(u.dim),1/p,g,be))}}}}}function Ie(e){e.registerChartView(me),e.registerSeriesModel(M),e.registerLayout(xe("line",!0)),e.registerVisual({seriesType:"line",reset:function(e){var t=e.getData(),n=e.getModel("lineStyle").getLineStyle();n&&!n.stroke&&(n.stroke=t.getVisual("style").fill),t.setVisual("legendLineStyle",n)}}),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,Se("line"))}var we=n(62536),Ae=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,a.C6)(t,e),t.prototype.getInitialData=function(e,t){return b(null,this,{useEncodeDefaulter:!0})},t.prototype.getMarkerPosition=function(e,t,n){var a=this.coordinateSystem;if(a&&a.clampData){var o=a.clampData(e),r=a.dataToPoint(o);if(n)(0,i.__)(a.getAxes(),(function(e,n){if("category"===e.type&&null!=t){var a=e.getTicksCoords(),i=e.getTickModel().get("alignWithLabel"),s=o[n],l="x1"===t[n]||"y1"===t[n];if(l&&!i&&(s+=1),a.length<2)return;if(2===a.length)return void(r[n]=e.toGlobalCoord(e.getExtent()[l?1:0]));for(var u=void 0,d=void 0,h=1,c=0;c<a.length;c++){var p=a[c].coord,g=c===a.length-1?a[c-1].tickValue+h:a[c].tickValue;if(g===s){d=p;break}if(g<s)u=p;else if(null!=u&&g>s){d=(p+u)/2;break}1===c&&(h=g-a[0].tickValue)}null==d&&(u?u&&(d=a[a.length-1].coord):d=a[0].coord),r[n]=e.toGlobalCoord(d)}}));else{var s=this.getData(),l=s.getLayout("offset"),u=s.getLayout("size"),d=a.getBaseAxis().isHorizontal()?0:1;r[d]+=l+u/2}return r}return[NaN,NaN]},t.type="series.__base_bar__",t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},t}(S.A);S.A.registerClass(Ae);const Me=Ae;var De=n(12616);const Le=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,a.C6)(t,e),t.prototype.getInitialData=function(){return b(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},t.prototype.getProgressive=function(){return!!this.get("large")&&this.get("progressive")},t.prototype.getProgressiveThreshold=function(){var e=this.get("progressiveThreshold"),t=this.get("largeThreshold");return t>e&&(e=t),e},t.prototype.brushSelector=function(e,t,n){return n.rect(t.getItemLayout(e))},t.type="series.bar",t.dependencies=["grid","polar"],t.defaultOption=(0,De.G_)(Me.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),t}(Me);var Ce=n(87663),Te=n(24711),Ne=function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},Pe=function(e){function t(t){var n=e.call(this,t)||this;return n.type="sausage",n}return(0,a.C6)(t,e),t.prototype.getDefaultShape=function(){return new Ne},t.prototype.buildPath=function(e,t){var n=t.cx,a=t.cy,i=Math.max(t.r0||0,0),o=Math.max(t.r,0),r=.5*(o-i),s=i+r,l=t.startAngle,u=t.endAngle,d=t.clockwise,h=2*Math.PI,c=d?u-l<h:l-u<h;c||(l=u-(d?h:-h));var p=Math.cos(l),g=Math.sin(l),f=Math.cos(u),y=Math.sin(u);c?(e.moveTo(p*i+n,g*i+a),e.arc(p*s+n,g*s+a,r,-Math.PI+l,l,!d)):e.moveTo(p*o+n,g*o+a),e.arc(n,a,o,l,u,!d),e.arc(f*s+n,y*s+a,r,u-2*Math.PI,u-Math.PI,!d),0!==i&&e.arc(n,a,i,u,l,d)},t}(V.Ay);const Ee=Pe;var Re=n(45558);function Ve(e,t,n){return t*Math.sin(e)*(n?-1:1)}function ke(e,t,n){return t*Math.cos(e)*(n?1:-1)}function ze(e,t,n){var a=e.get("borderRadius");if(null==a)return n?{cornerRadius:0}:null;(0,i.cy)(a)||(a=[a,a,a,a]);var o=Math.abs(t.r||0-t.r0||0);return{cornerRadius:(0,i.Tj)(a,(function(e){return(0,Re.lo)(e,o)}))}}var Oe=Math.max,Ge=Math.min;var Be=function(e){function t(){var n=e.call(this)||this;return n.type=t.type,n._isFirstFrame=!0,n}return(0,a.C6)(t,e),t.prototype.render=function(e,t,n,a){this._model=e,this._removeOnRenderedListener(n),this._updateDrawMode(e);var i=e.get("coordinateSystem");("cartesian2d"===i||"polar"===i)&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(e,t,n):this._renderNormal(e,t,n,a))},t.prototype.incrementalPrepareRender=function(e){this._clear(),this._updateDrawMode(e),this._updateLargeClip(e)},t.prototype.incrementalRender=function(e,t){this._progressiveEls=[],this._incrementalRenderLarge(e,t)},t.prototype.eachRendered=function(e){(0,Ce.traverseElements)(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var t=e.pipelineContext.large;null!=this._isLargeDraw&&t===this._isLargeDraw||(this._isLargeDraw=t,this._clear())},t.prototype._renderNormal=function(e,t,n,a){var i,o=this.group,r=e.getData(),s=this._data,l=e.coordinateSystem,u=l.getBaseAxis();"cartesian2d"===l.type?i=u.isHorizontal():"polar"===l.type&&(i="angle"===u.dim);var d=e.isAnimationEnabled()?e:null,h=function(e,t){var n=e.get("realtimeSort",!0),a=t.getBaseAxis();0;if(n&&"category"===a.type&&"cartesian2d"===t.type)return{baseAxis:a,otherAxis:t.getOtherAxis(a)}}(e,l);h&&this._enableRealtimeSort(h,r,n);var c=e.get("clip",!0)||h,p=function(e,t){var n=e.getArea&&e.getArea();if((0,Q.g)(e,"cartesian2d")){var a=e.getBaseAxis();if("category"!==a.type||!a.onBand){var i=t.getLayout("bandWidth");a.isHorizontal()?(n.x-=i,n.width+=2*i):(n.y-=i,n.height+=2*i)}}return n}(l,r);o.removeClipPath();var g=e.get("roundCap",!0),f=e.get("showBackground",!0),y=e.getModel("backgroundStyle"),m=y.get("borderRadius")||0,v=[],x=this._backgroundEls,_=a&&a.isInitSort,b=a&&"changeAxisOrder"===a.type;function S(e){var t=qe[l.type](r,e),n=function(e,t,n){var a="polar"===e.type?q.A:j.A;return new a({shape:tt(t,n,e),silent:!0,z2:0})}(l,i,t);return n.useStyle(y.getItemStyle()),"cartesian2d"===l.type?n.setShape("r",m):n.setShape("cornerRadius",m),v[e]=n,n}r.diff(s).add((function(t){var n=r.getItemModel(t),a=qe[l.type](r,t,n);if(f&&S(t),r.hasValue(t)&&je[l.type](a)){var s=!1;c&&(s=We[l.type](p,a));var y=Fe[l.type](e,r,t,a,i,d,u.model,!1,g);h&&(y.forceLabelAnimation=!0),$e(y,r,t,n,a,e,i,"polar"===l.type),_?y.attr({shape:a}):h?Xe(h,d,y,a,t,i,!1,!1):(0,E.LW)(y,{shape:a},e,t),r.setItemGraphicEl(t,y),o.add(y),y.ignore=s}})).update((function(t,n){var a=r.getItemModel(t),I=qe[l.type](r,t,a);if(f){var w=void 0;0===x.length?w=S(n):((w=x[n]).useStyle(y.getItemStyle()),"cartesian2d"===l.type?w.setShape("r",m):w.setShape("cornerRadius",m),v[t]=w);var A=qe[l.type](r,t),M=tt(i,A,l);(0,E.oi)(w,{shape:M},d,t)}var D=s.getItemGraphicEl(n);if(r.hasValue(t)&&je[l.type](I)){var L=!1;if(c&&(L=We[l.type](p,I))&&o.remove(D),D?(0,E.ap)(D):D=Fe[l.type](e,r,t,I,i,d,u.model,!!D,g),h&&(D.forceLabelAnimation=!0),b){var C=D.getTextContent();if(C){var T=(0,te.Lu)(C);null!=T.prevValue&&(T.prevValue=T.value)}}else $e(D,r,t,a,I,e,i,"polar"===l.type);_?D.attr({shape:I}):h?Xe(h,d,D,I,t,i,!0,b):(0,E.oi)(D,{shape:I},e,t,null),r.setItemGraphicEl(t,D),D.ignore=L,o.add(D)}else o.remove(D)})).remove((function(t){var n=s.getItemGraphicEl(t);n&&(0,E.t5)(n,e,t)})).execute();var I=this._backgroundGroup||(this._backgroundGroup=new w.A);I.removeAll();for(var A=0;A<v.length;++A)I.add(v[A]);o.add(I),this._backgroundEls=v,this._data=r},t.prototype._renderLarge=function(e,t,n){this._clear(),Qe(e,this.group),this._updateLargeClip(e)},t.prototype._incrementalRenderLarge=function(e,t){this._removeBackground(),Qe(t,this.group,this._progressiveEls,!0)},t.prototype._updateLargeClip=function(e){var t=e.get("clip",!0)&&J(e.coordinateSystem,!1,e),n=this.group;t?n.setClipPath(t):n.removeClipPath()},t.prototype._enableRealtimeSort=function(e,t,n){var a=this;if(t.count()){var i=e.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(t,e,n),this._isFirstFrame=!1;else{var o=function(e){var n=t.getItemGraphicEl(e),a=n&&n.shape;return a&&Math.abs(i.isHorizontal()?a.height:a.width)||0};this._onRendered=function(){a._updateSortWithinSameData(t,o,i,n)},n.getZr().on("rendered",this._onRendered)}}},t.prototype._dataSort=function(e,t,n){var a=[];return e.each(e.mapDimension(t.dim),(function(e,t){var i=n(t);i=null==i?NaN:i,a.push({dataIndex:t,mappedValue:i,ordinalNumber:e})})),a.sort((function(e,t){return t.mappedValue-e.mappedValue})),{ordinalNumbers:(0,i.Tj)(a,(function(e){return e.ordinalNumber}))}},t.prototype._isOrderChangedWithinSameData=function(e,t,n){for(var a=n.scale,i=e.mapDimension(n.dim),o=Number.MAX_VALUE,r=0,s=a.getOrdinalMeta().categories.length;r<s;++r){var l=e.rawIndexOf(i,a.getRawOrdinalNumber(r)),u=l<0?Number.MIN_VALUE:t(e.indexOfRawIndex(l));if(u>o)return!0;o=u}return!1},t.prototype._isOrderDifferentInView=function(e,t){for(var n=t.scale,a=n.getExtent(),i=Math.max(0,a[0]),o=Math.min(a[1],n.getOrdinalMeta().categories.length-1);i<=o;++i)if(e.ordinalNumbers[i]!==n.getRawOrdinalNumber(i))return!0},t.prototype._updateSortWithinSameData=function(e,t,n,a){if(this._isOrderChangedWithinSameData(e,t,n)){var i=this._dataSort(e,n,t);this._isOrderDifferentInView(i,n)&&(this._removeOnRenderedListener(a),a.dispatchAction({type:"changeAxisOrder",componentType:n.dim+"Axis",axisId:n.index,sortInfo:i}))}},t.prototype._dispatchInitSort=function(e,t,n){var a=t.baseAxis,i=this._dataSort(e,a,(function(n){return e.get(e.mapDimension(t.otherAxis.dim),n)}));n.dispatchAction({type:"changeAxisOrder",componentType:a.dim+"Axis",isInitSort:!0,axisId:a.index,sortInfo:i})},t.prototype.remove=function(e,t){this._clear(this._model),this._removeOnRenderedListener(t)},t.prototype.dispose=function(e,t){this._removeOnRenderedListener(t)},t.prototype._removeOnRenderedListener=function(e){this._onRendered&&(e.getZr().off("rendered",this._onRendered),this._onRendered=null)},t.prototype._clear=function(e){var t=this.group,n=this._data;e&&e.isAnimationEnabled()&&n&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],n.eachItemGraphicEl((function(t){(0,E.t5)(t,e,(0,ae.z)(t).dataIndex)}))):t.removeAll(),this._data=null,this._isFirstFrame=!0},t.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},t.type="bar",t}(U.A),We={cartesian2d:function(e,t){var n=t.width<0?-1:1,a=t.height<0?-1:1;n<0&&(t.x+=t.width,t.width=-t.width),a<0&&(t.y+=t.height,t.height=-t.height);var i=e.x+e.width,o=e.y+e.height,r=Oe(t.x,e.x),s=Ge(t.x+t.width,i),l=Oe(t.y,e.y),u=Ge(t.y+t.height,o),d=s<r,h=u<l;return t.x=d&&r>i?s:r,t.y=h&&l>o?u:l,t.width=d?0:s-r,t.height=h?0:u-l,n<0&&(t.x+=t.width,t.width=-t.width),a<0&&(t.y+=t.height,t.height=-t.height),d||h},polar:function(e,t){var n=t.r0<=t.r?1:-1;if(n<0){var a=t.r;t.r=t.r0,t.r0=a}var i=Ge(t.r,e.r),o=Oe(t.r0,e.r0);t.r=i,t.r0=o;var r=i-o<0;if(n<0){a=t.r;t.r=t.r0,t.r0=a}return r}},Fe={cartesian2d:function(e,t,n,a,o,r,s,l,u){var d=new j.A({shape:(0,i.X$)({},a),z2:1});(d.__dataIndex=n,d.name="item",r)&&(d.shape[o?"height":"width"]=0);return d},polar:function(e,t,n,a,i,o,r,s,l){var u=!i&&l?Ee:q.A,d=new u({shape:a,z2:1});d.name="item";var h,c,p=Ze(i);if(d.calculateTextPosition=(h=p,c=({isRoundCap:u===Ee}||{}).isRoundCap,function(e,t,n){var a=t.position;if(!a||a instanceof Array)return(0,Re.X4)(e,t,n);var i=h(a),o=null!=t.distance?t.distance:5,r=this.shape,s=r.cx,l=r.cy,u=r.r,d=r.r0,p=(u+d)/2,g=r.startAngle,f=r.endAngle,y=(g+f)/2,m=c?Math.abs(u-d)/2:0,v=Math.cos,x=Math.sin,_=s+u*v(g),b=l+u*x(g),S="left",I="top";switch(i){case"startArc":_=s+(d-o)*v(y),b=l+(d-o)*x(y),S="center",I="top";break;case"insideStartArc":_=s+(d+o)*v(y),b=l+(d+o)*x(y),S="center",I="bottom";break;case"startAngle":_=s+p*v(g)+Ve(g,o+m,!1),b=l+p*x(g)+ke(g,o+m,!1),S="right",I="middle";break;case"insideStartAngle":_=s+p*v(g)+Ve(g,-o+m,!1),b=l+p*x(g)+ke(g,-o+m,!1),S="left",I="middle";break;case"middle":_=s+p*v(y),b=l+p*x(y),S="center",I="middle";break;case"endArc":_=s+(u+o)*v(y),b=l+(u+o)*x(y),S="center",I="bottom";break;case"insideEndArc":_=s+(u-o)*v(y),b=l+(u-o)*x(y),S="center",I="top";break;case"endAngle":_=s+p*v(f)+Ve(f,o+m,!0),b=l+p*x(f)+ke(f,o+m,!0),S="left",I="middle";break;case"insideEndAngle":_=s+p*v(f)+Ve(f,-o+m,!0),b=l+p*x(f)+ke(f,-o+m,!0),S="right",I="middle";break;default:return(0,Re.X4)(e,t,n)}return(e=e||{}).x=_,e.y=b,e.align=S,e.verticalAlign=I,e}),o){var g=i?"r":"endAngle",f={};d.shape[g]=i?a.r0:a.startAngle,f[g]=a[g],(s?E.oi:E.LW)(d,{shape:f},o)}return d}};function Xe(e,t,n,a,i,o,r,s){var l,u;o?(u={x:a.x,width:a.width},l={y:a.y,height:a.height}):(u={y:a.y,height:a.height},l={x:a.x,width:a.width}),s||(r?E.oi:E.LW)(n,{shape:l},t,i,null);var d=t?e.baseAxis.model:null;(r?E.oi:E.LW)(n,{shape:u},d,i)}function Ye(e,t){for(var n=0;n<t.length;n++)if(!isFinite(e[t[n]]))return!0;return!1}var He=["x","y","width","height"],Ue=["cx","cy","r","startAngle","endAngle"],je={cartesian2d:function(e){return!Ye(e,He)},polar:function(e){return!Ye(e,Ue)}},qe={cartesian2d:function(e,t,n){var a=e.getItemLayout(t),i=n?function(e,t){var n=e.get(["itemStyle","borderColor"]);if(!n||"none"===n)return 0;var a=e.get(["itemStyle","borderWidth"])||0,i=isNaN(t.width)?Number.MAX_VALUE:Math.abs(t.width),o=isNaN(t.height)?Number.MAX_VALUE:Math.abs(t.height);return Math.min(a,i,o)}(n,a):0,o=a.width>0?1:-1,r=a.height>0?1:-1;return{x:a.x+o*i/2,y:a.y+r*i/2,width:a.width-o*i,height:a.height-r*i}},polar:function(e,t,n){var a=e.getItemLayout(t);return{cx:a.cx,cy:a.cy,r0:a.r0,r:a.r,startAngle:a.startAngle,endAngle:a.endAngle,clockwise:a.clockwise}}};function Ze(e){return function(e){var t=e?"Arc":"Angle";return function(e){switch(e){case"start":case"insideStart":case"end":case"insideEnd":return e+t;default:return e}}}(e)}function $e(e,t,n,a,o,r,s,l){var u=t.getItemVisual(n,"style");if(l){if(!r.get("roundCap")){var d=e.shape,h=ze(a.getModel("itemStyle"),d,!0);(0,i.X$)(d,h),e.setShape(d)}}else{var c=a.get(["itemStyle","borderRadius"])||0;e.setShape("r",c)}e.useStyle(u);var p=a.getShallow("cursor");p&&e.attr("cursor",p);var g=l?s?o.r>=o.r0?"endArc":"startArc":o.endAngle>=o.startAngle?"endAngle":"startAngle":s?o.height>=0?"bottom":"top":o.width>=0?"right":"left",f=(0,te.lx)(a);(0,te.qM)(e,f,{labelFetcher:r,labelDataIndex:n,defaultText:(0,ne.i)(r.getData(),n),inheritColor:u.fill,defaultOpacity:u.opacity,defaultOutsidePosition:g});var y=e.getTextContent();if(l&&y){var m=a.get(["label","position"]);e.textConfig.inside="middle"===m||null,function(e,t,n,a){if((0,i.Et)(a))e.setTextConfig({rotation:a});else if((0,i.cy)(t))e.setTextConfig({rotation:0});else{var o,r=e.shape,s=r.clockwise?r.startAngle:r.endAngle,l=r.clockwise?r.endAngle:r.startAngle,u=(s+l)/2,d=n(t);switch(d){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":o=u;break;case"startAngle":case"insideStartAngle":o=s;break;case"endAngle":case"insideEndAngle":o=l;break;default:return void e.setTextConfig({rotation:0})}var h=1.5*Math.PI-o;"middle"===d&&h>Math.PI/2&&h<1.5*Math.PI&&(h-=Math.PI),e.setTextConfig({rotation:h})}}(e,"outside"===m?g:m,Ze(s),a.get(["label","rotate"]))}(0,te.Oh)(y,f,r.getRawValue(n),(function(e){return(0,ne.T)(t,e)}));var v=a.getModel(["emphasis"]);(0,ee.Lm)(e,v.get("focus"),v.get("blurScope"),v.get("disabled")),(0,ee.Mx)(e,a),function(e){return null!=e.startAngle&&null!=e.endAngle&&e.startAngle===e.endAngle}(o)&&(e.style.fill="none",e.style.stroke="none",(0,i.__)(e.states,(function(e){e.style&&(e.style.fill=e.style.stroke="none")})))}var Ke=function(){},Je=function(e){function t(t){var n=e.call(this,t)||this;return n.type="largeBar",n}return(0,a.C6)(t,e),t.prototype.getDefaultShape=function(){return new Ke},t.prototype.buildPath=function(e,t){for(var n=t.points,a=this.baseDimIdx,i=1-this.baseDimIdx,o=[],r=[],s=this.barWidth,l=0;l<n.length;l+=3)r[a]=s,r[i]=n[l+2],o[a]=n[l+a],o[i]=n[l+i],e.rect(o[0],o[1],r[0],r[1])},t}(V.Ay);function Qe(e,t,n,a){var i=e.getData(),o=i.getLayout("valueAxisHorizontal")?1:0,r=i.getLayout("largeDataIndices"),s=i.getLayout("size"),l=e.getModel("backgroundStyle"),u=i.getLayout("largeBackgroundPoints");if(u){var d=new Je({shape:{points:u},incremental:!!a,silent:!0,z2:0});d.baseDimIdx=o,d.largeDataIndices=r,d.barWidth=s,d.useStyle(l.getItemStyle()),t.add(d),n&&n.push(d)}var h=new Je({shape:{points:i.getLayout("largePoints")},incremental:!!a,ignoreCoarsePointer:!0,z2:1});h.baseDimIdx=o,h.largeDataIndices=r,h.barWidth=s,t.add(h),h.useStyle(i.getVisual("style")),(0,ae.z)(h).seriesIndex=e.seriesIndex,e.get("silent")||(h.on("mousedown",et),h.on("mousemove",et)),n&&n.push(h)}var et=(0,Te.nF)((function(e){var t=function(e,t,n){for(var a=e.baseDimIdx,i=1-a,o=e.shape.points,r=e.largeDataIndices,s=[],l=[],u=e.barWidth,d=0,h=o.length/3;d<h;d++){var c=3*d;if(l[a]=u,l[i]=o[c+2],s[a]=o[c+a],s[i]=o[c+i],l[i]<0&&(s[i]+=l[i],l[i]=-l[i]),t>=s[0]&&t<=s[0]+l[0]&&n>=s[1]&&n<=s[1]+l[1])return r[d]}return-1}(this,e.offsetX,e.offsetY);(0,ae.z)(this).dataIndex=t>=0?t:null}),30,!1);function tt(e,t,n){if((0,Q.g)(n,"cartesian2d")){var a=t,i=n.getArea();return{x:e?a.x:i.x,y:e?i.y:a.y,width:e?a.width:i.width,height:e?i.height:a.height}}var o=t;return{cx:(i=n.getArea()).cx,cy:i.cy,r0:e?i.r0:o.r0,r:e?i.r:o.r,startAngle:e?o.startAngle:0,endAngle:e?o.endAngle:2*Math.PI}}const nt=Be;function at(e){e.registerChartView(nt),e.registerSeriesModel(Le),e.registerLayout(e.PRIORITY.VISUAL.LAYOUT,i.cF(we.Zp,"bar")),e.registerLayout(e.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,(0,we.KF)("bar")),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,Se("bar")),e.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},(function(e,t){var n=e.componentType||"series";t.eachComponent({mainType:n,query:e},(function(t){e.sortInfo&&t.axis.setCategorySortInfo(e.sortInfo)}))}))}var it=n(16884),ot=n(34253),rt=2*Math.PI,st=Math.PI/180;function lt(e,t){return ot.dV(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function ut(e,t){var n=lt(e,t),a=e.get("center"),o=e.get("radius");i.cy(o)||(o=[0,o]);var r,s,l=(0,Z.lo)(n.width,t.getWidth()),u=(0,Z.lo)(n.height,t.getHeight()),d=Math.min(l,u),h=(0,Z.lo)(o[0],d/2),c=(0,Z.lo)(o[1],d/2),p=e.coordinateSystem;if(p){var g=p.dataToPoint(a);r=g[0]||0,s=g[1]||0}else i.cy(a)||(a=[a,a]),r=(0,Z.lo)(a[0],l)+n.x,s=(0,Z.lo)(a[1],u)+n.y;return{cx:r,cy:s,r0:h,r:c}}function dt(e,t,n){t.eachSeriesByType(e,(function(e){var t=e.getData(),a=t.mapDimension("value"),i=lt(e,n),o=ut(e,n),r=o.cx,s=o.cy,l=o.r,u=o.r0,d=-e.get("startAngle")*st,h=e.get("endAngle"),c=e.get("padAngle")*st;h="auto"===h?d-rt:-h*st;var p=e.get("minAngle")*st+c,g=0;t.each(a,(function(e){!isNaN(e)&&g++}));var f=t.getSum(a),y=Math.PI/(f||g)*2,m=e.get("clockwise"),v=e.get("roseType"),x=e.get("stillShowZeroSum"),_=t.getDataExtent(a);_[0]=0;var b=m?1:-1,S=[d,h],I=b*c/2;(0,k.q)(S,!m),d=S[0],h=S[1];var w=Math.abs(h-d),A=w,M=0,D=d;if(t.setLayout({viewRect:i,r:l}),t.each(a,(function(e,n){var a;if(isNaN(e))t.setItemLayout(n,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:m,cx:r,cy:s,r0:u,r:v?NaN:l});else{(a="area"!==v?0===f&&x?y:e*y:w/g)<p?(a=p,A-=p):M+=e;var i=D+b*a,o=0,d=0;c>a?d=o=D+b*a/2:(o=D+I,d=i-I),t.setItemLayout(n,{angle:a,startAngle:o,endAngle:d,clockwise:m,cx:r,cy:s,r0:u,r:v?(0,Z.Cb)(e,_,[u,l]):l}),D=i}})),A<rt&&g)if(A<=.001){var L=w/g;t.each(a,(function(e,n){if(!isNaN(e)){var a=t.getItemLayout(n);a.angle=L;var i=0,o=0;L<c?o=i=d+b*(n+.5)*L:(i=d+b*n*L+I,o=d+b*(n+1)*L-I),a.startAngle=i,a.endAngle=o}}))}else y=A/M,D=d,t.each(a,(function(e,n){if(!isNaN(e)){var a=t.getItemLayout(n),i=a.angle===p?p:e*y,o=0,r=0;i<c?r=o=D+b*i/2:(o=D+I,r=D+b*i-I),a.startAngle=o,a.endAngle=r,D+=b*i}}))}))}function ht(e){return{seriesType:e,reset:function(e,t){var n=t.findComponents({mainType:"legend"});if(n&&n.length){var a=e.getData();a.filterSelf((function(e){for(var t=a.getName(e),i=0;i<n.length;i++)if(!n[i].isSelected(t))return!1;return!0}))}}}}var ct=n(39195),pt=n(26346),gt=n(92621),ft=n(77175),yt=Math.PI/180;function mt(e,t,n,a,i,o,r,s,l,u){if(!(e.length<2)){for(var d=e.length,h=0;h<d;h++)if("outer"===e[h].position&&"labelLine"===e[h].labelAlignTo){var c=e[h].label.x-u;e[h].linePoints[1][0]+=c,e[h].label.x=u}(0,ft.Xe)(e,l,l+r)&&function(e){for(var o={list:[],maxY:0},r={list:[],maxY:0},s=0;s<e.length;s++)if("none"===e[s].labelAlignTo){var l=e[s],u=l.label.y>n?r:o,d=Math.abs(l.label.y-n);if(d>=u.maxY){var h=l.label.x-t-l.len2*i,c=a+l.len,g=Math.abs(h)<c?Math.sqrt(d*d/(1-h*h/c/c)):c;u.rB=g,u.maxY=d}u.list.push(l)}p(o),p(r)}(e)}function p(e){for(var o=e.rB,r=o*o,s=0;s<e.list.length;s++){var l=e.list[s],u=Math.abs(l.label.y-n),d=a+l.len,h=d*d,c=Math.sqrt((1-Math.abs(u*u/r))*h),p=t+(c+l.len2)*i,g=p-l.label.x;vt(l,l.targetTextWidth-g*i,!0),l.label.x=p}}}function vt(e,t,n){if(void 0===n&&(n=!1),null==e.labelStyleWidth){var a=e.label,i=a.style,o=e.rect,r=i.backgroundColor,s=i.padding,l=s?s[1]+s[3]:0,u=i.overflow,d=o.width+(r?0:l);if(t<d||n){var h=o.height;if(u&&u.match("break")){a.setStyle("backgroundColor",null),a.setStyle("width",t-l);var c=a.getBoundingRect();a.setStyle("width",Math.ceil(c.width)),a.setStyle("backgroundColor",r)}else{var p=t-l,g=t<d?p:n?p>e.unconstrainedWidth?null:p:null;a.setStyle("width",g)}var f=a.getBoundingRect();o.width=f.width;var y=(a.style.margin||0)+2.1;o.height=f.height+y,o.y-=(o.height-h)/2}}}function xt(e){return"center"===e.position}function _t(e){var t,n,a=e.getData(),o=[],r=!1,s=(e.get("minShowLabelAngle")||0)*yt,l=a.getLayout("viewRect"),u=a.getLayout("r"),d=l.width,h=l.x,c=l.y,p=l.height;function g(e){e.ignore=!0}a.each((function(e){var l=a.getItemGraphicEl(e),c=l.shape,p=l.getTextContent(),f=l.getTextGuideLine(),y=a.getItemModel(e),m=y.getModel("label"),v=m.get("position")||y.get(["emphasis","label","position"]),x=m.get("distanceToLabelLine"),_=m.get("alignTo"),b=(0,Z.lo)(m.get("edgeDistance"),d),S=m.get("bleedMargin"),I=y.getModel("labelLine"),w=I.get("length");w=(0,Z.lo)(w,d);var A=I.get("length2");if(A=(0,Z.lo)(A,d),Math.abs(c.endAngle-c.startAngle)<s)return(0,i.__)(p.states,g),p.ignore=!0,void(f&&((0,i.__)(f.states,g),f.ignore=!0));if(function(e){if(!e.ignore)return!0;for(var t in e.states)if(!1===e.states[t].ignore)return!0;return!1}(p)){var M,D,L,C,T=(c.startAngle+c.endAngle)/2,N=Math.cos(T),P=Math.sin(T);t=c.cx,n=c.cy;var E="inside"===v||"inner"===v;if("center"===v)M=c.cx,D=c.cy,C="center";else{var R=(E?(c.r+c.r0)/2*N:c.r*N)+t,V=(E?(c.r+c.r0)/2*P:c.r*P)+n;if(M=R+3*N,D=V+3*P,!E){var k=R+N*(w+u-c.r),z=V+P*(w+u-c.r),O=k+(N<0?-1:1)*A;M="edge"===_?N<0?h+b:h+d-b:O+(N<0?-x:x),D=z,L=[[R,V],[k,z],[O,z]]}C=E?"center":"edge"===_?N>0?"right":"left":N>0?"left":"right"}var G=Math.PI,B=0,W=m.get("rotate");if((0,i.Et)(W))B=W*(G/180);else if("center"===v)B=0;else if("radial"===W||!0===W){B=N<0?-T+G:-T}else if("tangential"===W&&"outside"!==v&&"outer"!==v){var F=Math.atan2(N,P);F<0&&(F=2*G+F),P>0&&(F=G+F),B=F-G}if(r=!!B,p.x=M,p.y=D,p.rotation=B,p.setStyle({verticalAlign:"middle"}),E){p.setStyle({align:C});var X=p.states.select;X&&(X.x+=p.x,X.y+=p.y)}else{var Y=p.getBoundingRect().clone();Y.applyTransform(p.getComputedTransform());var H=(p.style.margin||0)+2.1;Y.y-=H/2,Y.height+=H,o.push({label:p,labelLine:f,position:v,len:w,len2:A,minTurnAngle:I.get("minTurnAngle"),maxSurfaceAngle:I.get("maxSurfaceAngle"),surfaceNormal:new pt.A(N,P),linePoints:L,textAlign:C,labelDistance:x,labelAlignTo:_,edgeDistance:b,bleedMargin:S,rect:Y,unconstrainedWidth:Y.width,labelStyleWidth:p.style.width})}l.setTextConfig({inside:E})}})),!r&&e.get("avoidLabelOverlap")&&function(e,t,n,a,i,o,r,s){for(var l=[],u=[],d=Number.MAX_VALUE,h=-Number.MAX_VALUE,c=0;c<e.length;c++){var p=e[c].label;xt(e[c])||(p.x<t?(d=Math.min(d,p.x),l.push(e[c])):(h=Math.max(h,p.x),u.push(e[c])))}for(c=0;c<e.length;c++)if(!xt(y=e[c])&&y.linePoints){if(null!=y.labelStyleWidth)continue;p=y.label;var g=y.linePoints,f=void 0;f="edge"===y.labelAlignTo?p.x<t?g[2][0]-y.labelDistance-r-y.edgeDistance:r+i-y.edgeDistance-g[2][0]-y.labelDistance:"labelLine"===y.labelAlignTo?p.x<t?d-r-y.bleedMargin:r+i-h-y.bleedMargin:p.x<t?p.x-r-y.bleedMargin:r+i-p.x-y.bleedMargin,y.targetTextWidth=f,vt(y,f)}for(mt(u,t,n,a,1,0,o,0,s,h),mt(l,t,n,a,-1,0,o,0,s,d),c=0;c<e.length;c++){var y;if(!xt(y=e[c])&&y.linePoints){p=y.label,g=y.linePoints;var m="edge"===y.labelAlignTo,v=p.style.padding,x=v?v[1]+v[3]:0,_=p.style.backgroundColor?0:x,b=y.rect.width+_,S=g[1][0]-g[2][0];m?p.x<t?g[2][0]=r+y.edgeDistance+b+y.labelDistance:g[2][0]=r+i-y.edgeDistance-b-y.labelDistance:(p.x<t?g[2][0]=p.x+y.labelDistance:g[2][0]=p.x-y.labelDistance,g[1][0]=g[2][0]+S),g[1][1]=g[2][1]=p.y}}}(o,t,n,u,d,p,h,c);for(var f=0;f<o.length;f++){var y=o[f],m=y.label,v=y.labelLine,x=isNaN(m.x)||isNaN(m.y);if(m){m.setStyle({align:y.textAlign}),x&&((0,i.__)(m.states,g),m.ignore=!0);var _=m.states.select;_&&(_.x+=m.x,_.y+=m.y)}if(v){var b=y.linePoints;x||!b?((0,i.__)(v.states,g),v.ignore=!0):((0,gt.YI)(b,y.minTurnAngle),(0,gt.QK)(b,y.surfaceNormal,y.maxSurfaceAngle),v.setShape({points:b}),m.__hostTarget.textGuideLineConfig={anchor:new pt.A(b[0][0],b[0][1])})}}}var bt=function(e){function t(t,n,a){var i=e.call(this)||this;i.z2=2;var o=new R.Ay;return i.setTextContent(o),i.updateData(t,n,a,!0),i}return(0,a.C6)(t,e),t.prototype.updateData=function(e,t,n,a){var o=this,r=e.hostModel,s=e.getItemModel(t),l=s.getModel("emphasis"),u=e.getItemLayout(t),d=(0,i.X$)(ze(s.getModel("itemStyle"),u,!0),u);if(isNaN(d.startAngle))o.setShape(d);else{if(a){o.setShape(d);var h=r.getShallow("animationType");r.ecModel.ssr?(E.LW(o,{scaleX:0,scaleY:0},r,{dataIndex:t,isFrom:!0}),o.originX=d.cx,o.originY=d.cy):"scale"===h?(o.shape.r=u.r0,E.LW(o,{shape:{r:u.r}},r,t)):null!=n?(o.setShape({startAngle:n,endAngle:n}),E.LW(o,{shape:{startAngle:u.startAngle,endAngle:u.endAngle}},r,t)):(o.shape.endAngle=u.startAngle,E.oi(o,{shape:{endAngle:u.endAngle}},r,t))}else(0,E.ap)(o),E.oi(o,{shape:d},r,t);o.useStyle(e.getItemVisual(t,"style")),(0,ee.Mx)(o,s);var c=(u.startAngle+u.endAngle)/2,p=r.get("selectedOffset"),g=Math.cos(c)*p,f=Math.sin(c)*p,y=s.getShallow("cursor");y&&o.attr("cursor",y),this._updateLabel(r,e,t),o.ensureState("emphasis").shape=(0,i.X$)({r:u.r+(l.get("scale")&&l.get("scaleSize")||0)},ze(l.getModel("itemStyle"),u)),(0,i.X$)(o.ensureState("select"),{x:g,y:f,shape:ze(s.getModel(["select","itemStyle"]),u)}),(0,i.X$)(o.ensureState("blur"),{shape:ze(s.getModel(["blur","itemStyle"]),u)});var m=o.getTextGuideLine(),v=o.getTextContent();m&&(0,i.X$)(m.ensureState("select"),{x:g,y:f}),(0,i.X$)(v.ensureState("select"),{x:g,y:f}),(0,ee.Lm)(this,l.get("focus"),l.get("blurScope"),l.get("disabled"))}},t.prototype._updateLabel=function(e,t,n){var a=this,o=t.getItemModel(n),r=o.getModel("labelLine"),s=t.getItemVisual(n,"style"),l=s&&s.fill,u=s&&s.opacity;(0,te.qM)(a,(0,te.lx)(o),{labelFetcher:t.hostModel,labelDataIndex:n,inheritColor:l,defaultOpacity:u,defaultText:e.getFormattedLabel(n,"normal")||t.getName(n)});var d=a.getTextContent();a.setTextConfig({position:null,rotation:null}),d.attr({z2:10});var h=e.get(["label","position"]);if("outside"!==h&&"outer"!==h)a.removeTextGuideLine();else{var c=this.getTextGuideLine();c||(c=new ct.A,this.setTextGuideLine(c)),(0,gt.eR)(this,(0,gt.rv)(o),{stroke:l,opacity:(0,i.WV)(r.get(["lineStyle","opacity"]),u,1)})}},t}(q.A);const St=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ignoreLabelLineUpdate=!0,t}return(0,a.C6)(t,e),t.prototype.render=function(e,t,n,a){var i,o=e.getData(),r=this._data,s=this.group;if(!r&&o.count()>0){for(var l=o.getItemLayout(0),u=1;isNaN(l&&l.startAngle)&&u<o.count();++u)l=o.getItemLayout(u);l&&(i=l.startAngle)}if(this._emptyCircleSector&&s.remove(this._emptyCircleSector),0===o.count()&&e.get("showEmptyCircle")){var d=new q.A({shape:ut(e,n)});d.useStyle(e.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=d,s.add(d)}o.diff(r).add((function(e){var t=new bt(o,e,i);o.setItemGraphicEl(e,t),s.add(t)})).update((function(e,t){var n=r.getItemGraphicEl(t);n.updateData(o,e,i),n.off("click"),s.add(n),o.setItemGraphicEl(e,n)})).remove((function(t){var n=r.getItemGraphicEl(t);E.t5(n,e,t)})).execute(),_t(e),"expansion"!==e.get("animationTypeUpdate")&&(this._data=o)},t.prototype.dispose=function(){},t.prototype.containPoint=function(e,t){var n=t.getData().getItemLayout(0);if(n){var a=e[0]-n.cx,i=e[1]-n.cy,o=Math.sqrt(a*a+i*i);return o<=n.r&&o>=n.r0}},t.type="pie",t}(U.A);function It(e,t,n){t=(0,i.cy)(t)&&{coordDimensions:t}||(0,i.X$)({encodeDefine:e.getEncode()},t);var a=e.getSource(),r=p(a,t).dimensions,s=new o.A(r,e);return s.initData(a,n),s}const wt=function(){function e(e,t){this._getDataWithEncodedVisual=e,this._getRawData=t}return e.prototype.getAllNames=function(){var e=this._getRawData();return e.mapArray(e.getName)},e.prototype.containName=function(e){return this._getRawData().indexOfName(e)>=0},e.prototype.indexOfName=function(e){return this._getDataWithEncodedVisual().indexOfName(e)},e.prototype.getItemVisual=function(e,t){return this._getDataWithEncodedVisual().getItemVisual(e,t)},e}();var At=d.$r();const Mt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.C6)(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new wt(i.oI(this.getData,this),i.oI(this.getRawData,this)),this._defaultLabelLine(t)},t.prototype.mergeOption=function(){e.prototype.mergeOption.apply(this,arguments)},t.prototype.getInitialData=function(){return It(this,{coordDimensions:["value"],encodeDefaulter:i.cF(h.ln,this)})},t.prototype.getDataParams=function(t){var n=this.getData(),a=At(n),i=a.seats;if(!i){var o=[];n.each(n.mapDimension("value"),(function(e){o.push(e)})),i=a.seats=(0,Z.kM)(o,n.hostModel.get("percentPrecision"))}var r=e.prototype.getDataParams.call(this,t);return r.percent=i[t]||0,r.$vars.push("percent"),r},t.prototype._defaultLabelLine=function(e){d.M5(e,"labelLine",["show"]);var t=e.labelLine,n=e.emphasis.labelLine;t.show=t.show&&e.label.show,n.show=n.show&&e.emphasis.label.show},t.type="series.pie",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},t}(S.A);function Dt(e){e.registerChartView(St),e.registerSeriesModel(Mt),(0,it.I)("pie",e.registerAction),e.registerLayout((0,i.cF)(dt,"pie")),e.registerProcessor(ht("pie")),e.registerProcessor({seriesType:"pie",reset:function(e,t){var n=e.getData();n.filterSelf((function(e){var t=n.mapDimension("value"),a=n.get(t,e);return!((0,i.Et)(a)&&!isNaN(a)&&a<0)}))}})}var Lt=n(3087);const Ct=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return(0,a.C6)(t,e),t.prototype.getInitialData=function(e,t){return b(null,this,{useEncodeDefaulter:!0})},t.prototype.getProgressive=function(){var e=this.option.progressive;return null==e?this.option.large?5e3:this.get("progressive"):e},t.prototype.getProgressiveThreshold=function(){var e=this.option.progressiveThreshold;return null==e?this.option.large?1e4:this.get("progressiveThreshold"):e},t.prototype.brushSelector=function(e,t,n){return n.point(t.getItemLayout(e))},t.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},t.type="series.scatter",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},t}(S.A);var Tt=n(29308),Nt=function(){},Pt=function(e){function t(t){var n=e.call(this,t)||this;return n._off=0,n.hoverDataIdx=-1,n}return(0,a.C6)(t,e),t.prototype.getDefaultShape=function(){return new Nt},t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.buildPath=function(e,t){var n,a=t.points,i=t.size,o=this.symbolProxy,r=o.shape,s=e.getContext?e.getContext():e,l=s&&i[0]<4,u=this.softClipShape;if(l)this._ctx=s;else{for(this._ctx=null,n=this._off;n<a.length;){var d=a[n++],h=a[n++];isNaN(d)||isNaN(h)||(u&&!u.contain(d,h)||(r.x=d-i[0]/2,r.y=h-i[1]/2,r.width=i[0],r.height=i[1],o.buildPath(e,r,!0)))}this.incremental&&(this._off=n,this.notClear=!0)}},t.prototype.afterBrush=function(){var e,t=this.shape,n=t.points,a=t.size,i=this._ctx,o=this.softClipShape;if(i){for(e=this._off;e<n.length;){var r=n[e++],s=n[e++];isNaN(r)||isNaN(s)||(o&&!o.contain(r,s)||i.fillRect(r-a[0]/2,s-a[1]/2,a[0],a[1]))}this.incremental&&(this._off=e,this.notClear=!0)}},t.prototype.findDataIndex=function(e,t){for(var n=this.shape,a=n.points,i=n.size,o=Math.max(i[0],4),r=Math.max(i[1],4),s=a.length/2-1;s>=0;s--){var l=2*s,u=a[l]-o/2,d=a[l+1]-r/2;if(e>=u&&t>=d&&e<=u+o&&t<=d+r)return s}return-1},t.prototype.contain=function(e,t){var n=this.transformCoordToLocal(e,t),a=this.getBoundingRect();return e=n[0],t=n[1],a.contain(e,t)?(this.hoverDataIdx=this.findDataIndex(e,t))>=0:(this.hoverDataIdx=-1,!1)},t.prototype.getBoundingRect=function(){var e=this._rect;if(!e){for(var t=this.shape,n=t.points,a=t.size,i=a[0],o=a[1],r=1/0,s=1/0,l=-1/0,u=-1/0,d=0;d<n.length;){var h=n[d++],c=n[d++];r=Math.min(h,r),l=Math.max(h,l),s=Math.min(c,s),u=Math.max(c,u)}e=this._rect=new Tt.A(r-i/2,s-o/2,l-r+i,u-s+o)}return e},t}(V.Ay);const Et=function(){function e(){this.group=new w.A}return e.prototype.updateData=function(e,t){this._clear();var n=this._create();n.setShape({points:e.getLayout("points")}),this._setCommon(n,e,t)},e.prototype.updateLayout=function(e){var t=e.getLayout("points");this.group.eachChild((function(e){if(null!=e.startIndex){var n=2*(e.endIndex-e.startIndex),a=4*e.startIndex*2;t=new Float32Array(t.buffer,a,n)}e.setShape("points",t),e.reset()}))},e.prototype.incrementalPrepareUpdate=function(e){this._clear()},e.prototype.incrementalUpdate=function(e,t,n){var a=this._newAdded[0],i=t.getLayout("points"),o=a&&a.shape.points;if(o&&o.length<2e4){var r=o.length,s=new Float32Array(r+i.length);s.set(o),s.set(i,r),a.endIndex=e.end,a.setShape({points:s})}else{this._newAdded=[];var l=this._create();l.startIndex=e.start,l.endIndex=e.end,l.incremental=!0,l.setShape({points:i}),this._setCommon(l,t,n)}},e.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},e.prototype._create=function(){var e=new Pt({cursor:"default"});return e.ignoreCoarsePointer=!0,this.group.add(e),this._newAdded.push(e),e},e.prototype._setCommon=function(e,t,n){var a=t.hostModel;n=n||{};var i=t.getVisual("symbolSize");e.setShape("size",i instanceof Array?i:[i,i]),e.softClipShape=n.clipShape||null,e.symbolProxy=(0,I.v5)(t.getVisual("symbol"),0,0,0,0),e.setColor=e.symbolProxy.setColor;var o=e.shape.size[0]<4;e.useStyle(a.getModel("itemStyle").getItemStyle(o?["color","shadowBlur","shadowColor"]:["color"]));var r=t.getVisual("style"),s=r&&r.fill;s&&e.setColor(s);var l=(0,ae.z)(e);l.seriesIndex=a.seriesIndex,e.on("mousemove",(function(t){l.dataIndex=null;var n=e.hoverDataIdx;n>=0&&(l.dataIndex=n+(e.startIndex||0))}))},e.prototype.remove=function(){this._clear()},e.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},e}();const Rt=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,a.C6)(t,e),t.prototype.render=function(e,t,n){var a=e.getData();this._updateSymbolDraw(a,e).updateData(a,{clipShape:this._getClipShape(e)}),this._finished=!0},t.prototype.incrementalPrepareRender=function(e,t,n){var a=e.getData();this._updateSymbolDraw(a,e).incrementalPrepareUpdate(a),this._finished=!1},t.prototype.incrementalRender=function(e,t,n){this._symbolDraw.incrementalUpdate(e,t.getData(),{clipShape:this._getClipShape(t)}),this._finished=e.end===t.getData().count()},t.prototype.updateTransform=function(e,t,n){var a=e.getData();if(this.group.dirty(),!this._finished||a.count()>1e4)return{update:!0};var i=xe("").reset(e,t,n);i.progress&&i.progress({start:0,end:a.count(),count:a.count()},a),this._symbolDraw.updateLayout(a)},t.prototype.eachRendered=function(e){this._symbolDraw&&this._symbolDraw.eachRendered(e)},t.prototype._getClipShape=function(e){if(e.get("clip",!0)){var t=e.coordinateSystem;return t&&t.getArea&&t.getArea(.1)}},t.prototype._updateSymbolDraw=function(e,t){var n=this._symbolDraw,a=t.pipelineContext.large;return n&&a===this._isLargeDraw||(n&&n.remove(),n=this._symbolDraw=a?new Et:new D.A,this._isLargeDraw=a,this.group.removeAll()),this.group.add(n.group),n},t.prototype.remove=function(e,t){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},t.prototype.dispose=function(){},t.type="scatter",t}(U.A);var Vt=n(73100);function kt(e){(0,Lt.Y)(Vt.a),e.registerSeriesModel(Ct),e.registerChartView(Rt),e.registerLayout(xe("scatter"))}function zt(e){e.eachSeriesByType("radar",(function(e){var t=e.getData(),n=[],a=e.coordinateSystem;if(a){var o=a.getIndicatorAxes();i.__(o,(function(e,i){t.each(t.mapDimension(o[i].dim),(function(e,t){n[t]=n[t]||[];var o=a.dataToPoint(e,i);n[t][i]=Ot(o)?o:Gt(a)}))})),t.each((function(e){var o=i.I6(n[e],(function(e){return Ot(e)}))||Gt(a);n[e].push(o.slice()),t.setItemLayout(e,n[e])}))}}))}function Ot(e){return!isNaN(e[0])&&!isNaN(e[1])}function Gt(e){return[e.cx,e.cy]}function Bt(e){var t=e.polar;if(t){i.cy(t)||(t=[t]);var n=[];i.__(t,(function(t,a){t.indicator?(t.type&&!t.shape&&(t.shape=t.type),e.radar=e.radar||[],i.cy(e.radar)||(e.radar=[e.radar]),e.radar.push(t)):n.push(t)})),e.polar=n}i.__(e.series,(function(e){e&&"radar"===e.type&&e.polarIndex&&(e.radarIndex=e.polarIndex)}))}var Wt=n(52505),Ft=n(90540);const Xt=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,a.C6)(t,e),t.prototype.render=function(e,t,n){var a=e.coordinateSystem,o=this.group,r=e.getData(),s=this._data;function l(e,t){var n=e.getItemVisual(t,"symbol")||"circle";if("none"!==n){var a=I.xU(e.getItemVisual(t,"symbolSize")),i=I.v5(n,-1,-1,2,2),o=e.getItemVisual(t,"symbolRotate")||0;return i.attr({style:{strokeNoScale:!0},z2:100,scaleX:a[0]/2,scaleY:a[1]/2,rotation:o*Math.PI/180||0}),i}}function u(t,n,a,i,o,r){a.removeAll();for(var s=0;s<n.length-1;s++){var u=l(i,o);u&&(u.__dimIdx=s,t[s]?(u.setPosition(t[s]),Ce[r?"initProps":"updateProps"](u,{x:n[s][0],y:n[s][1]},e,o)):u.setPosition(n[s]),a.add(u))}}function d(e){return i.Tj(e,(function(e){return[a.cx,a.cy]}))}r.diff(s).add((function(t){var n=r.getItemLayout(t);if(n){var a=new Wt.A,i=new ct.A,o={shape:{points:n}};a.shape.points=d(n),i.shape.points=d(n),E.LW(a,o,e,t),E.LW(i,o,e,t);var s=new w.A,l=new w.A;s.add(i),s.add(a),s.add(l),u(i.shape.points,n,l,r,t,!0),r.setItemGraphicEl(t,s)}})).update((function(t,n){var a=s.getItemGraphicEl(n),i=a.childAt(0),o=a.childAt(1),l=a.childAt(2),d={shape:{points:r.getItemLayout(t)}};d.shape.points&&(u(i.shape.points,d.shape.points,l,r,t,!1),(0,E.ap)(o),(0,E.ap)(i),E.oi(i,d,e),E.oi(o,d,e),r.setItemGraphicEl(t,a))})).remove((function(e){o.remove(s.getItemGraphicEl(e))})).execute(),r.eachItemGraphicEl((function(e,t){var n=r.getItemModel(t),a=e.childAt(0),s=e.childAt(1),l=e.childAt(2),u=r.getItemVisual(t,"style"),d=u.fill;o.add(e),a.useStyle(i.NT(n.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:d})),(0,ee.Mx)(a,n,"lineStyle"),(0,ee.Mx)(s,n,"areaStyle");var h=n.getModel("areaStyle"),c=h.isEmpty()&&h.parentModel.isEmpty();s.ignore=c,i.__(["emphasis","select","blur"],(function(e){var t=n.getModel([e,"areaStyle"]),a=t.isEmpty()&&t.parentModel.isEmpty();s.ensureState(e).ignore=a&&c})),s.useStyle(i.NT(h.getAreaStyle(),{fill:d,opacity:.7,decal:u.decal}));var p=n.getModel("emphasis"),g=p.getModel("itemStyle").getItemStyle();l.eachChild((function(e){if(e instanceof Ft.Ay){var a=e.style;e.useStyle(i.X$({image:a.image,x:a.x,y:a.y,width:a.width,height:a.height},u))}else e.useStyle(u),e.setColor(d),e.style.strokeNoScale=!0;e.ensureState("emphasis").style=i.o8(g);var o=r.getStore().get(r.getDimensionIndex(e.__dimIdx),t);(null==o||isNaN(o))&&(o=""),(0,te.qM)(e,(0,te.lx)(n),{labelFetcher:r.hostModel,labelDataIndex:t,labelDimIndex:e.__dimIdx,defaultText:o,inheritColor:d,defaultOpacity:u.opacity})})),(0,ee.Lm)(e,p.get("focus"),p.get("blurScope"),p.get("disabled"))})),this._data=r},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.type="radar",t}(U.A);var Yt=n(3961);const Ht=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return(0,a.C6)(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new wt(i.oI(this.getData,this),i.oI(this.getRawData,this))},t.prototype.getInitialData=function(e,t){return It(this,{generateCoord:"indicator_",generateCoordCount:1/0})},t.prototype.formatTooltip=function(e,t,n){var a=this.getData(),o=this.coordinateSystem.getIndicatorAxes(),r=this.getData().getName(e),s=""===r?this.name:r,l=(0,Yt.aw)(this,e);return(0,Yt.Qx)("section",{header:s,sortBlocks:!0,blocks:i.Tj(o,(function(t){var n=a.get(a.mapDimension(t.dim),e);return(0,Yt.Qx)("nameValue",{markerType:"subItem",markerColor:l,name:t.name,value:n,sortParam:n})}))})},t.prototype.getTooltipPosition=function(e){if(null!=e)for(var t=this.getData(),n=this.coordinateSystem,a=t.getValues(i.Tj(n.dimensions,(function(e){return t.mapDimension(e)})),e),o=0,r=a.length;o<r;o++)if(!isNaN(a[o])){var s=n.getIndicatorAxes();return n.coordToPoint(s[o].dataToCoord(a[o]),o)}},t.type="series.radar",t.dependencies=["radar"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},t}(S.A);var Ut=n(23823);function jt(e){(0,Lt.Y)(Ut.a),e.registerChartView(Xt),e.registerSeriesModel(Ht),e.registerLayout(zt),e.registerProcessor(ht("radar")),e.registerPreprocessor(Bt)}var qt=n(31571),Zt=n(8027),$t=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,a.C6)(t,e),t.prototype.render=function(e,t,n,a){if(!a||"mapToggleSelect"!==a.type||a.from!==this.uid){var i=this.group;if(i.removeAll(),!e.getHostGeoModel()){if(this._mapDraw&&a&&"geoRoam"===a.type&&this._mapDraw.resetForLabelLayout(),a&&"geoRoam"===a.type&&"series"===a.componentType&&a.seriesId===e.id)(o=this._mapDraw)&&i.add(o.group);else if(e.needsDrawMap){var o=this._mapDraw||new Zt.A(n);i.add(o.group),o.draw(e,t,n,this,a),this._mapDraw=o}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;e.get("showLegendSymbol")&&t.getComponent("legend")&&this._renderSymbols(e,t,n)}}},t.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},t.prototype._renderSymbols=function(e,t,n){var a=e.originalData,i=this.group;a.each(a.mapDimension("value"),(function(t,n){if(!isNaN(t)){var o=a.getItemLayout(n);if(o&&o.point){var r=o.point,s=o.offset,l=new qt.A({style:{fill:e.getData().getVisual("style").fill},shape:{cx:r[0]+9*s,cy:r[1],r:3},silent:!0,z2:8+(s?0:ee.CA+1)});if(!s){var u=e.mainSeries.getData(),d=a.getName(n),h=u.indexOfName(d),c=a.getItemModel(n),p=c.getModel("label"),g=u.getItemGraphicEl(h);(0,te.qM)(l,(0,te.lx)(c),{labelFetcher:{getFormattedLabel:function(t,n){return e.getFormattedLabel(h,n)}},defaultText:d}),l.disableLabelAnimation=!0,p.get("position")||l.setTextConfig({position:"bottom"}),g.onHoverStateChange=function(e){(0,ee.Pk)(l,e)}}i.add(l)}}}))},t.type="map",t}(U.A);const Kt=$t;var Jt=n(11917),Qt=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.needsDrawMap=!1,n.seriesGroup=[],n.getTooltipPosition=function(e){if(null!=e){var t=this.getData().getName(e),n=this.coordinateSystem,a=n.getRegion(t);return a&&n.dataToPoint(a.getCenter())}},n}return(0,a.C6)(t,e),t.prototype.getInitialData=function(e){for(var t=It(this,{coordDimensions:["value"],encodeDefaulter:i.cF(h.ln,this)}),n=i.nt(),a=[],o=0,r=t.count();o<r;o++){var s=t.getName(o);n.set(s,!0)}var l=Jt.A.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return i.__(l.regions,(function(e){var t=e.name;n.get(t)||a.push(t)})),t.appendValues([],a),t},t.prototype.getHostGeoModel=function(){var e=this.option.geoIndex;return null!=e?this.ecModel.getComponent("geo",e):null},t.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},t.prototype.getRawValue=function(e){var t=this.getData();return t.get(t.mapDimension("value"),e)},t.prototype.getRegionModel=function(e){var t=this.getData();return t.getItemModel(t.indexOfName(e))},t.prototype.formatTooltip=function(e,t,n){for(var a=this.getData(),i=this.getRawValue(e),o=a.getName(e),r=this.seriesGroup,s=[],l=0;l<r.length;l++){var u=r[l].originalData.indexOfName(o),d=a.mapDimension("value");isNaN(r[l].originalData.get(d,u))||s.push(r[l].name)}return(0,Yt.Qx)("section",{header:s.join(", "),noHeader:!s.length,blocks:[(0,Yt.Qx)("nameValue",{name:o,value:i})]})},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.getLegendIcon=function(e){var t=e.icon||"roundRect",n=(0,I.v5)(t,0,0,e.itemWidth,e.itemHeight,e.itemStyle.fill);return n.setStyle(e.itemStyle),n.style.stroke="none",t.indexOf("empty")>-1&&(n.style.stroke=n.style.fill,n.style.fill="#fff",n.style.lineWidth=2),n},t.type="series.map",t.dependencies=["geo"],t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},t}(S.A);const en=Qt;function tn(e){var t={};e.eachSeriesByType("map",(function(e){var n=e.getHostGeoModel(),a=n?"o"+n.id:"i"+e.getMapType();(t[a]=t[a]||[]).push(e)})),i.__(t,(function(e,t){for(var n,a,o,r=(n=i.Tj(e,(function(e){return e.getData()})),a=e[0].get("mapValueCalculation"),o={},i.__(n,(function(e){e.each(e.mapDimension("value"),(function(t,n){var a="ec-"+e.getName(n);o[a]=o[a]||[],isNaN(t)||o[a].push(t)}))})),n[0].map(n[0].mapDimension("value"),(function(e,t){for(var i="ec-"+n[0].getName(t),r=0,s=1/0,l=-1/0,u=o[i].length,d=0;d<u;d++)s=Math.min(s,o[i][d]),l=Math.max(l,o[i][d]),r+=o[i][d];return 0===u?NaN:"min"===a?s:"max"===a?l:"average"===a?r/u:r}))),s=0;s<e.length;s++)e[s].originalData=e[s].getData();for(s=0;s<e.length;s++)e[s].seriesGroup=e,e[s].needsDrawMap=0===s&&!e[s].getHostGeoModel(),e[s].setData(r.cloneShallow()),e[s].mainSeries=e[0]}))}function nn(e){var t={};e.eachSeriesByType("map",(function(n){var a=n.getMapType();if(!n.getHostGeoModel()&&!t[a]){var o={};i.__(n.seriesGroup,(function(t){var n=t.coordinateSystem,a=t.originalData;t.get("showLegendSymbol")&&e.getComponent("legend")&&a.each(a.mapDimension("value"),(function(e,t){var i=a.getName(t),r=n.getRegion(i);if(r&&!isNaN(e)){var s=o[i]||0,l=n.dataToPoint(r.getCenter());o[i]=s+1,a.setItemLayout(t,{point:l,offset:s})}}))}));var r=n.getData();r.each((function(e){var t=r.getName(e),n=r.getItemLayout(e)||{};n.showLabel=!o[t],r.setItemLayout(e,n)})),t[a]=!0}}))}var an=n(49513);function on(e){(0,Lt.Y)(an.a),e.registerChartView(Kt),e.registerSeriesModel(en),e.registerLayout(nn),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,tn),(0,it.I)("map",e.registerAction)}var rn=n(53849);function sn(e,t){var n=e.isExpand?e.children:[],a=e.parentNode.children,i=e.hierNode.i?a[e.hierNode.i-1]:null;if(n.length){!function(e){var t=e.children,n=t.length,a=0,i=0;for(;--n>=0;){var o=t[n];o.hierNode.prelim+=a,o.hierNode.modifier+=a,i+=o.hierNode.change,a+=o.hierNode.shift+i}}(e);var o=(n[0].hierNode.prelim+n[n.length-1].hierNode.prelim)/2;i?(e.hierNode.prelim=i.hierNode.prelim+t(e,i),e.hierNode.modifier=e.hierNode.prelim-o):e.hierNode.prelim=o}else i&&(e.hierNode.prelim=i.hierNode.prelim+t(e,i));e.parentNode.hierNode.defaultAncestor=function(e,t,n,a){if(t){for(var i=e,o=e,r=o.parentNode.children[0],s=t,l=i.hierNode.modifier,u=o.hierNode.modifier,d=r.hierNode.modifier,h=s.hierNode.modifier;s=cn(s),o=pn(o),s&&o;){i=cn(i),r=pn(r),i.hierNode.ancestor=e;var c=s.hierNode.prelim+h-o.hierNode.prelim-u+a(s,o);c>0&&(fn(gn(s,e,n),e,c),u+=c,l+=c),h+=s.hierNode.modifier,u+=o.hierNode.modifier,l+=i.hierNode.modifier,d+=r.hierNode.modifier}s&&!cn(i)&&(i.hierNode.thread=s,i.hierNode.modifier+=h-l),o&&!pn(r)&&(r.hierNode.thread=o,r.hierNode.modifier+=u-d,n=e)}return n}(e,i,e.parentNode.hierNode.defaultAncestor||a[0],t)}function ln(e){var t=e.hierNode.prelim+e.parentNode.hierNode.modifier;e.setLayout({x:t},!0),e.hierNode.modifier+=e.parentNode.hierNode.modifier}function un(e){return arguments.length?e:yn}function dn(e,t){return e-=Math.PI/2,{x:t*Math.cos(e),y:t*Math.sin(e)}}function hn(e,t){return ot.dV(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function cn(e){var t=e.children;return t.length&&e.isExpand?t[t.length-1]:e.hierNode.thread}function pn(e){var t=e.children;return t.length&&e.isExpand?t[0]:e.hierNode.thread}function gn(e,t,n){return e.hierNode.ancestor.parentNode===t.parentNode?e.hierNode.ancestor:n}function fn(e,t,n){var a=n/(t.hierNode.i-e.hierNode.i);t.hierNode.change-=a,t.hierNode.shift+=n,t.hierNode.modifier+=n,t.hierNode.prelim+=n,e.hierNode.change+=a}function yn(e,t){return e.parentNode===t.parentNode?1:2}var mn=n(48813),vn=n(56219),xn=n(56366),_n=n(81722),bn=n(72589),Sn=function(){this.parentPoint=[],this.childPoints=[]},In=function(e){function t(t){return e.call(this,t)||this}return(0,a.C6)(t,e),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new Sn},t.prototype.buildPath=function(e,t){var n=t.childPoints,a=n.length,i=t.parentPoint,o=n[0],r=n[a-1];if(1===a)return e.moveTo(i[0],i[1]),void e.lineTo(o[0],o[1]);var s=t.orient,l="TB"===s||"BT"===s?0:1,u=1-l,d=(0,Z.lo)(t.forkPosition,1),h=[];h[l]=i[l],h[u]=i[u]+(r[u]-i[u])*d,e.moveTo(i[0],i[1]),e.lineTo(h[0],h[1]),e.moveTo(o[0],o[1]),h[l]=o[l],e.lineTo(h[0],h[1]),h[l]=r[l],e.lineTo(h[0],h[1]),e.lineTo(r[0],r[1]);for(var c=1;c<a-1;c++){var p=n[c];e.moveTo(p[0],p[1]),h[l]=p[l],e.lineTo(h[0],h[1])}},t}(V.Ay),wn=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n._mainGroup=new w.A,n}return(0,a.C6)(t,e),t.prototype.init=function(e,t){this._controller=new _n.A(t.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},t.prototype.render=function(e,t,n){var a=e.getData(),i=e.layoutInfo,o=this._mainGroup;"radial"===e.get("layout")?(o.x=i.x+i.width/2,o.y=i.y+i.height/2):(o.x=i.x,o.y=i.y),this._updateViewCoordSys(e,n),this._updateController(e,t,n);var r=this._data;a.diff(r).add((function(t){An(a,t)&&Mn(a,t,null,o,e)})).update((function(t,n){var i=r.getItemGraphicEl(n);An(a,t)?Mn(a,t,i,o,e):i&&Cn(r,n,i,o,e)})).remove((function(t){var n=r.getItemGraphicEl(t);n&&Cn(r,t,n,o,e)})).execute(),this._nodeScaleRatio=e.get("nodeScaleRatio"),this._updateNodeAndLinkScale(e),!0===e.get("expandAndCollapse")&&a.eachItemGraphicEl((function(t,a){t.off("click").on("click",(function(){n.dispatchAction({type:"treeExpandAndCollapse",seriesId:e.id,dataIndex:a})}))})),this._data=a},t.prototype._updateViewCoordSys=function(e,t){var n=e.getData(),a=[];n.each((function(e){var t=n.getItemLayout(e);!t||isNaN(t.x)||isNaN(t.y)||a.push([+t.x,+t.y])}));var i=[],o=[];mn.Cr(a,i,o);var r=this._min,s=this._max;o[0]-i[0]==0&&(i[0]=r?r[0]:i[0]-1,o[0]=s?s[0]:o[0]+1),o[1]-i[1]==0&&(i[1]=r?r[1]:i[1]-1,o[1]=s?s[1]:o[1]+1);var l=e.coordinateSystem=new vn.A;l.zoomLimit=e.get("scaleLimit"),l.setBoundingRect(i[0],i[1],o[0]-i[0],o[1]-i[1]),l.setCenter(e.get("center"),t),l.setZoom(e.get("zoom")),this.group.attr({x:l.x,y:l.y,scaleX:l.scaleX,scaleY:l.scaleY}),this._min=i,this._max=o},t.prototype._updateController=function(e,t,n){var a=this,i=this._controller,o=this._controllerHost,r=this.group;i.setPointerChecker((function(t,a,i){var o=r.getBoundingRect();return o.applyTransform(r.transform),o.contain(a,i)&&!(0,bn.I)(t,n,e)})),i.enable(e.get("roam")),o.zoomLimit=e.get("scaleLimit"),o.zoom=e.coordinateSystem.getZoom(),i.off("pan").off("zoom").on("pan",(function(t){xn.t(o,t.dx,t.dy),n.dispatchAction({seriesId:e.id,type:"treeRoam",dx:t.dx,dy:t.dy})})).on("zoom",(function(t){xn.x(o,t.scale,t.originX,t.originY),n.dispatchAction({seriesId:e.id,type:"treeRoam",zoom:t.scale,originX:t.originX,originY:t.originY}),a._updateNodeAndLinkScale(e),n.updateLabelLayout()}))},t.prototype._updateNodeAndLinkScale=function(e){var t=e.getData(),n=this._getNodeGlobalScale(e);t.eachItemGraphicEl((function(e,t){e.setSymbolScale(n)}))},t.prototype._getNodeGlobalScale=function(e){var t=e.coordinateSystem;if("view"!==t.type)return 1;var n=this._nodeScaleRatio,a=t.scaleX||1;return((t.getZoom()-1)*n+1)/a},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},t.type="tree",t}(U.A);function An(e,t){var n=e.getItemLayout(t);return n&&!isNaN(n.x)&&!isNaN(n.y)}function Mn(e,t,n,a,o){var r=!n,s=e.tree.getNodeByDataIndex(t),l=s.getModel(),u=s.getVisual("style").fill,d=!1===s.isExpand&&0!==s.children.length?u:"#fff",h=e.tree.root,c=s.parentNode===h?s:s.parentNode||s,p=e.getItemGraphicEl(c.dataIndex),g=c.getLayout(),f=p?{x:p.__oldX,y:p.__oldY,rawX:p.__radialOldRawX,rawY:p.__radialOldRawY}:g,y=s.getLayout();r?((n=new L.A(e,t,null,{symbolInnerColor:d,useNameLabel:!0})).x=f.x,n.y=f.y):n.updateData(e,t,null,{symbolInnerColor:d,useNameLabel:!0}),n.__radialOldRawX=n.__radialRawX,n.__radialOldRawY=n.__radialRawY,n.__radialRawX=y.rawX,n.__radialRawY=y.rawY,a.add(n),e.setItemGraphicEl(t,n),n.__oldX=n.x,n.__oldY=n.y,E.oi(n,{x:y.x,y:y.y},o);var m=n.getSymbolPath();if("radial"===o.get("layout")){var v=h.children[0],x=v.getLayout(),_=v.children.length,b=void 0,S=void 0;if(y.x===x.x&&!0===s.isExpand&&v.children.length){var I={x:(v.children[0].getLayout().x+v.children[_-1].getLayout().x)/2,y:(v.children[0].getLayout().y+v.children[_-1].getLayout().y)/2};(b=Math.atan2(I.y-x.y,I.x-x.x))<0&&(b=2*Math.PI+b),(S=I.x<x.x)&&(b-=Math.PI)}else(b=Math.atan2(y.y-x.y,y.x-x.x))<0&&(b=2*Math.PI+b),0===s.children.length||0!==s.children.length&&!1===s.isExpand?(S=y.x<x.x)&&(b-=Math.PI):(S=y.x>x.x)||(b-=Math.PI);var w=S?"left":"right",A=l.getModel("label"),M=A.get("rotate"),D=M*(Math.PI/180),C=m.getTextContent();C&&(m.setTextConfig({position:A.get("position")||w,rotation:null==M?-b:D,origin:"center"}),C.setStyle("verticalAlign","middle"))}var T=l.get(["emphasis","focus"]),N="relative"===T?i.yB(s.getAncestorsIndices(),s.getDescendantIndices()):"ancestor"===T?s.getAncestorsIndices():"descendant"===T?s.getDescendantIndices():null;N&&((0,ae.z)(n).focus=N),function(e,t,n,a,o,r,s,l){var u=t.getModel(),d=e.get("edgeShape"),h=e.get("layout"),c=e.getOrient(),p=e.get(["lineStyle","curveness"]),g=e.get("edgeForkPosition"),f=u.getModel("lineStyle").getLineStyle(),y=a.__edge;if("curve"===d)t.parentNode&&t.parentNode!==n&&(y||(y=a.__edge=new rn.A({shape:Tn(h,c,p,o,o)})),E.oi(y,{shape:Tn(h,c,p,r,s)},e));else if("polyline"===d)if("orthogonal"===h){if(t!==n&&t.children&&0!==t.children.length&&!0===t.isExpand){for(var m=t.children,v=[],x=0;x<m.length;x++){var _=m[x].getLayout();v.push([_.x,_.y])}y||(y=a.__edge=new In({shape:{parentPoint:[s.x,s.y],childPoints:[[s.x,s.y]],orient:c,forkPosition:g}})),E.oi(y,{shape:{parentPoint:[s.x,s.y],childPoints:v}},e)}}else 0;y&&("polyline"!==d||t.isExpand)&&(y.useStyle(i.NT({strokeNoScale:!0,fill:null},f)),(0,ee.Mx)(y,u,"lineStyle"),(0,ee.DW)(y),l.add(y))}(o,s,h,n,f,g,y,a),n.__edge&&(n.onHoverStateChange=function(t){if("blur"!==t){var a=s.parentNode&&e.getItemGraphicEl(s.parentNode.dataIndex);a&&a.hoverState===ee.zX||(0,ee.Pk)(n.__edge,t)}})}function Dn(e,t,n,a,i){var o=Ln(t.tree.root,e),r=o.source,s=o.sourceLayout,l=t.getItemGraphicEl(e.dataIndex);if(l){var u=t.getItemGraphicEl(r.dataIndex).__edge,d=l.__edge||(!1===r.isExpand||1===r.children.length?u:void 0),h=a.get("edgeShape"),c=a.get("layout"),p=a.get("orient"),g=a.get(["lineStyle","curveness"]);d&&("curve"===h?E.Nz(d,{shape:Tn(c,p,g,s,s),style:{opacity:0}},a,{cb:function(){n.remove(d)},removeOpt:i}):"polyline"===h&&"orthogonal"===a.get("layout")&&E.Nz(d,{shape:{parentPoint:[s.x,s.y],childPoints:[[s.x,s.y]]},style:{opacity:0}},a,{cb:function(){n.remove(d)},removeOpt:i}))}}function Ln(e,t){for(var n,a=t.parentNode===e?t:t.parentNode||t;null==(n=a.getLayout());)a=a.parentNode===e?a:a.parentNode||a;return{source:a,sourceLayout:n}}function Cn(e,t,n,a,i){var o=e.tree.getNodeByDataIndex(t),r=Ln(e.tree.root,o).sourceLayout,s={duration:i.get("animationDurationUpdate"),easing:i.get("animationEasingUpdate")};E.Nz(n,{x:r.x+1,y:r.y+1},i,{cb:function(){a.remove(n),e.setItemGraphicEl(t,null)},removeOpt:s}),n.fadeOut(null,e.hostModel,{fadeLabel:!0,animation:s}),o.children.forEach((function(t){Dn(t,e,a,i,s)})),Dn(o,e,a,i,s)}function Tn(e,t,n,a,i){var o,r,s,l,u,d,h,c;if("radial"===e){u=a.rawX,h=a.rawY,d=i.rawX,c=i.rawY;var p=dn(u,h),g=dn(u,h+(c-h)*n),f=dn(d,c+(h-c)*n),y=dn(d,c);return{x1:p.x||0,y1:p.y||0,x2:y.x||0,y2:y.y||0,cpx1:g.x||0,cpy1:g.y||0,cpx2:f.x||0,cpy2:f.y||0}}return u=a.x,h=a.y,d=i.x,c=i.y,"LR"!==t&&"RL"!==t||(o=u+(d-u)*n,r=h,s=d+(u-d)*n,l=c),"TB"!==t&&"BT"!==t||(o=u,r=h+(c-h)*n,s=d,l=c+(h-c)*n),{x1:u,y1:h,x2:d,y2:c,cpx1:o,cpy1:r,cpx2:s,cpy2:l}}const Nn=wn;var Pn=(0,d.$r)();function En(e,t){if(Pn(a=this).mainData===a){var n=(0,i.X$)({},Pn(this).datas);n[this.dataType]=t,On(t,n,e)}else Gn(t,this.dataType,Pn(this).mainData,e);var a;return t}function Rn(e,t){return e.struct&&e.struct.update(),t}function Vn(e,t){return(0,i.__)(Pn(t).datas,(function(n,a){n!==t&&Gn(n.cloneShallow(),a,t,e)})),t}function kn(e){var t=Pn(this).mainData;return null==e||null==t?t:Pn(t).datas[e]}function zn(){var e=Pn(this).mainData;return null==e?[{data:e}]:(0,i.Tj)((0,i.HP)(Pn(e).datas),(function(t){return{type:t,data:Pn(e).datas[t]}}))}function On(e,t,n){Pn(e).datas={},(0,i.__)(t,(function(t,a){Gn(t,a,e,n)}))}function Gn(e,t,n,a){Pn(n).datas[t]=e,Pn(e).mainData=n,e.dataType=t,a.struct&&(e[a.structAttr]=a.struct,a.struct[a.datasAttr[t]]=e),e.getLinkedData=kn,e.getLinkedDataAll=zn}const Bn=function(e){var t=e.mainData,n=e.datas;n||(n={main:t},e.datasAttr={main:"data"}),e.datas=e.mainData=null,On(t,n,e),(0,i.__)(n,(function(n){(0,i.__)(t.TRANSFERABLE_METHODS,(function(t){n.wrapMethod(t,(0,i.cF)(En,e))}))})),t.wrapMethod("cloneShallow",(0,i.cF)(Vn,e)),(0,i.__)(t.CHANGABLE_METHODS,(function(n){t.wrapMethod(n,(0,i.cF)(Rn,e))})),(0,i.vA)(n[t.dataType]===t)};var Wn=function(){function e(e,t){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=e||"",this.hostTree=t}return e.prototype.isRemoved=function(){return this.dataIndex<0},e.prototype.eachNode=function(e,t,n){i.Tn(e)&&(n=t,t=e,e=null),e=e||{},i.Kg(e)&&(e={order:e});var a,o=e.order||"preorder",r=this[e.attr||"children"];"preorder"===o&&(a=t.call(n,this));for(var s=0;!a&&s<r.length;s++)r[s].eachNode(e,t,n);"postorder"===o&&t.call(n,this)},e.prototype.updateDepthAndHeight=function(e){var t=0;this.depth=e;for(var n=0;n<this.children.length;n++){var a=this.children[n];a.updateDepthAndHeight(e+1),a.height>t&&(t=a.height)}this.height=t+1},e.prototype.getNodeById=function(e){if(this.getId()===e)return this;for(var t=0,n=this.children,a=n.length;t<a;t++){var i=n[t].getNodeById(e);if(i)return i}},e.prototype.contains=function(e){if(e===this)return!0;for(var t=0,n=this.children,a=n.length;t<a;t++){var i=n[t].contains(e);if(i)return i}},e.prototype.getAncestors=function(e){for(var t=[],n=e?this:this.parentNode;n;)t.push(n),n=n.parentNode;return t.reverse(),t},e.prototype.getAncestorsIndices=function(){for(var e=[],t=this;t;)e.push(t.dataIndex),t=t.parentNode;return e.reverse(),e},e.prototype.getDescendantIndices=function(){var e=[];return this.eachNode((function(t){e.push(t.dataIndex)})),e},e.prototype.getValue=function(e){var t=this.hostTree.data;return t.getStore().get(t.getDimensionIndex(e||"value"),this.dataIndex)},e.prototype.setLayout=function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,e,t)},e.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},e.prototype.getModel=function(e){if(!(this.dataIndex<0))return this.hostTree.data.getItemModel(this.dataIndex).getModel(e)},e.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},e.prototype.setVisual=function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,e,t)},e.prototype.getVisual=function(e){return this.hostTree.data.getItemVisual(this.dataIndex,e)},e.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},e.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},e.prototype.getChildIndex=function(){if(this.parentNode){for(var e=this.parentNode.children,t=0;t<e.length;++t)if(e[t]===this)return t;return-1}return-1},e.prototype.isAncestorOf=function(e){for(var t=e.parentNode;t;){if(t===this)return!0;t=t.parentNode}return!1},e.prototype.isDescendantOf=function(e){return e!==this&&e.isAncestorOf(this)},e}();const Fn=function(){function e(e){this.type="tree",this._nodes=[],this.hostModel=e}return e.prototype.eachNode=function(e,t,n){this.root.eachNode(e,t,n)},e.prototype.getNodeByDataIndex=function(e){var t=this.data.getRawIndex(e);return this._nodes[t]},e.prototype.getNodeById=function(e){return this.root.getNodeById(e)},e.prototype.update=function(){for(var e=this.data,t=this._nodes,n=0,a=t.length;n<a;n++)t[n].dataIndex=-1;for(n=0,a=e.count();n<a;n++)t[e.getRawIndex(n)].dataIndex=n},e.prototype.clearLayouts=function(){this.data.clearItemLayouts()},e.createTree=function(t,n,a){var r=new e(n),s=[],l=1;!function e(t,n){var a=t.value;l=Math.max(l,i.cy(a)?a.length:1),s.push(t);var o=new Wn((0,d.vS)(t.name,""),r);n?function(e,t){var n=t.children;if(e.parentNode===t)return;n.push(e),e.parentNode=t}(o,n):r.root=o,r._nodes.push(o);var u=t.children;if(u)for(var h=0;h<u.length;h++)e(u[h],o)}(t),r.root.updateDepthAndHeight(0);var u=p(s,{coordDimensions:["value"],dimensionsCount:l}).dimensions,h=new o.A(u,n);return h.initData(s),a&&a(h),Bn({mainData:h,struct:r,structAttr:"tree"}),r.update(),r},e}();var Xn=n(5202);function Yn(e,t,n){if(e&&i.qh(t,e.type)>=0){var a=n.getData().tree.root,o=e.targetNode;if(i.Kg(o)&&(o=a.getNodeById(o)),o&&a.contains(o))return{node:o};var r=e.targetNodeId;if(null!=r&&(o=a.getNodeById(r)))return{node:o}}}function Hn(e){for(var t=[];e;)(e=e.parentNode)&&t.push(e);return t.reverse()}function Un(e,t){var n=Hn(e);return i.qh(n,t)>=0}function jn(e,t){for(var n=[];e;){var a=e.dataIndex;n.push({name:e.name,dataIndex:a,value:t.getRawValue(a)}),e=e.parentNode}return n.reverse(),n}var qn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hasSymbolVisual=!0,t.ignoreStyleOnData=!0,t}return(0,a.C6)(t,e),t.prototype.getInitialData=function(e){var t={name:e.name,children:e.data},n=e.leaves||{},a=new Xn.A(n,this,this.ecModel),i=Fn.createTree(t,this,(function(e){e.wrapMethod("getItemModel",(function(e,t){var n=i.getNodeByDataIndex(t);return n&&n.children.length&&n.isExpand||(e.parentModel=a),e}))}));var o=0;i.eachNode("preorder",(function(e){e.depth>o&&(o=e.depth)}));var r=e.expandAndCollapse&&e.initialTreeDepth>=0?e.initialTreeDepth:o;return i.root.eachNode("preorder",(function(e){var t=e.hostTree.data.getRawDataItem(e.dataIndex);e.isExpand=t&&null!=t.collapsed?!t.collapsed:e.depth<=r})),i.data},t.prototype.getOrient=function(){var e=this.get("orient");return"horizontal"===e?e="LR":"vertical"===e&&(e="TB"),e},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.formatTooltip=function(e,t,n){for(var a=this.getData().tree,i=a.root.children[0],o=a.getNodeByDataIndex(e),r=o.getValue(),s=o.name;o&&o!==i;)s=o.parentNode.name+"."+s,o=o.parentNode;return(0,Yt.Qx)("nameValue",{name:s,value:r,noValue:isNaN(r)||null==r})},t.prototype.getDataParams=function(t){var n=e.prototype.getDataParams.apply(this,arguments),a=this.getData().tree.getNodeByDataIndex(t);return n.treeAncestors=jn(a,this),n.collapsed=!a.isExpand,n},t.type="series.tree",t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},t}(S.A);const Zn=qn;function $n(e,t){for(var n,a=[e];n=a.pop();)if(t(n),n.isExpand){var i=n.children;if(i.length)for(var o=i.length-1;o>=0;o--)a.push(i[o])}}function Kn(e,t){e.eachSeriesByType("tree",(function(e){!function(e,t){var n=hn(e,t);e.layoutInfo=n;var a=e.get("layout"),i=0,o=0,r=null;"radial"===a?(i=2*Math.PI,o=Math.min(n.height,n.width)/2,r=un((function(e,t){return(e.parentNode===t.parentNode?1:2)/e.depth}))):(i=n.width,o=n.height,r=un());var s=e.getData().tree.root,l=s.children[0];if(l){!function(e){var t=e;t.hierNode={defaultAncestor:null,ancestor:t,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var n,a,i=[t];n=i.pop();)if(a=n.children,n.isExpand&&a.length)for(var o=a.length-1;o>=0;o--){var r=a[o];r.hierNode={defaultAncestor:null,ancestor:r,prelim:0,modifier:0,change:0,shift:0,i:o,thread:null},i.push(r)}}(s),function(e,t,n){for(var a,i=[e],o=[];a=i.pop();)if(o.push(a),a.isExpand){var r=a.children;if(r.length)for(var s=0;s<r.length;s++)i.push(r[s])}for(;a=o.pop();)t(a,n)}(l,sn,r),s.hierNode.modifier=-l.hierNode.prelim,$n(l,ln);var u=l,d=l,h=l;$n(l,(function(e){var t=e.getLayout().x;t<u.getLayout().x&&(u=e),t>d.getLayout().x&&(d=e),e.depth>h.depth&&(h=e)}));var c=u===d?1:r(u,d)/2,p=c-u.getLayout().x,g=0,f=0,y=0,m=0;if("radial"===a)g=i/(d.getLayout().x+c+p),f=o/(h.depth-1||1),$n(l,(function(e){y=(e.getLayout().x+p)*g,m=(e.depth-1)*f;var t=dn(y,m);e.setLayout({x:t.x,y:t.y,rawX:y,rawY:m},!0)}));else{var v=e.getOrient();"RL"===v||"LR"===v?(f=o/(d.getLayout().x+c+p),g=i/(h.depth-1||1),$n(l,(function(e){m=(e.getLayout().x+p)*f,y="LR"===v?(e.depth-1)*g:i-(e.depth-1)*g,e.setLayout({x:y,y:m},!0)}))):"TB"!==v&&"BT"!==v||(g=i/(d.getLayout().x+c+p),f=o/(h.depth-1||1),$n(l,(function(e){y=(e.getLayout().x+p)*g,m="TB"===v?(e.depth-1)*f:o-(e.depth-1)*f,e.setLayout({x:y,y:m},!0)})))}}}(e,t)}))}function Jn(e){e.eachSeriesByType("tree",(function(e){var t=e.getData();t.tree.eachNode((function(e){var n=e.getModel().getModel("itemStyle").getItemStyle(),a=t.ensureUniqueItemVisual(e.dataIndex,"style");(0,i.X$)(a,n)}))}))}var Qn=n(78536);function ea(e){e.registerChartView(Nn),e.registerSeriesModel(Zn),e.registerLayout(Kn),e.registerVisual(Jn),function(e){e.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},(function(e,t){t.eachComponent({mainType:"series",subType:"tree",query:e},(function(t){var n=e.dataIndex,a=t.getData().tree.getNodeByDataIndex(n);a.isExpand=!a.isExpand}))})),e.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},(function(e,t,n){t.eachComponent({mainType:"series",subType:"tree",query:e},(function(t){var a=t.coordinateSystem,i=(0,Qn.f)(a,e,void 0,n);t.setCenter&&t.setCenter(i.center),t.setZoom&&t.setZoom(i.zoom)}))}))}(e)}var ta=["treemapZoomToNode","treemapRender","treemapMove"];var na=n(96501);function aa(e){var t=e.getData().tree,n={};t.eachNode((function(t){for(var a=t;a&&a.depth>1;)a=a.parentNode;var i=(0,na.x)(e.ecModel,a.name||a.dataIndex+"",n);t.setVisual("decal",i)}))}var ia=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.preventUsingHoverLayer=!0,n}return(0,a.C6)(t,e),t.prototype.getInitialData=function(e,t){var n={name:e.name,children:e.data};oa(n);var a=e.levels||[],o=this.designatedVisualItemStyle={},r=new Xn.A({itemStyle:o},this,t);a=e.levels=function(e,t){var n,a,o=(0,d.qB)(t.get("color")),r=(0,d.qB)(t.get(["aria","decal","decals"]));if(!o)return;e=e||[],i.__(e,(function(e){var t=new Xn.A(e),i=t.get("color"),o=t.get("decal");(t.get(["itemStyle","color"])||i&&"none"!==i)&&(n=!0),(t.get(["itemStyle","decal"])||o&&"none"!==o)&&(a=!0)}));var s=e[0]||(e[0]={});n||(s.color=o.slice());!a&&r&&(s.decal=r.slice());return e}(a,t);var s=i.Tj(a||[],(function(e){return new Xn.A(e,r,t)}),this),l=Fn.createTree(n,this,(function(e){e.wrapMethod("getItemModel",(function(e,t){var n=l.getNodeByDataIndex(t),a=n?s[n.depth]:null;return e.parentModel=a||r,e}))}));return l.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.formatTooltip=function(e,t,n){var a=this.getData(),i=this.getRawValue(e),o=a.getName(e);return(0,Yt.Qx)("nameValue",{name:o,value:i})},t.prototype.getDataParams=function(t){var n=e.prototype.getDataParams.apply(this,arguments),a=this.getData().tree.getNodeByDataIndex(t);return n.treeAncestors=jn(a,this),n.treePathInfo=n.treeAncestors,n},t.prototype.setLayoutInfo=function(e){this.layoutInfo=this.layoutInfo||{},i.X$(this.layoutInfo,e)},t.prototype.mapIdToIndex=function(e){var t=this._idIndexMap;t||(t=this._idIndexMap=i.nt(),this._idIndexMapCount=0);var n=t.get(e);return null==n&&t.set(e,n=this._idIndexMapCount++),n},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var t=this.getRawData().tree.root;e&&(e===t||t.contains(e))||(this._viewRoot=t)},t.prototype.enableAriaDecal=function(){aa(this)},t.type="series.treemap",t.layoutMode="box",t.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"\u25b6",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},t}(S.A);function oa(e){var t=0;i.__(e.children,(function(e){oa(e);var n=e.value;i.cy(n)&&(n=n[0]),t+=n}));var n=e.value;i.cy(n)&&(n=n[0]),(null==n||isNaN(n))&&(n=t),n<0&&(n=0),i.cy(e.value)?e.value[0]=n:e.value=n}const ra=ia;var sa=n(16563),la=function(){function e(e){this.group=new w.A,e.add(this.group)}return e.prototype.render=function(e,t,n,a){var i=e.getModel("breadcrumb"),o=this.group;if(o.removeAll(),i.get("show")&&n){var r=i.getModel("itemStyle"),s=i.getModel("emphasis"),l=r.getModel("textStyle"),u=s.getModel(["itemStyle","textStyle"]),d={pos:{left:i.get("left"),right:i.get("right"),top:i.get("top"),bottom:i.get("bottom")},box:{width:t.getWidth(),height:t.getHeight()},emptyItemWidth:i.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(n,d,l),this._renderContent(e,d,r,s,l,u,a),ot.m$(o,d.pos,d.box)}},e.prototype._prepare=function(e,t,n){for(var a=e;a;a=a.parentNode){var i=(0,d.vS)(a.getModel().get("name"),""),o=n.getTextRect(i),r=Math.max(o.width+16,t.emptyItemWidth);t.totalWidth+=r+8,t.renderList.push({node:a,text:i,width:r})}},e.prototype._renderContent=function(e,t,n,a,o,r,s){for(var l=0,u=t.emptyItemWidth,d=e.get(["breadcrumb","height"]),h=ot.HU(t.pos,t.box),c=t.totalWidth,p=t.renderList,g=a.getModel("itemStyle").getItemStyle(),f=p.length-1;f>=0;f--){var y=p[f],m=y.node,v=y.width,x=y.text;c>h.width&&(c-=v-u,v=u,x=null);var _=new Wt.A({shape:{points:ua(l,0,v,d,f===p.length-1,0===f)},style:(0,i.NT)(n.getItemStyle(),{lineJoin:"bevel"}),textContent:new R.Ay({style:(0,te.VB)(o,{text:x})}),textConfig:{position:"inside"},z2:1e4*ee.CA,onclick:(0,i.cF)(s,m)});_.disableLabelAnimation=!0,_.getTextContent().ensureState("emphasis").style=(0,te.VB)(r,{text:x}),_.ensureState("emphasis").style=g,(0,ee.Lm)(_,a.get("focus"),a.get("blurScope"),a.get("disabled")),this.group.add(_),da(_,e,m),l+=v+8}},e.prototype.remove=function(){this.group.removeAll()},e}();function ua(e,t,n,a,i,o){var r=[[i?e:e-5,t],[e+n,t],[e+n,t+a],[i?e:e-5,t+a]];return!o&&r.splice(2,0,[e+n+5,t+a/2]),!i&&r.push([e,t+a/2]),r}function da(e,t,n){(0,ae.z)(e).eventData={componentType:"series",componentSubType:"treemap",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:n&&n.dataIndex,name:n&&n.name},treePathInfo:n&&jn(n,t)}}const ha=la;var ca=n(45587),pa=function(){function e(){this._storage=[],this._elExistsMap={}}return e.prototype.add=function(e,t,n,a,i){return!this._elExistsMap[e.id]&&(this._elExistsMap[e.id]=!0,this._storage.push({el:e,target:t,duration:n,delay:a,easing:i}),!0)},e.prototype.finished=function(e){return this._finishedCallback=e,this},e.prototype.start=function(){for(var e=this,t=this._storage.length,n=function(){--t<=0&&(e._storage.length=0,e._elExistsMap={},e._finishedCallback&&e._finishedCallback())},a=0,i=this._storage.length;a<i;a++){var o=this._storage[a];o.el.animateTo(o.target,{duration:o.duration,delay:o.delay,easing:o.easing,setToFinal:!0,done:n,aborted:n})}return this},e}();var ga=n(32944),fa=n(71519),ya=w.A,ma=j.A,va="label",xa="upperLabel",_a=10*ee.CA,ba=2*ee.CA,Sa=3*ee.CA,Ia=(0,ga.A)([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),wa=function(e){var t=Ia(e);return t.stroke=t.fill=t.lineWidth=null,t},Aa=(0,d.$r)(),Ma=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n._state="ready",n._storage={nodeGroup:[],background:[],content:[]},n}return(0,a.C6)(t,e),t.prototype.render=function(e,t,n,a){var o=t.findComponents({mainType:"series",subType:"treemap",query:a});if(!((0,i.qh)(o,e)<0)){this.seriesModel=e,this.api=n,this.ecModel=t;var r=Yn(a,["treemapZoomToNode","treemapRootToNode"],e),s=a&&a.type,l=e.layoutInfo,u=!this._oldTree,d=this._storage,h="treemapRootToNode"===s&&r&&d?{rootNodeGroup:d.nodeGroup[r.node.getRawIndex()],direction:a.direction}:null,c=this._giveContainerGroup(l),p=e.get("animation"),g=this._doRender(c,e,h);!p||u||s&&"treemapZoomToNode"!==s&&"treemapRootToNode"!==s?g.renderFinally():this._doAnimation(c,g,e,h),this._resetController(n),this._renderBreadcrumb(e,n,r)}},t.prototype._giveContainerGroup=function(e){var t=this._containerGroup;return t||(t=this._containerGroup=new ya,this._initEvents(t),this.group.add(t)),t.x=e.x,t.y=e.y,t},t.prototype._doRender=function(e,t,n){var a=t.getData().tree,o=this._oldTree,r={nodeGroup:[],background:[],content:[]},s={nodeGroup:[],background:[],content:[]},l=this._storage,u=[];function h(e,a,o,h){return function(e,t,n,a,o,r,s,l,u,h){if(!s)return;var c=s.getLayout(),p=e.getData(),g=s.getModel();if(p.setItemGraphicEl(s.dataIndex,null),!c||!c.isInView)return;var f=c.width,y=c.height,m=c.borderWidth,v=c.invisible,x=s.getRawIndex(),_=l&&l.getRawIndex(),b=s.viewChildren,S=c.upperHeight,I=b&&b.length,A=g.getModel("itemStyle"),M=g.getModel(["emphasis","itemStyle"]),D=g.getModel(["blur","itemStyle"]),L=g.getModel(["select","itemStyle"]),C=A.get("borderRadius")||0,T=X("nodeGroup",ya);if(!T)return;if(u.add(T),T.x=c.x||0,T.y=c.y||0,T.markRedraw(),Aa(T).nodeWidth=f,Aa(T).nodeHeight=y,c.isAboveViewRoot)return T;var N=X("background",ma,h,ba);N&&O(T,N,I&&c.upperLabelHeight);var P=g.getModel("emphasis"),E=P.get("focus"),R=P.get("blurScope"),V=P.get("disabled"),k="ancestor"===E?s.getAncestorsIndices():"descendant"===E?s.getDescendantIndices():E;if(I)(0,ee.u6)(T)&&(0,ee.ix)(T,!1),N&&((0,ee.ix)(N,!V),p.setItemGraphicEl(s.dataIndex,N),(0,ee.gR)(N,k,R));else{var z=X("content",ma,h,Sa);z&&G(T,z),N.disableMorphing=!0,N&&(0,ee.u6)(N)&&(0,ee.ix)(N,!1),(0,ee.ix)(T,!V),p.setItemGraphicEl(s.dataIndex,T),(0,ee.gR)(T,k,R)}return T;function O(t,n,a){var i=(0,ae.z)(n);if(i.dataIndex=s.dataIndex,i.seriesIndex=e.seriesIndex,n.setShape({x:0,y:0,width:f,height:y,r:C}),v)B(n);else{n.invisible=!1;var o=s.getVisual("style"),r=o.stroke,l=wa(A);l.fill=r;var u=Ia(M);u.fill=M.get("borderColor");var d=Ia(D);d.fill=D.get("borderColor");var h=Ia(L);if(h.fill=L.get("borderColor"),a){var c=f-2*m;W(n,r,o.opacity,{x:m,y:0,width:c,height:S})}else n.removeTextContent();n.setStyle(l),n.ensureState("emphasis").style=u,n.ensureState("blur").style=d,n.ensureState("select").style=h,(0,ee.DW)(n)}t.add(n)}function G(t,n){var a=(0,ae.z)(n);a.dataIndex=s.dataIndex,a.seriesIndex=e.seriesIndex;var i=Math.max(f-2*m,0),o=Math.max(y-2*m,0);if(n.culling=!0,n.setShape({x:m,y:m,width:i,height:o,r:C}),v)B(n);else{n.invisible=!1;var r=s.getVisual("style"),l=r.fill,u=wa(A);u.fill=l,u.decal=r.decal;var d=Ia(M),h=Ia(D),c=Ia(L);W(n,l,r.opacity,null),n.setStyle(u),n.ensureState("emphasis").style=d,n.ensureState("blur").style=h,n.ensureState("select").style=c,(0,ee.DW)(n)}t.add(n)}function B(e){!e.invisible&&r.push(e)}function W(t,n,a,o){var r=g.getModel(o?xa:va),l=(0,d.vS)(g.get("name"),null),u=r.getShallow("show");(0,te.qM)(t,(0,te.lx)(g,o?xa:va),{defaultText:u?l:null,inheritColor:n,defaultOpacity:a,labelFetcher:e,labelDataIndex:s.dataIndex});var h=t.getTextContent();if(h){var p=h.style,f=(0,i.QX)(p.padding||0);o&&(t.setTextConfig({layoutRect:o}),h.disableLabelLayout=!0),h.beforeUpdate=function(){var e=Math.max((o?o.width:t.shape.width)-f[1]-f[3],0),n=Math.max((o?o.height:t.shape.height)-f[0]-f[2],0);p.width===e&&p.height===n||h.setStyle({width:e,height:n})},p.truncateMinChar=2,p.lineOverflow="truncate",F(p,o,c);var y=h.getState("emphasis");F(y?y.style:null,o,c)}}function F(t,n,a){var i=t?t.text:null;if(!n&&a.isLeafRoot&&null!=i){var o=e.get("drillDownIcon",!0);t.text=o?o+" "+i:i}}function X(e,a,i,r){var s=null!=_&&n[e][_],l=o[e];return s?(n[e][_]=null,Y(l,s)):v||((s=new a)instanceof fa.Ay&&(s.z2=function(e,t){return e*_a+t}(i,r)),H(l,s)),t[e][x]=s}function Y(e,t){var n=e[x]={};t instanceof ya?(n.oldX=t.x,n.oldY=t.y):n.oldShape=(0,i.X$)({},t.shape)}function H(e,t){var n=e[x]={},i=s.parentNode,r=t instanceof w.A;if(i&&(!a||"drillDown"===a.direction)){var l=0,u=0,d=o.background[i.getRawIndex()];!a&&d&&d.oldShape&&(l=d.oldShape.width,u=d.oldShape.height),r?(n.oldX=0,n.oldY=u):n.oldShape={x:l,y:u,width:0,height:0}}n.fadein=!r}}(t,s,l,n,r,u,e,a,o,h)}!function e(t,n,a,o,r){o?(n=t,(0,i.__)(t,(function(e,t){!e.isRemoved()&&l(t,t)}))):new sa.A(n,t,s,s).add(l).update(l).remove((0,i.cF)(l,null)).execute();function s(e){return e.getId()}function l(i,s){var l=null!=i?t[i]:null,u=null!=s?n[s]:null,d=h(l,u,a,r);d&&e(l&&l.viewChildren||[],u&&u.viewChildren||[],d,o,r+1)}}(a.root?[a.root]:[],o&&o.root?[o.root]:[],e,a===o||!o,0);var c=function(e){var t={nodeGroup:[],background:[],content:[]};return e&&(0,i.__)(e,(function(e,n){var a=t[n];(0,i.__)(e,(function(e){e&&(a.push(e),Aa(e).willDelete=!0)}))})),t}(l);return this._oldTree=a,this._storage=s,{lastsForAnimation:r,willDeleteEls:c,renderFinally:function(){(0,i.__)(c,(function(e){(0,i.__)(e,(function(e){e.parent&&e.parent.remove(e)}))})),(0,i.__)(u,(function(e){e.invisible=!0,e.dirty()}))}}},t.prototype._doAnimation=function(e,t,n,a){var o=n.get("animationDurationUpdate"),r=n.get("animationEasing"),s=((0,i.Tn)(o)?0:o)||0,l=((0,i.Tn)(r)?null:r)||"cubicOut",u=new pa;(0,i.__)(t.willDeleteEls,(function(e,t){(0,i.__)(e,(function(e,n){if(!e.invisible){var i,o=e.parent,r=Aa(o);if(a&&"drillDown"===a.direction)i=o===a.rootNodeGroup?{shape:{x:0,y:0,width:r.nodeWidth,height:r.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var d=0,h=0;r.willDelete||(d=r.nodeWidth/2,h=r.nodeHeight/2),i="nodeGroup"===t?{x:d,y:h,style:{opacity:0}}:{shape:{x:d,y:h,width:0,height:0},style:{opacity:0}}}i&&u.add(e,i,s,0,l)}}))})),(0,i.__)(this._storage,(function(e,n){(0,i.__)(e,(function(e,a){var o=t.lastsForAnimation[n][a],r={};o&&(e instanceof w.A?null!=o.oldX&&(r.x=e.x,r.y=e.y,e.x=o.oldX,e.y=o.oldY):(o.oldShape&&(r.shape=(0,i.X$)({},e.shape),e.setShape(o.oldShape)),o.fadein?(e.setStyle("opacity",0),r.style={opacity:1}):1!==e.style.opacity&&(r.style={opacity:1})),u.add(e,r,s,0,l))}))}),this),this._state="animating",u.finished((0,i.oI)((function(){this._state="ready",t.renderFinally()}),this)).start()},t.prototype._resetController=function(e){var t=this._controller;t||((t=this._controller=new _n.A(e.getZr())).enable(this.seriesModel.get("roam")),t.on("pan",(0,i.oI)(this._onPan,this)),t.on("zoom",(0,i.oI)(this._onZoom,this)));var n=new Tt.A(0,0,e.getWidth(),e.getHeight());t.setPointerChecker((function(e,t,a){return n.contain(t,a)}))},t.prototype._clearController=function(){var e=this._controller;e&&(e.dispose(),e=null)},t.prototype._onPan=function(e){if("animating"!==this._state&&(Math.abs(e.dx)>3||Math.abs(e.dy)>3)){var t=this.seriesModel.getData().tree.root;if(!t)return;var n=t.getLayout();if(!n)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:n.x+e.dx,y:n.y+e.dy,width:n.width,height:n.height}})}},t.prototype._onZoom=function(e){var t=e.originX,n=e.originY;if("animating"!==this._state){var a=this.seriesModel.getData().tree.root;if(!a)return;var i=a.getLayout();if(!i)return;var o=new Tt.A(i.x,i.y,i.width,i.height),r=this.seriesModel.layoutInfo;t-=r.x,n-=r.y;var s=ca.vt();ca.Tl(s,s,[-t,-n]),ca.hs(s,s,[e.scale,e.scale]),ca.Tl(s,s,[t,n]),o.applyTransform(s),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:o.x,y:o.y,width:o.width,height:o.height}})}},t.prototype._initEvents=function(e){var t=this;e.on("click",(function(e){if("ready"===t._state){var n=t.seriesModel.get("nodeClick",!0);if(n){var a=t.findTarget(e.offsetX,e.offsetY);if(a){var i=a.node;if(i.getLayout().isLeafRoot)t._rootToNode(a);else if("zoomToNode"===n)t._zoomToNode(a);else if("link"===n){var o=i.hostTree.data.getItemModel(i.dataIndex),r=o.get("link",!0),s=o.get("target",!0)||"blank";r&&(0,ie.JW)(r,s)}}}}}),this)},t.prototype._renderBreadcrumb=function(e,t,n){var a=this;n||(n=null!=e.get("leafDepth",!0)?{node:e.getViewRoot()}:this.findTarget(t.getWidth()/2,t.getHeight()/2))||(n={node:e.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new ha(this.group))).render(e,t,n.node,(function(t){"animating"!==a._state&&(Un(e.getViewRoot(),t)?a._rootToNode({node:t}):a._zoomToNode({node:t}))}))},t.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},t.prototype.dispose=function(){this._clearController()},t.prototype._zoomToNode=function(e){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype._rootToNode=function(e){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype.findTarget=function(e,t){var n;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},(function(a){var i=this._storage.background[a.getRawIndex()];if(i){var o=i.transformCoordToLocal(e,t),r=i.shape;if(!(r.x<=o[0]&&o[0]<=r.x+r.width&&r.y<=o[1]&&o[1]<=r.y+r.height))return!1;n={node:a,offsetX:o[0],offsetY:o[1]}}}),this),n},t.type="treemap",t}(U.A);const Da=Ma;var La=n(7857),Ca=(0,d.$r)();const Ta={seriesType:"treemap",reset:function(e){var t=e.getData().tree.root;t.isRemoved()||Na(t,{},e.getViewRoot().getAncestors(),e)}};function Na(e,t,n,a){var o=e.getModel(),r=e.getLayout(),s=e.hostTree.data;if(r&&!r.invisible&&r.isInView){var l,u=o.getModel("itemStyle"),d=function(e,t,n){var a=(0,i.X$)({},t),o=n.designatedVisualItemStyle;return(0,i.__)(["color","colorAlpha","colorSaturation"],(function(n){o[n]=t[n];var i=e.get(n);o[n]=null,null!=i&&(a[n]=i)})),a}(u,t,a),h=s.ensureUniqueItemVisual(e.dataIndex,"style"),c=u.get("borderColor"),p=u.get("borderColorSaturation");null!=p&&(c=function(e,t){return null!=t?(0,oe.Yu)(t,null,null,e):null}(p,l=Pa(d))),h.stroke=c;var g=e.viewChildren;if(g&&g.length){var f=function(e,t,n,a,i,o){if(!o||!o.length)return;var r=Ra(t,"color")||null!=i.color&&"none"!==i.color&&(Ra(t,"colorAlpha")||Ra(t,"colorSaturation"));if(!r)return;var s=t.get("visualMin"),l=t.get("visualMax"),u=n.dataExtent.slice();null!=s&&s<u[0]&&(u[0]=s),null!=l&&l>u[1]&&(u[1]=l);var d=t.get("colorMappingBy"),h={type:r.name,dataExtent:u,visual:r.range};"color"!==h.type||"index"!==d&&"id"!==d?h.mappingMethod="linear":(h.mappingMethod="category",h.loop=!0);var c=new La.A(h);return Ca(c).drColorMappingBy=d,c}(0,o,r,0,d,g);(0,i.__)(g,(function(e,t){if(e.depth>=n.length||e===n[e.depth]){var r=function(e,t,n,a,o,r){var s=(0,i.X$)({},t);if(o){var l=o.type,u="color"===l&&Ca(o).drColorMappingBy,d="index"===u?a:"id"===u?r.mapIdToIndex(n.getId()):n.getValue(e.get("visualDimension"));s[l]=o.mapValueToVisual(d)}return s}(o,d,e,t,f,a);Na(e,r,n,a)}}))}else l=Pa(d),h.fill=l}}function Pa(e){var t=Ea(e,"color");if(t){var n=Ea(e,"colorAlpha"),a=Ea(e,"colorSaturation");return a&&(t=(0,oe.Yu)(t,null,null,a)),n&&(t=(0,oe.hm)(t,n)),t}}function Ea(e,t){var n=e[t];if(null!=n&&"none"!==n)return n}function Ra(e,t){var n=e.get(t);return(0,i.cy)(n)&&n.length?{name:t,range:n}:null}var Va=Math.max,ka=Math.min,za=i.Je,Oa=i.__,Ga=["itemStyle","borderWidth"],Ba=["itemStyle","gapWidth"],Wa=["upperLabel","show"],Fa=["upperLabel","height"];const Xa={seriesType:"treemap",reset:function(e,t,n,a){var o=n.getWidth(),r=n.getHeight(),s=e.option,l=ot.dV(e.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()}),u=s.size||[],d=(0,Z.lo)(za(l.width,u[0]),o),h=(0,Z.lo)(za(l.height,u[1]),r),c=a&&a.type,p=Yn(a,["treemapZoomToNode","treemapRootToNode"],e),g="treemapRender"===c||"treemapMove"===c?a.rootRect:null,f=e.getViewRoot(),y=Hn(f);if("treemapMove"!==c){var m="treemapZoomToNode"===c?function(e,t,n,a,i){var o,r=(t||{}).node,s=[a,i];if(!r||r===n)return s;var l=a*i,u=l*e.option.zoomToNodeRatio;for(;o=r.parentNode;){for(var d=0,h=o.children,c=0,p=h.length;c<p;c++)d+=h[c].getValue();var g=r.getValue();if(0===g)return s;u*=d/g;var f=o.getModel(),y=f.get(Ga);(u+=4*y*y+(3*y+Math.max(y,qa(f)))*Math.pow(u,.5))>Z.Is&&(u=Z.Is),r=o}u<l&&(u=l);var m=Math.pow(u/l,.5);return[a*m,i*m]}(e,p,f,d,h):g?[g.width,g.height]:[d,h],v=s.sort;v&&"asc"!==v&&"desc"!==v&&(v="desc");var x={squareRatio:s.squareRatio,sort:v,leafDepth:s.leafDepth};f.hostTree.clearLayouts();var _={x:0,y:0,width:m[0],height:m[1],area:m[0]*m[1]};f.setLayout(_),Ya(f,x,!1,0),_=f.getLayout(),Oa(y,(function(e,t){var n=(y[t+1]||f).getValue();e.setLayout(i.X$({dataExtent:[n,n],borderWidth:0,upperHeight:0},_))}))}var b=e.getData().tree.root;b.setLayout(function(e,t,n){if(t)return{x:t.x,y:t.y};var a={x:0,y:0};if(!n)return a;var i=n.node,o=i.getLayout();if(!o)return a;var r=[o.width/2,o.height/2],s=i;for(;s;){var l=s.getLayout();r[0]+=l.x,r[1]+=l.y,s=s.parentNode}return{x:e.width/2-r[0],y:e.height/2-r[1]}}(l,g,p),!0),e.setLayoutInfo(l),ja(b,new Tt.A(-l.x,-l.y,o,r),y,f,0)}};function Ya(e,t,n,a){var o,r;if(!e.isRemoved()){var s=e.getLayout();o=s.width,r=s.height;var l=e.getModel(),u=l.get(Ga),d=l.get(Ba)/2,h=qa(l),c=Math.max(u,h),p=u-d,g=c-d;e.setLayout({borderWidth:u,upperHeight:c,upperLabelHeight:h},!0);var f=(o=Va(o-2*p,0))*(r=Va(r-p-g,0)),y=function(e,t,n,a,o,r){var s=e.children||[],l=a.sort;"asc"!==l&&"desc"!==l&&(l=null);var u=null!=a.leafDepth&&a.leafDepth<=r;if(o&&!u)return e.viewChildren=[];s=i.pb(s,(function(e){return!e.isRemoved()})),function(e,t){t&&e.sort((function(e,n){var a="asc"===t?e.getValue()-n.getValue():n.getValue()-e.getValue();return 0===a?"asc"===t?e.dataIndex-n.dataIndex:n.dataIndex-e.dataIndex:a}))}(s,l);var d=function(e,t,n){for(var a=0,i=0,o=t.length;i<o;i++)a+=t[i].getValue();var r,s=e.get("visualDimension");t&&t.length?"value"===s&&n?(r=[t[t.length-1].getValue(),t[0].getValue()],"asc"===n&&r.reverse()):(r=[1/0,-1/0],Oa(t,(function(e){var t=e.getValue(s);t<r[0]&&(r[0]=t),t>r[1]&&(r[1]=t)}))):r=[NaN,NaN];return{sum:a,dataExtent:r}}(t,s,l);if(0===d.sum)return e.viewChildren=[];if(d.sum=function(e,t,n,a,i){if(!a)return n;for(var o=e.get("visibleMin"),r=i.length,s=r,l=r-1;l>=0;l--){var u=i["asc"===a?r-l-1:l].getValue();u/n*t<o&&(s=l,n-=u)}return"asc"===a?i.splice(0,r-s):i.splice(s,r-s),n}(t,n,d.sum,l,s),0===d.sum)return e.viewChildren=[];for(var h=0,c=s.length;h<c;h++){var p=s[h].getValue()/d.sum*n;s[h].setLayout({area:p})}u&&(s.length&&e.setLayout({isLeafRoot:!0},!0),s.length=0);return e.viewChildren=s,e.setLayout({dataExtent:d.dataExtent},!0),s}(e,l,f,t,n,a);if(y.length){var m={x:p,y:g,width:o,height:r},v=ka(o,r),x=1/0,_=[];_.area=0;for(var b=0,S=y.length;b<S;){var I=y[b];_.push(I),_.area+=I.getLayout().area;var w=Ha(_,v,t.squareRatio);w<=x?(b++,x=w):(_.area-=_.pop().getLayout().area,Ua(_,v,m,d,!1),v=ka(m.width,m.height),_.length=_.area=0,x=1/0)}if(_.length&&Ua(_,v,m,d,!0),!n){var A=l.get("childrenVisibleMin");null!=A&&f<A&&(n=!0)}for(b=0,S=y.length;b<S;b++)Ya(y[b],t,n,a+1)}}}function Ha(e,t,n){for(var a=0,i=1/0,o=0,r=void 0,s=e.length;o<s;o++)(r=e[o].getLayout().area)&&(r<i&&(i=r),r>a&&(a=r));var l=e.area*e.area,u=t*t*n;return l?Va(u*a/l,l/(u*i)):1/0}function Ua(e,t,n,a,i){var o=t===n.width?0:1,r=1-o,s=["x","y"],l=["width","height"],u=n[s[o]],d=t?e.area/t:0;(i||d>n[l[r]])&&(d=n[l[r]]);for(var h=0,c=e.length;h<c;h++){var p=e[h],g={},f=d?p.getLayout().area/d:0,y=g[l[r]]=Va(d-2*a,0),m=n[s[o]]+n[l[o]]-u,v=h===c-1||m<f?m:f,x=g[l[o]]=Va(v-2*a,0);g[s[r]]=n[s[r]]+ka(a,y/2),g[s[o]]=u+ka(a,x/2),u+=v,p.setLayout(g,!0)}n[s[r]]+=d,n[l[r]]-=d}function ja(e,t,n,a,i){var o=e.getLayout(),r=n[i],s=r&&r===e;if(!(r&&!s||i===n.length&&e!==a)){e.setLayout({isInView:!0,invisible:!s&&!t.intersect(o),isAboveViewRoot:s},!0);var l=new Tt.A(t.x-o.x,t.y-o.y,t.width,t.height);Oa(e.viewChildren||[],(function(e){ja(e,l,n,a,i+1)}))}}function qa(e){return e.get(Wa)?e.get(Fa):0}function Za(e){e.registerSeriesModel(ra),e.registerChartView(Da),e.registerVisual(Ta),e.registerLayout(Xa),function(e){for(var t=0;t<ta.length;t++)e.registerAction({type:ta[t],update:"updateView"},i.lQ);e.registerAction({type:"treemapRootToNode",update:"updateView"},(function(e,t){t.eachComponent({mainType:"series",subType:"treemap",query:e},(function(t,n){var a=Yn(e,["treemapZoomToNode","treemapRootToNode"],t);if(a){var i=t.getViewRoot();i&&(e.direction=Un(i,a.node)?"rollUp":"drillDown"),t.resetViewRoot(a.node)}}))}))}(e)}function $a(e){var t=e.findComponents({mainType:"legend"});t&&t.length&&e.eachSeriesByType("graph",(function(e){var n=e.getCategoriesData(),a=e.getGraph().data,o=n.mapArray(n.getName);a.filterSelf((function(e){var n=a.getItemModel(e).getShallow("category");if(null!=n){(0,i.Et)(n)&&(n=o[n]);for(var r=0;r<t.length;r++)if(!t[r].isSelected(n))return!1}return!0}))}))}function Ka(e){var t={};e.eachSeriesByType("graph",(function(e){var n=e.getCategoriesData(),a=e.getData(),o={};n.each((function(a){var i=n.getName(a);o["ec-"+i]=a;var r=n.getItemModel(a),s=r.getModel("itemStyle").getItemStyle();s.fill||(s.fill=e.getColorFromPalette(i,t)),n.setItemVisual(a,"style",s);for(var l=["symbol","symbolSize","symbolKeepAspect"],u=0;u<l.length;u++){var d=r.getShallow(l[u],!0);null!=d&&n.setItemVisual(a,l[u],d)}})),n.count()&&a.each((function(e){var t=a.getItemModel(e).getShallow("category");if(null!=t){(0,i.Kg)(t)&&(t=o["ec-"+t]);var r=n.getItemVisual(t,"style"),s=a.ensureUniqueItemVisual(e,"style");(0,i.X$)(s,r);for(var l=["symbol","symbolSize","symbolKeepAspect"],u=0;u<l.length;u++)a.setItemVisual(e,l[u],n.getItemVisual(t,l[u]))}}))}))}function Ja(e){return e instanceof Array||(e=[e,e]),e}function Qa(e){e.eachSeriesByType("graph",(function(e){var t=e.getGraph(),n=e.getEdgeData(),a=Ja(e.get("edgeSymbol")),o=Ja(e.get("edgeSymbolSize"));n.setVisual("fromSymbol",a&&a[0]),n.setVisual("toSymbol",a&&a[1]),n.setVisual("fromSymbolSize",o&&o[0]),n.setVisual("toSymbolSize",o&&o[1]),n.setVisual("style",e.getModel("lineStyle").getLineStyle()),n.each((function(e){var a=n.getItemModel(e),o=t.getEdgeByIndex(e),r=Ja(a.getShallow("symbol",!0)),s=Ja(a.getShallow("symbolSize",!0)),l=a.getModel("lineStyle").getLineStyle(),u=n.ensureUniqueItemVisual(e,"style");switch((0,i.X$)(u,l),u.stroke){case"source":var d=o.node1.getVisual("style");u.stroke=d&&d.fill;break;case"target":d=o.node2.getVisual("style");u.stroke=d&&d.fill}r[0]&&o.setVisual("fromSymbol",r[0]),r[1]&&o.setVisual("toSymbol",r[1]),s[0]&&o.setVisual("fromSymbolSize",s[0]),s[1]&&o.setVisual("toSymbolSize",s[1])}))}))}var ei=n(83509),ti="--\x3e",ni=function(e){return e.get("autoCurveness")||null},ai=function(e,t){var n=ni(e),a=20,o=[];if(i.Et(n))a=n;else if(i.cy(n))return void(e.__curvenessList=n);t>a&&(a=t);var r=a%2?a+2:a+3;o=[];for(var s=0;s<r;s++)o.push((s%2?s+1:s)/10*(s%2?-1:1));e.__curvenessList=o},ii=function(e,t,n){var a=[e.id,e.dataIndex].join("."),i=[t.id,t.dataIndex].join(".");return[n.uid,a,i].join(ti)},oi=function(e){var t=e.split(ti);return[t[0],t[2],t[1]].join(ti)},ri=function(e,t){var n=ii(e.node1,e.node2,t);return t.__edgeMap[n]},si=function(e,t){return li(ii(e.node1,e.node2,t),t)+li(ii(e.node2,e.node1,t),t)},li=function(e,t){var n=t.__edgeMap;return n[e]?n[e].length:0};function ui(e,t,n,a){var o=ni(t),r=i.cy(o);if(!o)return null;var s=ri(e,t);if(!s)return null;for(var l=-1,u=0;u<s.length;u++)if(s[u]===n){l=u;break}var d=si(e,t);ai(t,d),e.lineStyle=e.lineStyle||{};var h=ii(e.node1,e.node2,t),c=t.__curvenessList,p=r||d%2?0:1;if(s.isForward)return c[p+l];var g=oi(h),f=li(g,t),y=c[l+f+p];return a?r?o&&0===o[0]?(f+p)%2?y:-y:((f%2?0:1)+p)%2?y:-y:(f+p)%2?y:-y:c[l+f+p]}function di(e){var t=e.coordinateSystem;if(!t||"view"===t.type){var n=e.getGraph();n.eachNode((function(e){var t=e.getModel();e.setLayout([+t.get("x"),+t.get("y")])})),hi(n,e)}}function hi(e,t){e.eachEdge((function(e,n){var a=i.WV(e.getModel().get(["lineStyle","curveness"]),-ui(e,t,n,!0),0),o=ei.o8(e.node1.getLayout()),r=ei.o8(e.node2.getLayout()),s=[o,r];+a&&s.push([(o[0]+r[0])/2-(o[1]-r[1])*a,(o[1]+r[1])/2-(r[0]-o[0])*a]),e.setLayout(s)}))}function ci(e,t){e.eachSeriesByType("graph",(function(e){var t=e.get("layout"),n=e.coordinateSystem;if(n&&"view"!==n.type){var a=e.getData(),o=[];(0,i.__)(n.dimensions,(function(e){o=o.concat(a.mapDimensionsAll(e))}));for(var r=0;r<a.count();r++){for(var s=[],l=!1,u=0;u<o.length;u++){var d=a.get(o[u],r);isNaN(d)||(l=!0),s.push(d)}l?a.setItemLayout(r,n.dataToPoint(s)):a.setItemLayout(r,[NaN,NaN])}hi(a.graph,e)}else t&&"none"!==t||di(e)}))}function pi(e){var t=e.coordinateSystem;if("view"!==t.type)return 1;var n=e.option.nodeScaleRatio,a=t.scaleX;return((t.getZoom()-1)*n+1)/a}function gi(e){var t=e.getVisual("symbolSize");return t instanceof Array&&(t=(t[0]+t[1])/2),+t}var fi=Math.PI,yi=[];function mi(e,t,n,a){var o=e.coordinateSystem;if(!o||"view"===o.type){var r=o.getBoundingRect(),s=e.getData(),l=s.graph,u=r.width/2+r.x,d=r.height/2+r.y,h=Math.min(r.width,r.height)/2,c=s.count();if(s.setLayout({cx:u,cy:d}),c){if(n){var p=o.pointToData(a),g=p[0],f=p[1],y=[g-u,f-d];ei.S8(y,y),ei.hs(y,y,h),n.setLayout([u+y[0],d+y[1]],!0),xi(n,e.get(["circular","rotateLabel"]),u,d)}vi[t](e,l,s,h,u,d,c),l.eachEdge((function(t,n){var a,o=i.WV(t.getModel().get(["lineStyle","curveness"]),ui(t,e,n),0),r=ei.o8(t.node1.getLayout()),s=ei.o8(t.node2.getLayout()),l=(r[0]+s[0])/2,h=(r[1]+s[1])/2;+o&&(a=[u*(o*=3)+l*(1-o),d*o+h*(1-o)]),t.setLayout([r,s,a])}))}}}var vi={value:function(e,t,n,a,i,o,r){var s=0,l=n.getSum("value"),u=2*Math.PI/(l||r);t.eachNode((function(e){var t=e.getValue("value"),n=u*(l?t:1)/2;s+=n,e.setLayout([a*Math.cos(s)+i,a*Math.sin(s)+o]),s+=n}))},symbolSize:function(e,t,n,a,i,o,r){var s=0;yi.length=r;var l=pi(e);t.eachNode((function(e){var t=gi(e);isNaN(t)&&(t=2),t<0&&(t=0),t*=l;var n=Math.asin(t/2/a);isNaN(n)&&(n=fi/2),yi[e.dataIndex]=n,s+=2*n}));var u=(2*fi-s)/r/2,d=0;t.eachNode((function(e){var t=u+yi[e.dataIndex];d+=t,(!e.getLayout()||!e.getLayout().fixed)&&e.setLayout([a*Math.cos(d)+i,a*Math.sin(d)+o]),d+=t}))}};function xi(e,t,n,a){var o=e.getGraphicEl();if(o){var r=e.getModel().get(["label","rotate"])||0,s=o.getSymbolPath();if(t){var l=e.getLayout(),u=Math.atan2(l[1]-a,l[0]-n);u<0&&(u=2*Math.PI+u);var d=l[0]<n;d&&(u-=Math.PI);var h=d?"left":"right";s.setTextConfig({rotation:-u,position:h,origin:"center"});var c=s.ensureState("emphasis");i.X$(c.textConfig||(c.textConfig={}),{position:h})}else s.setTextConfig({rotation:r*=Math.PI/180})}}function _i(e){e.eachSeriesByType("graph",(function(e){"circular"===e.get("layout")&&mi(e,"symbolSize")}))}var bi=ei.Ln;function Si(e){e.eachSeriesByType("graph",(function(e){var t=e.coordinateSystem;if(!t||"view"===t.type)if("force"===e.get("layout")){var n=e.preservedPoints||{},a=e.getGraph(),o=a.data,r=a.edgeData,s=e.getModel("force"),l=s.get("initLayout");e.preservedPoints?o.each((function(e){var t=o.getId(e);o.setItemLayout(e,n[t]||[NaN,NaN])})):l&&"none"!==l?"circular"===l&&mi(e,"value"):di(e);var u=o.getDataExtent("value"),d=r.getDataExtent("value"),h=s.get("repulsion"),c=s.get("edgeLength"),p=i.cy(h)?h:[h,h],g=i.cy(c)?c:[c,c];g=[g[1],g[0]];var f=o.mapArray("value",(function(e,t){var n=o.getItemLayout(t),a=(0,Z.Cb)(e,u,p);return isNaN(a)&&(a=(p[0]+p[1])/2),{w:a,rep:a,fixed:o.getItemModel(t).get("fixed"),p:!n||isNaN(n[0])||isNaN(n[1])?null:n}})),y=r.mapArray("value",(function(t,n){var o=a.getEdgeByIndex(n),r=(0,Z.Cb)(t,d,g);isNaN(r)&&(r=(g[0]+g[1])/2);var s=o.getModel(),l=i.WV(o.getModel().get(["lineStyle","curveness"]),-ui(o,e,n,!0),0);return{n1:f[o.node1.dataIndex],n2:f[o.node2.dataIndex],d:r,curveness:l,ignoreForceLayout:s.get("ignoreForceLayout")}})),m=t.getBoundingRect(),v=function(e,t,n){for(var a=e,i=t,o=n.rect,r=o.width,s=o.height,l=[o.x+r/2,o.y+s/2],u=null==n.gravity?.1:n.gravity,d=0;d<a.length;d++){var h=a[d];h.p||(h.p=ei.vt(r*(Math.random()-.5)+l[0],s*(Math.random()-.5)+l[1])),h.pp=ei.o8(h.p),h.edges=null}var c,p,g=null==n.friction?.6:n.friction,f=g;return{warmUp:function(){f=.8*g},setFixed:function(e){a[e].fixed=!0},setUnfixed:function(e){a[e].fixed=!1},beforeStep:function(e){c=e},afterStep:function(e){p=e},step:function(e){c&&c(a,i);for(var t=[],n=a.length,o=0;o<i.length;o++){var r=i[o];if(!r.ignoreForceLayout){var s=r.n1,d=r.n2;ei.jb(t,d.p,s.p);var h=ei.Il(t)-r.d,g=d.w/(s.w+d.w);isNaN(g)&&(g=0),ei.S8(t,t),!s.fixed&&bi(s.p,s.p,t,g*h*f),!d.fixed&&bi(d.p,d.p,t,-(1-g)*h*f)}}for(o=0;o<n;o++)(x=a[o]).fixed||(ei.jb(t,l,x.p),bi(x.p,x.p,t,u*f));for(o=0;o<n;o++){s=a[o];for(var y=o+1;y<n;y++){d=a[y],ei.jb(t,d.p,s.p),0===(h=ei.Il(t))&&(ei.hZ(t,Math.random()-.5,Math.random()-.5),h=1);var m=(s.rep+d.rep)/h/h;!s.fixed&&bi(s.pp,s.pp,t,m),!d.fixed&&bi(d.pp,d.pp,t,-m)}}var v=[];for(o=0;o<n;o++){var x;(x=a[o]).fixed||(ei.jb(v,x.p,x.pp),bi(x.p,x.p,v,f),ei.C(x.pp,x.p))}var _=(f*=.992)<.01;p&&p(a,i,_),e&&e(_)}}}(f,y,{rect:m,gravity:s.get("gravity"),friction:s.get("friction")});v.beforeStep((function(e,t){for(var n=0,i=e.length;n<i;n++)e[n].fixed&&ei.C(e[n].p,a.getNodeByIndex(n).getLayout())})),v.afterStep((function(e,t,i){for(var r=0,s=e.length;r<s;r++)e[r].fixed||a.getNodeByIndex(r).setLayout(e[r].p),n[o.getId(r)]=e[r].p;for(r=0,s=t.length;r<s;r++){var l=t[r],u=a.getEdgeByIndex(r),d=l.n1.p,h=l.n2.p,c=u.getLayout();(c=c?c.slice():[])[0]=c[0]||[],c[1]=c[1]||[],ei.C(c[0],d),ei.C(c[1],h),+l.curveness&&(c[2]=[(d[0]+h[0])/2-(d[1]-h[1])*l.curveness,(d[1]+h[1])/2-(h[0]-d[0])*l.curveness]),u.setLayout(c)}})),e.forceLayout=v,e.preservedPoints=n,v.step()}else e.forceLayout=null}))}function Ii(e,t){var n=[];return e.eachSeriesByType("graph",(function(e){var a=e.get("coordinateSystem");if(!a||"view"===a){var o=e.getData(),r=o.mapArray((function(e){var t=o.getItemModel(e);return[+t.get("x"),+t.get("y")]})),s=[],l=[];mn.Cr(r,s,l),l[0]-s[0]==0&&(l[0]+=1,s[0]-=1),l[1]-s[1]==0&&(l[1]+=1,s[1]-=1);var u=(l[0]-s[0])/(l[1]-s[1]),d=function(e,t,n){var a=(0,i.X$)(e.getBoxLayoutParams(),{aspect:n});return(0,ot.dV)(a,{width:t.getWidth(),height:t.getHeight()})}(e,t,u);isNaN(u)&&(s=[d.x,d.y],l=[d.x+d.width,d.y+d.height]);var h=l[0]-s[0],c=l[1]-s[1],p=d.width,g=d.height,f=e.coordinateSystem=new vn.A;f.zoomLimit=e.get("scaleLimit"),f.setBoundingRect(s[0],s[1],h,c),f.setViewRect(d.x,d.y,p,g),f.setCenter(e.get("center"),t),f.setZoom(e.get("zoom")),n.push(f)}})),n}var wi=n(64380),Ai=[],Mi=[],Di=[],Li=z.k3,Ci=ei.oi,Ti=Math.abs;function Ni(e,t,n){for(var a,i=e[0],o=e[1],r=e[2],s=1/0,l=n*n,u=.1,d=.1;d<=.9;d+=.1){Ai[0]=Li(i[0],o[0],r[0],d),Ai[1]=Li(i[1],o[1],r[1],d),(p=Ti(Ci(Ai,t)-l))<s&&(s=p,a=d)}for(var h=0;h<32;h++){var c=a+u;Mi[0]=Li(i[0],o[0],r[0],a),Mi[1]=Li(i[1],o[1],r[1],a),Di[0]=Li(i[0],o[0],r[0],c),Di[1]=Li(i[1],o[1],r[1],c);var p=Ci(Mi,t)-l;if(Ti(p)<.01)break;var g=Ci(Di,t)-l;u/=2,p<0?g>=0?a+=u:a-=u:g>=0?a-=u:a+=u}return a}function Pi(e,t){var n=[],a=z.kx,i=[[],[],[]],o=[[],[]],r=[];t/=2,e.eachEdge((function(e,s){var l=e.getLayout(),u=e.getVisual("fromSymbol"),d=e.getVisual("toSymbol");l.__original||(l.__original=[ei.o8(l[0]),ei.o8(l[1])],l[2]&&l.__original.push(ei.o8(l[2])));var h=l.__original;if(null!=l[2]){if(ei.C(i[0],h[0]),ei.C(i[1],h[2]),ei.C(i[2],h[1]),u&&"none"!==u){var c=gi(e.node1),p=Ni(i,h[0],c*t);a(i[0][0],i[1][0],i[2][0],p,n),i[0][0]=n[3],i[1][0]=n[4],a(i[0][1],i[1][1],i[2][1],p,n),i[0][1]=n[3],i[1][1]=n[4]}if(d&&"none"!==d){c=gi(e.node2),p=Ni(i,h[1],c*t);a(i[0][0],i[1][0],i[2][0],p,n),i[1][0]=n[1],i[2][0]=n[2],a(i[0][1],i[1][1],i[2][1],p,n),i[1][1]=n[1],i[2][1]=n[2]}ei.C(l[0],i[0]),ei.C(l[1],i[2]),ei.C(l[2],i[1])}else{if(ei.C(o[0],h[0]),ei.C(o[1],h[1]),ei.jb(r,o[1],o[0]),ei.S8(r,r),u&&"none"!==u){c=gi(e.node1);ei.Ln(o[0],o[0],r,c*t)}if(d&&"none"!==d){c=gi(e.node2);ei.Ln(o[1],o[1],r,-c*t)}ei.C(l[0],o[0]),ei.C(l[1],o[1])}}))}function Ei(e){return"view"===e.type}var Ri=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,a.C6)(t,e),t.prototype.init=function(e,t){var n=new D.A,a=new wi.A,i=this.group;this._controller=new _n.A(t.getZr()),this._controllerHost={target:i},i.add(n.group),i.add(a.group),this._symbolDraw=n,this._lineDraw=a,this._firstRender=!0},t.prototype.render=function(e,t,n){var a=this,i=e.coordinateSystem;this._model=e;var o=this._symbolDraw,r=this._lineDraw,s=this.group;if(Ei(i)){var l={x:i.x,y:i.y,scaleX:i.scaleX,scaleY:i.scaleY};this._firstRender?s.attr(l):E.oi(s,l,e)}Pi(e.getGraph(),pi(e));var u=e.getData();o.updateData(u);var d=e.getEdgeData();r.updateData(d),this._updateNodeAndLinkScale(),this._updateController(e,t,n),clearTimeout(this._layoutTimeout);var h=e.forceLayout,c=e.get(["force","layoutAnimation"]);h&&this._startForceLayoutIteration(h,c);var p=e.get("layout");u.graph.eachNode((function(t){var n=t.dataIndex,i=t.getGraphicEl(),o=t.getModel();if(i){i.off("drag").off("dragend");var r=o.get("draggable");r&&i.on("drag",(function(o){switch(p){case"force":h.warmUp(),!a._layouting&&a._startForceLayoutIteration(h,c),h.setFixed(n),u.setItemLayout(n,[i.x,i.y]);break;case"circular":u.setItemLayout(n,[i.x,i.y]),t.setLayout({fixed:!0},!0),mi(e,"symbolSize",t,[o.offsetX,o.offsetY]),a.updateLayout(e);break;default:u.setItemLayout(n,[i.x,i.y]),hi(e.getGraph(),e),a.updateLayout(e)}})).on("dragend",(function(){h&&h.setUnfixed(n)})),i.setDraggable(r,!!o.get("cursor")),"adjacency"===o.get(["emphasis","focus"])&&((0,ae.z)(i).focus=t.getAdjacentDataIndices())}})),u.graph.eachEdge((function(e){var t=e.getGraphicEl(),n=e.getModel().get(["emphasis","focus"]);t&&"adjacency"===n&&((0,ae.z)(t).focus={edge:[e.dataIndex],node:[e.node1.dataIndex,e.node2.dataIndex]})}));var g="circular"===e.get("layout")&&e.get(["circular","rotateLabel"]),f=u.getLayout("cx"),y=u.getLayout("cy");u.graph.eachNode((function(e){xi(e,g,f,y)})),this._firstRender=!1},t.prototype.dispose=function(){this.remove(),this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype._startForceLayoutIteration=function(e,t){var n=this;!function a(){e.step((function(e){n.updateLayout(n._model),(n._layouting=!e)&&(t?n._layoutTimeout=setTimeout(a,16):a())}))}()},t.prototype._updateController=function(e,t,n){var a=this,i=this._controller,o=this._controllerHost,r=this.group;i.setPointerChecker((function(t,a,i){var o=r.getBoundingRect();return o.applyTransform(r.transform),o.contain(a,i)&&!(0,bn.I)(t,n,e)})),Ei(e.coordinateSystem)?(i.enable(e.get("roam")),o.zoomLimit=e.get("scaleLimit"),o.zoom=e.coordinateSystem.getZoom(),i.off("pan").off("zoom").on("pan",(function(t){xn.t(o,t.dx,t.dy),n.dispatchAction({seriesId:e.id,type:"graphRoam",dx:t.dx,dy:t.dy})})).on("zoom",(function(t){xn.x(o,t.scale,t.originX,t.originY),n.dispatchAction({seriesId:e.id,type:"graphRoam",zoom:t.scale,originX:t.originX,originY:t.originY}),a._updateNodeAndLinkScale(),Pi(e.getGraph(),pi(e)),a._lineDraw.updateLayout(),n.updateLabelLayout()}))):i.disable()},t.prototype._updateNodeAndLinkScale=function(){var e=this._model,t=e.getData(),n=pi(e);t.eachItemGraphicEl((function(e,t){e&&e.setSymbolScale(n)}))},t.prototype.updateLayout=function(e){Pi(e.getGraph(),pi(e)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},t.prototype.remove=function(){clearTimeout(this._layoutTimeout),this._layouting=!1,this._layoutTimeout=null,this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},t.type="graph",t}(U.A);const Vi=Ri;function ki(e){return"_EC_"+e}var zi=function(){function e(e){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=e||!1}return e.prototype.isDirected=function(){return this._directed},e.prototype.addNode=function(e,t){e=null==e?""+t:""+e;var n=this._nodesMap;if(!n[ki(e)]){var a=new Oi(e,t);return a.hostGraph=this,this.nodes.push(a),n[ki(e)]=a,a}},e.prototype.getNodeByIndex=function(e){var t=this.data.getRawIndex(e);return this.nodes[t]},e.prototype.getNodeById=function(e){return this._nodesMap[ki(e)]},e.prototype.addEdge=function(e,t,n){var a=this._nodesMap,o=this._edgesMap;if(i.Et(e)&&(e=this.nodes[e]),i.Et(t)&&(t=this.nodes[t]),e instanceof Oi||(e=a[ki(e)]),t instanceof Oi||(t=a[ki(t)]),e&&t){var r=e.id+"-"+t.id,s=new Gi(e,t,n);return s.hostGraph=this,this._directed&&(e.outEdges.push(s),t.inEdges.push(s)),e.edges.push(s),e!==t&&t.edges.push(s),this.edges.push(s),o[r]=s,s}},e.prototype.getEdgeByIndex=function(e){var t=this.edgeData.getRawIndex(e);return this.edges[t]},e.prototype.getEdge=function(e,t){e instanceof Oi&&(e=e.id),t instanceof Oi&&(t=t.id);var n=this._edgesMap;return this._directed?n[e+"-"+t]:n[e+"-"+t]||n[t+"-"+e]},e.prototype.eachNode=function(e,t){for(var n=this.nodes,a=n.length,i=0;i<a;i++)n[i].dataIndex>=0&&e.call(t,n[i],i)},e.prototype.eachEdge=function(e,t){for(var n=this.edges,a=n.length,i=0;i<a;i++)n[i].dataIndex>=0&&n[i].node1.dataIndex>=0&&n[i].node2.dataIndex>=0&&e.call(t,n[i],i)},e.prototype.breadthFirstTraverse=function(e,t,n,a){if(t instanceof Oi||(t=this._nodesMap[ki(t)]),t){for(var i="out"===n?"outEdges":"in"===n?"inEdges":"edges",o=0;o<this.nodes.length;o++)this.nodes[o].__visited=!1;if(!e.call(a,t,null))for(var r=[t];r.length;){var s=r.shift(),l=s[i];for(o=0;o<l.length;o++){var u=l[o],d=u.node1===s?u.node2:u.node1;if(!d.__visited){if(e.call(a,d,s))return;r.push(d),d.__visited=!0}}}}},e.prototype.update=function(){for(var e=this.data,t=this.edgeData,n=this.nodes,a=this.edges,i=0,o=n.length;i<o;i++)n[i].dataIndex=-1;for(i=0,o=e.count();i<o;i++)n[e.getRawIndex(i)].dataIndex=i;t.filterSelf((function(e){var n=a[t.getRawIndex(e)];return n.node1.dataIndex>=0&&n.node2.dataIndex>=0}));for(i=0,o=a.length;i<o;i++)a[i].dataIndex=-1;for(i=0,o=t.count();i<o;i++)a[t.getRawIndex(i)].dataIndex=i},e.prototype.clone=function(){for(var t=new e(this._directed),n=this.nodes,a=this.edges,i=0;i<n.length;i++)t.addNode(n[i].id,n[i].dataIndex);for(i=0;i<a.length;i++){var o=a[i];t.addEdge(o.node1.id,o.node2.id,o.dataIndex)}return t},e}(),Oi=function(){function e(e,t){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=null==e?"":e,this.dataIndex=null==t?-1:t}return e.prototype.degree=function(){return this.edges.length},e.prototype.inDegree=function(){return this.inEdges.length},e.prototype.outDegree=function(){return this.outEdges.length},e.prototype.getModel=function(e){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(e)},e.prototype.getAdjacentDataIndices=function(){for(var e={edge:[],node:[]},t=0;t<this.edges.length;t++){var n=this.edges[t];n.dataIndex<0||(e.edge.push(n.dataIndex),e.node.push(n.node1.dataIndex,n.node2.dataIndex))}return e},e.prototype.getTrajectoryDataIndices=function(){for(var e=i.nt(),t=i.nt(),n=0;n<this.edges.length;n++){var a=this.edges[n];if(!(a.dataIndex<0)){e.set(a.dataIndex,!0);for(var o=[a.node1],r=[a.node2],s=0;s<o.length;){var l=o[s];s++,t.set(l.dataIndex,!0);for(var u=0;u<l.inEdges.length;u++)e.set(l.inEdges[u].dataIndex,!0),o.push(l.inEdges[u].node1)}for(s=0;s<r.length;){var d=r[s];s++,t.set(d.dataIndex,!0);for(u=0;u<d.outEdges.length;u++)e.set(d.outEdges[u].dataIndex,!0),r.push(d.outEdges[u].node2)}}}return{edge:e.keys(),node:t.keys()}},e}(),Gi=function(){function e(e,t,n){this.dataIndex=-1,this.node1=e,this.node2=t,this.dataIndex=null==n?-1:n}return e.prototype.getModel=function(e){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(e)},e.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},e.prototype.getTrajectoryDataIndices=function(){var e=i.nt(),t=i.nt();e.set(this.dataIndex,!0);for(var n=[this.node1],a=[this.node2],o=0;o<n.length;){var r=n[o];o++,t.set(r.dataIndex,!0);for(var s=0;s<r.inEdges.length;s++)e.set(r.inEdges[s].dataIndex,!0),n.push(r.inEdges[s].node1)}for(o=0;o<a.length;){var l=a[o];o++,t.set(l.dataIndex,!0);for(s=0;s<l.outEdges.length;s++)e.set(l.outEdges[s].dataIndex,!0),a.push(l.outEdges[s].node2)}return{edge:e.keys(),node:t.keys()}},e}();function Bi(e,t){return{getValue:function(n){var a=this[e][t];return a.getStore().get(a.getDimensionIndex(n||"value"),this.dataIndex)},setVisual:function(n,a){this.dataIndex>=0&&this[e][t].setItemVisual(this.dataIndex,n,a)},getVisual:function(n){return this[e][t].getItemVisual(this.dataIndex,n)},setLayout:function(n,a){this.dataIndex>=0&&this[e][t].setItemLayout(this.dataIndex,n,a)},getLayout:function(){return this[e][t].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[e][t].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[e][t].getRawIndex(this.dataIndex)}}}i.co(Oi,Bi("hostGraph","data")),i.co(Gi,Bi("hostGraph","edgeData"));const Wi=zi;function Fi(e,t,n,a,r){for(var s=new Wi(a),l=0;l<e.length;l++)s.addNode(i.Je(e[l].id,e[l].name,l),l);var u=[],h=[],c=0;for(l=0;l<t.length;l++){var g=t[l],f=g.source,m=g.target;s.addEdge(f,m,c)&&(h.push(g),u.push(i.Je((0,d.vS)(g.id,null),f+" > "+m)),c++)}var v,x=n.get("coordinateSystem");if("cartesian2d"===x||"polar"===x)v=b(e,n);else{var _=y.A.get(x),S=_&&_.dimensions||[];i.qh(S,"value")<0&&S.concat(["value"]);var I=p(e,{coordDimensions:S,encodeDefine:n.getEncode()}).dimensions;(v=new o.A(I,n)).initData(e)}var w=new o.A(["value"],n);return w.initData(h,u),r&&r(v,w),Bn({mainData:v,struct:s,structAttr:"graph",datas:{node:v,edge:w},datasAttr:{node:"data",edge:"edgeData"}}),s.update(),s}var Xi=n(4235),Yi=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return(0,a.C6)(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments);var n=this;function a(){return n._categoriesData}this.legendVisualProvider=new wt(a,a),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},t.prototype.mergeOption=function(t){e.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},t.prototype.mergeDefaultAndTheme=function(t){e.prototype.mergeDefaultAndTheme.apply(this,arguments),(0,d.M5)(t,"edgeLabel",["show"])},t.prototype.getInitialData=function(e,t){var n,a=e.edges||e.links||[],o=e.data||e.nodes||[],r=this;if(o&&a){ni(n=this)&&(n.__curvenessList=[],n.__edgeMap={},ai(n));var s=Fi(o,a,this,!0,(function(e,t){e.wrapMethod("getItemModel",(function(e){var t=r._categoriesModels[e.getShallow("category")];return t&&(t.parentModel=e.parentModel,e.parentModel=t),e}));var n=Xn.A.prototype.getModel;function a(e,t){var a=n.call(this,e,t);return a.resolveParentPath=i,a}function i(e){if(e&&("label"===e[0]||"label"===e[1])){var t=e.slice();return"label"===e[0]?t[0]="edgeLabel":"label"===e[1]&&(t[1]="edgeLabel"),t}return e}t.wrapMethod("getItemModel",(function(e){return e.resolveParentPath=i,e.getModel=a,e}))}));return i.__(s.edges,(function(e){!function(e,t,n,a){if(ni(n)){var i=ii(e,t,n),o=n.__edgeMap,r=o[oi(i)];o[i]&&!r?o[i].isForward=!0:r&&o[i]&&(r.isForward=!0,o[i].isForward=!1),o[i]=o[i]||[],o[i].push(a)}}(e.node1,e.node2,this,e.dataIndex)}),this),s.data}},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.getCategoriesData=function(){return this._categoriesData},t.prototype.formatTooltip=function(e,t,n){if("edge"===n){var a=this.getData(),i=this.getDataParams(e,n),o=a.graph.getEdgeByIndex(e),r=a.getName(o.node1.dataIndex),s=a.getName(o.node2.dataIndex),l=[];return null!=r&&l.push(r),null!=s&&l.push(s),(0,Yt.Qx)("nameValue",{name:l.join(" > "),value:i.value,noValue:null==i.value})}return(0,Xi.J)({series:this,dataIndex:e,multipleSeries:t})},t.prototype._updateCategoriesData=function(){var e=i.Tj(this.option.categories||[],(function(e){return null!=e.value?e:i.X$({value:0},e)})),t=new o.A(["value"],this);t.initData(e),this._categoriesData=t,this._categoriesModels=t.mapArray((function(e){return t.getItemModel(e)}))},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.isAnimationEnabled=function(){return e.prototype.isAnimationEnabled.call(this)&&!("force"===this.get("layout")&&this.get(["force","layoutAnimation"]))},t.type="series.graph",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}(S.A);const Hi=Yi;var Ui={type:"graphRoam",event:"graphRoam",update:"none"};function ji(e){e.registerChartView(Vi),e.registerSeriesModel(Hi),e.registerProcessor($a),e.registerVisual(Ka),e.registerVisual(Qa),e.registerLayout(ci),e.registerLayout(e.PRIORITY.VISUAL.POST_CHART_LAYOUT,_i),e.registerLayout(Si),e.registerCoordinateSystem("graphView",{dimensions:vn.A.dimensions,create:Ii}),e.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},i.lQ),e.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},i.lQ),e.registerAction(Ui,(function(e,t,n){t.eachComponent({mainType:"series",query:e},(function(t){var a=t.coordinateSystem,i=(0,Qn.f)(a,e,void 0,n);t.setCenter&&t.setCenter(i.center),t.setZoom&&t.setZoom(i.zoom)}))}))}var qi=function(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0};const Zi=function(e){function t(t){var n=e.call(this,t)||this;return n.type="pointer",n}return(0,a.C6)(t,e),t.prototype.getDefaultShape=function(){return new qi},t.prototype.buildPath=function(e,t){var n=Math.cos,a=Math.sin,i=t.r,o=t.width,r=t.angle,s=t.x-n(r)*o*(o>=i/3?1:2),l=t.y-a(r)*o*(o>=i/3?1:2);r=t.angle-Math.PI/2,e.moveTo(s,l),e.lineTo(t.x+n(r)*o,t.y+a(r)*o),e.lineTo(t.x+n(t.angle)*i,t.y+a(t.angle)*i),e.lineTo(t.x-n(r)*o,t.y-a(r)*o),e.lineTo(s,l)},t}(V.Ay);var $i=n(82861);function Ki(e,t){var n=null==e?"":e+"";return t&&((0,i.Kg)(t)?n=t.replace("{value}",n):(0,i.Tn)(t)&&(n=t(e))),n}var Ji=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,a.C6)(t,e),t.prototype.render=function(e,t,n){this.group.removeAll();var a=e.get(["axisLine","lineStyle","color"]),i=function(e,t){var n=e.get("center"),a=t.getWidth(),i=t.getHeight(),o=Math.min(a,i);return{cx:(0,Z.lo)(n[0],t.getWidth()),cy:(0,Z.lo)(n[1],t.getHeight()),r:(0,Z.lo)(e.get("radius"),o/2)}}(e,n);this._renderMain(e,t,n,a,i),this._data=e.getData()},t.prototype.dispose=function(){},t.prototype._renderMain=function(e,t,n,a,o){var r=this.group,s=e.get("clockwise"),l=-e.get("startAngle")/180*Math.PI,u=-e.get("endAngle")/180*Math.PI,d=e.getModel("axisLine"),h=d.get("roundCap")?Ee:q.A,c=d.get("show"),p=d.getModel("lineStyle"),g=p.get("width"),f=[l,u];(0,k.q)(f,!s);for(var y=(u=f[1])-(l=f[0]),m=l,v=[],x=0;c&&x<a.length;x++){var _=new h({shape:{startAngle:m,endAngle:u=l+y*Math.min(Math.max(a[x][0],0),1),cx:o.cx,cy:o.cy,clockwise:s,r0:o.r-g,r:o.r},silent:!0});_.setStyle({fill:a[x][1]}),_.setStyle(p.getLineStyle(["color","width"])),v.push(_),m=u}v.reverse(),(0,i.__)(v,(function(e){return r.add(e)}));var b=function(e){if(e<=0)return a[0][1];var t;for(t=0;t<a.length;t++)if(a[t][0]>=e&&(0===t?0:a[t-1][0])<e)return a[t][1];return a[t-1][1]};this._renderTicks(e,t,n,b,o,l,u,s,g),this._renderTitleAndDetail(e,t,n,b,o),this._renderAnchor(e,o),this._renderPointer(e,t,n,b,o,l,u,s,g)},t.prototype._renderTicks=function(e,t,n,a,o,r,s,l,u){for(var d,h,c=this.group,p=o.cx,g=o.cy,f=o.r,y=+e.get("min"),m=+e.get("max"),v=e.getModel("splitLine"),x=e.getModel("axisTick"),_=e.getModel("axisLabel"),b=e.get("splitNumber"),S=x.get("splitNumber"),I=(0,Z.lo)(v.get("length"),f),w=(0,Z.lo)(x.get("length"),f),A=r,M=(s-r)/b,D=M/S,L=v.getModel("lineStyle").getLineStyle(),C=x.getModel("lineStyle").getLineStyle(),T=v.get("distance"),N=0;N<=b;N++){if(d=Math.cos(A),h=Math.sin(A),v.get("show")){var P=T?T+u:u,E=new $i.A({shape:{x1:d*(f-P)+p,y1:h*(f-P)+g,x2:d*(f-I-P)+p,y2:h*(f-I-P)+g},style:L,silent:!0});"auto"===L.stroke&&E.setStyle({stroke:a(N/b)}),c.add(E)}if(_.get("show")){P=_.get("distance")+T;var V=Ki((0,Z.LI)(N/b*(m-y)+y),_.get("formatter")),k=a(N/b),z=d*(f-I-P)+p,O=h*(f-I-P)+g,G=_.get("rotate"),B=0;"radial"===G?(B=-A+2*Math.PI)>Math.PI/2&&(B+=Math.PI):"tangential"===G?B=-A-Math.PI/2:(0,i.Et)(G)&&(B=G*Math.PI/180),0===B?c.add(new R.Ay({style:(0,te.VB)(_,{text:V,x:z,y:O,verticalAlign:h<-.8?"top":h>.8?"bottom":"middle",align:d<-.4?"left":d>.4?"right":"center"},{inheritColor:k}),silent:!0})):c.add(new R.Ay({style:(0,te.VB)(_,{text:V,x:z,y:O,verticalAlign:"middle",align:"center"},{inheritColor:k}),silent:!0,originX:z,originY:O,rotation:B}))}if(x.get("show")&&N!==b){P=(P=x.get("distance"))?P+u:u;for(var W=0;W<=S;W++){d=Math.cos(A),h=Math.sin(A);var F=new $i.A({shape:{x1:d*(f-P)+p,y1:h*(f-P)+g,x2:d*(f-w-P)+p,y2:h*(f-w-P)+g},silent:!0,style:C});"auto"===C.stroke&&F.setStyle({stroke:a((N+W/S)/b)}),c.add(F),A+=D}A-=D}else A+=M}},t.prototype._renderPointer=function(e,t,n,a,o,r,s,l,u){var d=this.group,h=this._data,c=this._progressEls,p=[],g=e.get(["pointer","show"]),f=e.getModel("progress"),y=f.get("show"),m=e.getData(),v=m.mapDimension("value"),x=+e.get("min"),_=+e.get("max"),b=[x,_],S=[r,s];function w(t,n){var a,i=m.getItemModel(t).getModel("pointer"),r=(0,Z.lo)(i.get("width"),o.r),s=(0,Z.lo)(i.get("length"),o.r),l=e.get(["pointer","icon"]),u=i.get("offsetCenter"),d=(0,Z.lo)(u[0],o.r),h=(0,Z.lo)(u[1],o.r),c=i.get("keepAspect");return(a=l?(0,I.v5)(l,d-r/2,h-s,r,s,null,c):new Zi({shape:{angle:-Math.PI/2,width:r,r:s,x:d,y:h}})).rotation=-(n+Math.PI/2),a.x=o.cx,a.y=o.cy,a}function A(e,t){var n=f.get("roundCap")?Ee:q.A,a=f.get("overlap"),i=a?f.get("width"):u/m.count(),s=a?o.r-i:o.r-(e+1)*i,d=a?o.r:o.r-e*i,h=new n({shape:{startAngle:r,endAngle:t,cx:o.cx,cy:o.cy,clockwise:l,r0:s,r:d}});return a&&(h.z2=_-m.get(v,e)%_),h}(y||g)&&(m.diff(h).add((function(t){var n=m.get(v,t);if(g){var a=w(t,r);E.LW(a,{rotation:-((isNaN(+n)?S[0]:(0,Z.Cb)(n,b,S,!0))+Math.PI/2)},e),d.add(a),m.setItemGraphicEl(t,a)}if(y){var i=A(t,r),o=f.get("clip");E.LW(i,{shape:{endAngle:(0,Z.Cb)(n,b,S,o)}},e),d.add(i),(0,ae.a)(e.seriesIndex,m.dataType,t,i),p[t]=i}})).update((function(t,n){var a=m.get(v,t);if(g){var i=h.getItemGraphicEl(n),o=i?i.rotation:r,s=w(t,o);s.rotation=o,E.oi(s,{rotation:-((isNaN(+a)?S[0]:(0,Z.Cb)(a,b,S,!0))+Math.PI/2)},e),d.add(s),m.setItemGraphicEl(t,s)}if(y){var l=c[n],u=A(t,l?l.shape.endAngle:r),x=f.get("clip");E.oi(u,{shape:{endAngle:(0,Z.Cb)(a,b,S,x)}},e),d.add(u),(0,ae.a)(e.seriesIndex,m.dataType,t,u),p[t]=u}})).execute(),m.each((function(e){var t=m.getItemModel(e),n=t.getModel("emphasis"),o=n.get("focus"),r=n.get("blurScope"),s=n.get("disabled");if(g){var l=m.getItemGraphicEl(e),u=m.getItemVisual(e,"style"),d=u.fill;if(l instanceof Ft.Ay){var h=l.style;l.useStyle((0,i.X$)({image:h.image,x:h.x,y:h.y,width:h.width,height:h.height},u))}else l.useStyle(u),"pointer"!==l.type&&l.setColor(d);l.setStyle(t.getModel(["pointer","itemStyle"]).getItemStyle()),"auto"===l.style.fill&&l.setStyle("fill",a((0,Z.Cb)(m.get(v,e),b,[0,1],!0))),l.z2EmphasisLift=0,(0,ee.Mx)(l,t),(0,ee.Lm)(l,o,r,s)}if(y){var c=p[e];c.useStyle(m.getItemVisual(e,"style")),c.setStyle(t.getModel(["progress","itemStyle"]).getItemStyle()),c.z2EmphasisLift=0,(0,ee.Mx)(c,t),(0,ee.Lm)(c,o,r,s)}})),this._progressEls=p)},t.prototype._renderAnchor=function(e,t){var n=e.getModel("anchor");if(n.get("show")){var a=n.get("size"),i=n.get("icon"),o=n.get("offsetCenter"),r=n.get("keepAspect"),s=(0,I.v5)(i,t.cx-a/2+(0,Z.lo)(o[0],t.r),t.cy-a/2+(0,Z.lo)(o[1],t.r),a,a,null,r);s.z2=n.get("showAbove")?1:0,s.setStyle(n.getModel("itemStyle").getItemStyle()),this.group.add(s)}},t.prototype._renderTitleAndDetail=function(e,t,n,a,i){var o=this,r=e.getData(),s=r.mapDimension("value"),l=+e.get("min"),u=+e.get("max"),d=new w.A,h=[],c=[],p=e.isAnimationEnabled(),g=e.get(["pointer","showAbove"]);r.diff(this._data).add((function(e){h[e]=new R.Ay({silent:!0}),c[e]=new R.Ay({silent:!0})})).update((function(e,t){h[e]=o._titleEls[t],c[e]=o._detailEls[t]})).execute(),r.each((function(t){var n=r.getItemModel(t),o=r.get(s,t),f=new w.A,y=a((0,Z.Cb)(o,[l,u],[0,1],!0)),m=n.getModel("title");if(m.get("show")){var v=m.get("offsetCenter"),x=i.cx+(0,Z.lo)(v[0],i.r),_=i.cy+(0,Z.lo)(v[1],i.r);(C=h[t]).attr({z2:g?0:2,style:(0,te.VB)(m,{x:x,y:_,text:r.getName(t),align:"center",verticalAlign:"middle"},{inheritColor:y})}),f.add(C)}var b=n.getModel("detail");if(b.get("show")){var S=b.get("offsetCenter"),I=i.cx+(0,Z.lo)(S[0],i.r),A=i.cy+(0,Z.lo)(S[1],i.r),M=(0,Z.lo)(b.get("width"),i.r),D=(0,Z.lo)(b.get("height"),i.r),L=e.get(["progress","show"])?r.getItemVisual(t,"style").fill:y,C=c[t],T=b.get("formatter");C.attr({z2:g?0:2,style:(0,te.VB)(b,{x:I,y:A,text:Ki(o,T),width:isNaN(M)?null:M,height:isNaN(D)?null:D,align:"center",verticalAlign:"middle"},{inheritColor:L})}),(0,te.Oh)(C,{normal:b},o,(function(e){return Ki(e,T)})),p&&(0,te.xb)(C,t,r,e,{getFormattedLabel:function(e,t,n,a,i,r){return Ki(r?r.interpolatedValue:o,T)}}),f.add(C)}d.add(f)})),this.group.add(d),this._titleEls=h,this._detailEls=c},t.type="gauge",t}(U.A);const Qi=Ji;const eo=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.visualStyleAccessPath="itemStyle",n}return(0,a.C6)(t,e),t.prototype.getInitialData=function(e,t){return It(this,["value"])},t.type="series.gauge",t.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},t}(S.A);function to(e){e.registerChartView(Qi),e.registerSeriesModel(eo)}var no=["itemStyle","opacity"],ao=function(e){function t(t,n){var a=e.call(this)||this,i=a,o=new ct.A,r=new R.Ay;return i.setTextContent(r),a.setTextGuideLine(o),a.updateData(t,n,!0),a}return(0,a.C6)(t,e),t.prototype.updateData=function(e,t,n){var a=this,i=e.hostModel,o=e.getItemModel(t),r=e.getItemLayout(t),s=o.getModel("emphasis"),l=o.get(no);l=null==l?1:l,n||(0,E.ap)(a),a.useStyle(e.getItemVisual(t,"style")),a.style.lineJoin="round",n?(a.setShape({points:r.points}),a.style.opacity=0,E.LW(a,{style:{opacity:l}},i,t)):E.oi(a,{style:{opacity:l},shape:{points:r.points}},i,t),(0,ee.Mx)(a,o),this._updateLabel(e,t),(0,ee.Lm)(this,s.get("focus"),s.get("blurScope"),s.get("disabled"))},t.prototype._updateLabel=function(e,t){var n=this,a=this.getTextGuideLine(),i=n.getTextContent(),o=e.hostModel,r=e.getItemModel(t),s=e.getItemLayout(t).label,l=e.getItemVisual(t,"style"),u=l.fill;(0,te.qM)(i,(0,te.lx)(r),{labelFetcher:e.hostModel,labelDataIndex:t,defaultOpacity:l.opacity,defaultText:e.getName(t)},{normal:{align:s.textAlign,verticalAlign:s.verticalAlign}}),n.setTextConfig({local:!0,inside:!!s.inside,insideStroke:u,outsideFill:u});var d=s.linePoints;a.setShape({points:d}),n.textGuideLineConfig={anchor:d?new pt.A(d[0][0],d[0][1]):null},E.oi(i,{style:{x:s.x,y:s.y}},o,t),i.attr({rotation:s.rotation,originX:s.x,originY:s.y,z2:10}),(0,gt.eR)(n,(0,gt.rv)(r),{stroke:u})},t}(Wt.A);const io=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.ignoreLabelLineUpdate=!0,n}return(0,a.C6)(t,e),t.prototype.render=function(e,t,n){var a=e.getData(),i=this._data,o=this.group;a.diff(i).add((function(e){var t=new ao(a,e);a.setItemGraphicEl(e,t),o.add(t)})).update((function(e,t){var n=i.getItemGraphicEl(t);n.updateData(a,e),o.add(n),a.setItemGraphicEl(e,n)})).remove((function(t){var n=i.getItemGraphicEl(t);E.t5(n,e,t)})).execute(),this._data=a},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.prototype.dispose=function(){},t.type="funnel",t}(U.A);var oo=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,a.C6)(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new wt(i.oI(this.getData,this),i.oI(this.getRawData,this)),this._defaultLabelLine(t)},t.prototype.getInitialData=function(e,t){return It(this,{coordDimensions:["value"],encodeDefaulter:i.cF(h.ln,this)})},t.prototype._defaultLabelLine=function(e){(0,d.M5)(e,"labelLine",["show"]);var t=e.labelLine,n=e.emphasis.labelLine;t.show=t.show&&e.label.show,n.show=n.show&&e.emphasis.label.show},t.prototype.getDataParams=function(t){var n=this.getData(),a=e.prototype.getDataParams.call(this,t),i=n.mapDimension("value"),o=n.getSum(i);return a.percent=o?+(n.get(i,t)/o*100).toFixed(2):0,a.$vars.push("percent"),a},t.type="series.funnel",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}(S.A);const ro=oo;function so(e,t){e.eachSeriesByType("funnel",(function(e){var n=e.getData(),a=n.mapDimension("value"),o=e.get("sort"),r=function(e,t){return ot.dV(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}(e,t),s=e.get("orient"),l=r.width,u=r.height,d=function(e,t){for(var n=e.mapDimension("value"),a=e.mapArray(n,(function(e){return e})),o=[],r="ascending"===t,s=0,l=e.count();s<l;s++)o[s]=s;return(0,i.Tn)(t)?o.sort(t):"none"!==t&&o.sort((function(e,t){return r?a[e]-a[t]:a[t]-a[e]})),o}(n,o),h=r.x,c=r.y,p="horizontal"===s?[(0,Z.lo)(e.get("minSize"),u),(0,Z.lo)(e.get("maxSize"),u)]:[(0,Z.lo)(e.get("minSize"),l),(0,Z.lo)(e.get("maxSize"),l)],g=n.getDataExtent(a),f=e.get("min"),y=e.get("max");null==f&&(f=Math.min(g[0],0)),null==y&&(y=g[1]);var m=e.get("funnelAlign"),v=e.get("gap"),x=(("horizontal"===s?l:u)-v*(n.count()-1))/n.count(),_=function(e,t){if("horizontal"===s){var i=n.get(a,e)||0,o=(0,Z.Cb)(i,[f,y],p,!0),r=void 0;switch(m){case"top":r=c;break;case"center":r=c+(u-o)/2;break;case"bottom":r=c+(u-o)}return[[t,r],[t,r+o]]}var d,g=n.get(a,e)||0,v=(0,Z.Cb)(g,[f,y],p,!0);switch(m){case"left":d=h;break;case"center":d=h+(l-v)/2;break;case"right":d=h+l-v}return[[d,t],[d+v,t]]};"ascending"===o&&(x=-x,v=-v,"horizontal"===s?h+=l:c+=u,d=d.reverse());for(var b=0;b<d.length;b++){var S=d[b],I=d[b+1],w=n.getItemModel(S);if("horizontal"===s){var A=w.get(["itemStyle","width"]);null==A?A=x:(A=(0,Z.lo)(A,l),"ascending"===o&&(A=-A));var M=_(S,h),D=_(I,h+A);h+=A+v,n.setItemLayout(S,{points:M.concat(D.slice().reverse())})}else{var L=w.get(["itemStyle","height"]);null==L?L=x:(L=(0,Z.lo)(L,u),"ascending"===o&&(L=-L));M=_(S,c),D=_(I,c+L);c+=L+v,n.setItemLayout(S,{points:M.concat(D.slice().reverse())})}}!function(e){var t=e.hostModel.get("orient");e.each((function(n){var a,i,o,r,s=e.getItemModel(n),l=s.getModel("label").get("position"),u=s.getModel("labelLine"),d=e.getItemLayout(n),h=d.points,c="inner"===l||"inside"===l||"center"===l||"insideLeft"===l||"insideRight"===l;if(c)"insideLeft"===l?(i=(h[0][0]+h[3][0])/2+5,o=(h[0][1]+h[3][1])/2,a="left"):"insideRight"===l?(i=(h[1][0]+h[2][0])/2-5,o=(h[1][1]+h[2][1])/2,a="right"):(i=(h[0][0]+h[1][0]+h[2][0]+h[3][0])/4,o=(h[0][1]+h[1][1]+h[2][1]+h[3][1])/4,a="center"),r=[[i,o],[i,o]];else{var p=void 0,g=void 0,f=void 0,y=void 0,m=u.get("length");"left"===l?(p=(h[3][0]+h[0][0])/2,g=(h[3][1]+h[0][1])/2,i=(f=p-m)-5,a="right"):"right"===l?(p=(h[1][0]+h[2][0])/2,g=(h[1][1]+h[2][1])/2,i=(f=p+m)+5,a="left"):"top"===l?(p=(h[3][0]+h[0][0])/2,o=(y=(g=(h[3][1]+h[0][1])/2)-m)-5,a="center"):"bottom"===l?(p=(h[1][0]+h[2][0])/2,o=(y=(g=(h[1][1]+h[2][1])/2)+m)+5,a="center"):"rightTop"===l?(p="horizontal"===t?h[3][0]:h[1][0],g="horizontal"===t?h[3][1]:h[1][1],"horizontal"===t?(o=(y=g-m)-5,a="center"):(i=(f=p+m)+5,a="top")):"rightBottom"===l?(p=h[2][0],g=h[2][1],"horizontal"===t?(o=(y=g+m)+5,a="center"):(i=(f=p+m)+5,a="bottom")):"leftTop"===l?(p=h[0][0],g="horizontal"===t?h[0][1]:h[1][1],"horizontal"===t?(o=(y=g-m)-5,a="center"):(i=(f=p-m)-5,a="right")):"leftBottom"===l?(p="horizontal"===t?h[1][0]:h[3][0],g="horizontal"===t?h[1][1]:h[2][1],"horizontal"===t?(o=(y=g+m)+5,a="center"):(i=(f=p-m)-5,a="right")):(p=(h[1][0]+h[2][0])/2,g=(h[1][1]+h[2][1])/2,"horizontal"===t?(o=(y=g+m)+5,a="center"):(i=(f=p+m)+5,a="left")),"horizontal"===t?i=f=p:o=y=g,r=[[p,g],[f,y]]}d.label={linePoints:r,x:i,y:o,verticalAlign:"middle",textAlign:a,inside:c}}))}(n)}))}function lo(e){e.registerChartView(io),e.registerSeriesModel(ro),e.registerLayout(so),e.registerProcessor(ht("funnel"))}var uo=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n._dataGroup=new w.A,n._initialized=!1,n}return(0,a.C6)(t,e),t.prototype.init=function(){this.group.add(this._dataGroup)},t.prototype.render=function(e,t,n,a){this._progressiveEls=null;var i=this._dataGroup,o=e.getData(),r=this._data,s=e.coordinateSystem,l=s.dimensions,u=po(e);if(o.diff(r).add((function(e){var t=co(o,i,e,l,s);go(t,o,e,u)})).update((function(t,n){var a=r.getItemGraphicEl(n),i=ho(o,t,l,s);o.setItemGraphicEl(t,a),E.oi(a,{shape:{points:i}},e,t),(0,E.ap)(a),go(a,o,t,u)})).remove((function(e){var t=r.getItemGraphicEl(e);i.remove(t)})).execute(),!this._initialized){this._initialized=!0;var d=function(e,t,n){var a=e.model,i=e.getRect(),o=new j.A({shape:{x:i.x,y:i.y,width:i.width,height:i.height}}),r="horizontal"===a.get("layout")?"width":"height";return o.setShape(r,0),E.LW(o,{shape:{width:i.width,height:i.height}},t,n),o}(s,e,(function(){setTimeout((function(){i.removeClipPath()}))}));i.setClipPath(d)}this._data=o},t.prototype.incrementalPrepareRender=function(e,t,n){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},t.prototype.incrementalRender=function(e,t,n){for(var a=t.getData(),i=t.coordinateSystem,o=i.dimensions,r=po(t),s=this._progressiveEls=[],l=e.start;l<e.end;l++){var u=co(a,this._dataGroup,l,o,i);u.incremental=!0,go(u,a,l,r),s.push(u)}},t.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},t.type="parallel",t}(U.A);function ho(e,t,n,a){for(var i,o=[],r=0;r<n.length;r++){var s=n[r],l=e.get(e.mapDimension(s),t);i=l,("category"===a.getAxis(s).type?null==i:null==i||isNaN(i))||o.push(a.dataToPoint(l,s))}return o}function co(e,t,n,a,i){var o=ho(e,n,a,i),r=new ct.A({shape:{points:o},z2:10});return t.add(r),e.setItemGraphicEl(n,r),r}function po(e){var t=e.get("smooth",!0);return!0===t&&(t=.3),t=(0,Z.Sm)(t),(0,i.Yp)(t)&&(t=0),{smooth:t}}function go(e,t,n,a){e.useStyle(t.getItemVisual(n,"style")),e.style.fill=null,e.setShape("smooth",a.smooth);var i=t.getItemModel(n),o=i.getModel("emphasis");(0,ee.Mx)(e,i,"lineStyle"),(0,ee.Lm)(e,o.get("focus"),o.get("blurScope"),o.get("disabled"))}const fo=uo;function yo(e){var t=e.ecModel.getComponent("parallel",e.get("parallelIndex"));if(t){var n={};return(0,i.__)(t.dimensions,(function(e){var t=+e.replace("dim","");n[e]=t})),n}}const mo=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.visualStyleAccessPath="lineStyle",n.visualDrawType="stroke",n}return(0,a.C6)(t,e),t.prototype.getInitialData=function(e,t){return b(null,this,{useEncodeDefaulter:(0,i.oI)(yo,null,this)})},t.prototype.getRawIndicesByActiveState=function(e){var t=this.coordinateSystem,n=this.getData(),a=[];return t.eachActiveState(n,(function(t,i){e===t&&a.push(n.getRawIndex(i))})),a},t.type="series.parallel",t.dependencies=["parallel"],t.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},t}(S.A);var vo=["lineStyle","opacity"];const xo={seriesType:"parallel",reset:function(e,t){var n=e.coordinateSystem,a={normal:e.get(["lineStyle","opacity"]),active:e.get("activeOpacity"),inactive:e.get("inactiveOpacity")};return{progress:function(e,t){n.eachActiveState(t,(function(e,n){var i=a[e];if("normal"===e&&t.hasItemOption){var o=t.getItemModel(n).get(vo,!0);null!=o&&(i=o)}t.ensureUniqueItemVisual(n,"style").opacity=i}),e.start,e.end)}}}};var _o=n(77076);function bo(e){(0,Lt.Y)(_o.a),e.registerChartView(fo),e.registerSeriesModel(mo),e.registerVisual(e.PRIORITY.VISUAL.BRUSH,xo)}var So=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0},Io=function(e){function t(t){return e.call(this,t)||this}return(0,a.C6)(t,e),t.prototype.getDefaultShape=function(){return new So},t.prototype.buildPath=function(e,t){var n=t.extent;e.moveTo(t.x1,t.y1),e.bezierCurveTo(t.cpx1,t.cpy1,t.cpx2,t.cpy2,t.x2,t.y2),"vertical"===t.orient?(e.lineTo(t.x2+n,t.y2),e.bezierCurveTo(t.cpx2+n,t.cpy2,t.cpx1+n,t.cpy1,t.x1+n,t.y1)):(e.lineTo(t.x2,t.y2+n),e.bezierCurveTo(t.cpx2,t.cpy2+n,t.cpx1,t.cpy1+n,t.x1,t.y1+n)),e.closePath()},t.prototype.highlight=function(){(0,ee.HY)(this)},t.prototype.downplay=function(){(0,ee.SD)(this)},t}(V.Ay),wo=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n._focusAdjacencyDisabled=!1,n}return(0,a.C6)(t,e),t.prototype.render=function(e,t,n){var a=this,o=e.getGraph(),r=this.group,s=e.layoutInfo,l=s.width,u=s.height,d=e.getData(),h=e.getData("edge"),c=e.get("orient");this._model=e,r.removeAll(),r.x=s.x,r.y=s.y,o.eachEdge((function(t){var n=new Io,a=(0,ae.z)(n);a.dataIndex=t.dataIndex,a.seriesIndex=e.seriesIndex,a.dataType="edge";var o,s,d,p,g,f,y,m,v=t.getModel(),x=v.getModel("lineStyle"),_=x.get("curveness"),b=t.node1.getLayout(),S=t.node1.getModel(),I=S.get("localX"),w=S.get("localY"),A=t.node2.getLayout(),M=t.node2.getModel(),D=M.get("localX"),L=M.get("localY"),C=t.getLayout();n.shape.extent=Math.max(1,C.dy),n.shape.orient=c,"vertical"===c?(o=(null!=I?I*l:b.x)+C.sy,s=(null!=w?w*u:b.y)+b.dy,d=(null!=D?D*l:A.x)+C.ty,g=o,f=s*(1-_)+(p=null!=L?L*u:A.y)*_,y=d,m=s*_+p*(1-_)):(o=(null!=I?I*l:b.x)+b.dx,s=(null!=w?w*u:b.y)+C.sy,g=o*(1-_)+(d=null!=D?D*l:A.x)*_,f=s,y=o*_+d*(1-_),m=p=(null!=L?L*u:A.y)+C.ty),n.setShape({x1:o,y1:s,x2:d,y2:p,cpx1:g,cpy1:f,cpx2:y,cpy2:m}),n.useStyle(x.getItemStyle()),Ao(n.style,c,t);var T=""+v.get("value"),N=(0,te.lx)(v,"edgeLabel");(0,te.qM)(n,N,{labelFetcher:{getFormattedLabel:function(t,n,a,o,r,s){return e.getFormattedLabel(t,n,"edge",o,(0,i.WV)(r,N.normal&&N.normal.get("formatter"),T),s)}},labelDataIndex:t.dataIndex,defaultText:T}),n.setTextConfig({position:"inside"});var P=v.getModel("emphasis");(0,ee.Mx)(n,v,"lineStyle",(function(e){var n=e.getItemStyle();return Ao(n,c,t),n})),r.add(n),h.setItemGraphicEl(t.dataIndex,n);var E=P.get("focus");(0,ee.Lm)(n,"adjacency"===E?t.getAdjacentDataIndices():"trajectory"===E?t.getTrajectoryDataIndices():E,P.get("blurScope"),P.get("disabled"))})),o.eachNode((function(t){var n=t.getLayout(),a=t.getModel(),i=a.get("localX"),o=a.get("localY"),s=a.getModel("emphasis"),h=new j.A({shape:{x:null!=i?i*l:n.x,y:null!=o?o*u:n.y,width:n.dx,height:n.dy},style:a.getModel("itemStyle").getItemStyle(),z2:10});(0,te.qM)(h,(0,te.lx)(a),{labelFetcher:{getFormattedLabel:function(t,n){return e.getFormattedLabel(t,n,"node")}},labelDataIndex:t.dataIndex,defaultText:t.id}),h.disableLabelAnimation=!0,h.setStyle("fill",t.getVisual("color")),h.setStyle("decal",t.getVisual("style").decal),(0,ee.Mx)(h,a),r.add(h),d.setItemGraphicEl(t.dataIndex,h),(0,ae.z)(h).dataType="node";var c=s.get("focus");(0,ee.Lm)(h,"adjacency"===c?t.getAdjacentDataIndices():"trajectory"===c?t.getTrajectoryDataIndices():c,s.get("blurScope"),s.get("disabled"))})),d.eachItemGraphicEl((function(t,i){d.getItemModel(i).get("draggable")&&(t.drift=function(t,o){a._focusAdjacencyDisabled=!0,this.shape.x+=t,this.shape.y+=o,this.dirty(),n.dispatchAction({type:"dragNode",seriesId:e.id,dataIndex:d.getRawIndex(i),localX:this.shape.x/l,localY:this.shape.y/u})},t.ondragend=function(){a._focusAdjacencyDisabled=!1},t.draggable=!0,t.cursor="move")})),!this._data&&e.isAnimationEnabled()&&r.setClipPath(function(e,t,n){var a=new j.A({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}});return E.LW(a,{shape:{width:e.width+20}},t,n),a}(r.getBoundingRect(),e,(function(){r.removeClipPath()}))),this._data=e.getData()},t.prototype.dispose=function(){},t.type="sankey",t}(U.A);function Ao(e,t,n){switch(e.fill){case"source":e.fill=n.node1.getVisual("color"),e.decal=n.node1.getVisual("style").decal;break;case"target":e.fill=n.node2.getVisual("color"),e.decal=n.node2.getVisual("style").decal;break;case"gradient":var a=n.node1.getVisual("color"),o=n.node2.getVisual("color");(0,i.Kg)(a)&&(0,i.Kg)(o)&&(e.fill=new P.A(0,0,+("horizontal"===t),+("vertical"===t),[{color:a,offset:0},{color:o,offset:1}]))}}const Mo=wo;var Do=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,a.C6)(t,e),t.prototype.getInitialData=function(e,t){var n=e.edges||e.links,a=e.data||e.nodes,i=e.levels;this.levelModels=[];for(var o=this.levelModels,r=0;r<i.length;r++)null!=i[r].depth&&i[r].depth>=0&&(o[i[r].depth]=new Xn.A(i[r],this,t));if(a&&n){var s=Fi(a,n,this,!0,(function(e,t){e.wrapMethod("getItemModel",(function(e,t){var n=e.parentModel,a=n.getData().getItemLayout(t);if(a){var i=a.depth,o=n.levelModels[i];o&&(e.parentModel=o)}return e})),t.wrapMethod("getItemModel",(function(e,t){var n=e.parentModel,a=n.getGraph().getEdgeByIndex(t).node1.getLayout();if(a){var i=a.depth,o=n.levelModels[i];o&&(e.parentModel=o)}return e}))}));return s.data}},t.prototype.setNodePosition=function(e,t){var n=(this.option.data||this.option.nodes)[e];n.localX=t[0],n.localY=t[1]},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.formatTooltip=function(e,t,n){function a(e){return isNaN(e)||null==e}if("edge"===n){var i=this.getDataParams(e,n),o=i.data,r=i.value,s=o.source+" -- "+o.target;return(0,Yt.Qx)("nameValue",{name:s,value:r,noValue:a(r)})}var l=this.getGraph().getNodeByIndex(e).getLayout().value,u=this.getDataParams(e,n).data.name;return(0,Yt.Qx)("nameValue",{name:null!=u?u+"":null,value:l,noValue:a(l)})},t.prototype.optionUpdated=function(){},t.prototype.getDataParams=function(t,n){var a=e.prototype.getDataParams.call(this,t,n);if(null==a.value&&"node"===n){var i=this.getGraph().getNodeByIndex(t).getLayout().value;a.value=i}return a},t.type="series.sankey",t.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},t}(S.A);const Lo=Do;function Co(e,t){e.eachSeriesByType("sankey",(function(e){var n=e.get("nodeWidth"),a=e.get("nodeGap"),o=function(e,t){return ot.dV(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}(e,t);e.layoutInfo=o;var r=o.width,s=o.height,l=e.getGraph(),u=l.nodes,h=l.edges;!function(e){i.__(e,(function(e){var t=Go(e.outEdges,Oo),n=Go(e.inEdges,Oo),a=e.getValue()||0,i=Math.max(t,n,a);e.setLayout({value:i},!0)}))}(u),function(e,t,n,a,o,r,s,l,u){(function(e,t,n,a,o,r,s){for(var l=[],u=[],d=[],h=[],c=0,p=0;p<t.length;p++)l[p]=1;for(p=0;p<e.length;p++)u[p]=e[p].inEdges.length,0===u[p]&&d.push(e[p]);var g=-1;for(;d.length;){for(var f=0;f<d.length;f++){var y=d[f],m=y.hostGraph.data.getRawDataItem(y.dataIndex),v=null!=m.depth&&m.depth>=0;v&&m.depth>g&&(g=m.depth),y.setLayout({depth:v?m.depth:c},!0),"vertical"===r?y.setLayout({dy:n},!0):y.setLayout({dx:n},!0);for(var x=0;x<y.outEdges.length;x++){var _=y.outEdges[x];l[t.indexOf(_)]=0;var b=_.node2;0==--u[e.indexOf(b)]&&h.indexOf(b)<0&&h.push(b)}}++c,d=h,h=[]}for(p=0;p<l.length;p++)if(1===l[p])throw new Error("Sankey is a DAG, the original data has cycle!");var S=g>c-1?g:c-1;s&&"left"!==s&&function(e,t,n,a){if("right"===t){for(var o=[],r=e,s=0;r.length;){for(var l=0;l<r.length;l++){var u=r[l];u.setLayout({skNodeHeight:s},!0);for(var d=0;d<u.inEdges.length;d++){var h=u.inEdges[d];o.indexOf(h.node1)<0&&o.push(h.node1)}}r=o,o=[],++s}i.__(e,(function(e){To(e)||e.setLayout({depth:Math.max(0,a-e.getLayout().skNodeHeight)},!0)}))}else"justify"===t&&function(e,t){i.__(e,(function(e){To(e)||e.outEdges.length||e.setLayout({depth:t},!0)}))}(e,a)}(e,s,0,S);var I="vertical"===r?(o-n)/S:(a-n)/S;!function(e,t,n){i.__(e,(function(e){var a=e.getLayout().depth*t;"vertical"===n?e.setLayout({y:a},!0):e.setLayout({x:a},!0)}))}(e,I,r)})(e,t,n,o,r,l,u),function(e,t,n,a,o,r,s){var l=function(e,t){var n=[],a="vertical"===t?"y":"x",o=(0,d.Sq)(e,(function(e){return e.getLayout()[a]}));return o.keys.sort((function(e,t){return e-t})),i.__(o.keys,(function(e){n.push(o.buckets.get(e))})),n}(e,s);(function(e,t,n,a,o,r){var s=1/0;i.__(e,(function(e){var t=e.length,l=0;i.__(e,(function(e){l+=e.getLayout().value}));var u="vertical"===r?(a-(t-1)*o)/l:(n-(t-1)*o)/l;u<s&&(s=u)})),i.__(e,(function(e){i.__(e,(function(e,t){var n=e.getLayout().value*s;"vertical"===r?(e.setLayout({x:t},!0),e.setLayout({dx:n},!0)):(e.setLayout({y:t},!0),e.setLayout({dy:n},!0))}))})),i.__(t,(function(e){var t=+e.getValue()*s;e.setLayout({dy:t},!0)}))})(l,t,n,a,o,s),No(l,o,n,a,s);for(var u=1;r>0;r--)Po(l,u*=.99,s),No(l,o,n,a,s),Bo(l,u,s),No(l,o,n,a,s)}(e,t,r,o,a,s,l),function(e,t){var n="vertical"===t?"x":"y";i.__(e,(function(e){e.outEdges.sort((function(e,t){return e.node2.getLayout()[n]-t.node2.getLayout()[n]})),e.inEdges.sort((function(e,t){return e.node1.getLayout()[n]-t.node1.getLayout()[n]}))})),i.__(e,(function(e){var t=0,n=0;i.__(e.outEdges,(function(e){e.setLayout({sy:t},!0),t+=e.getLayout().dy})),i.__(e.inEdges,(function(e){e.setLayout({ty:n},!0),n+=e.getLayout().dy}))}))}(e,l)}(u,h,n,a,r,s,0!==i.pb(u,(function(e){return 0===e.getLayout().value})).length?0:e.get("layoutIterations"),e.get("orient"),e.get("nodeAlign"))}))}function To(e){var t=e.hostGraph.data.getRawDataItem(e.dataIndex);return null!=t.depth&&t.depth>=0}function No(e,t,n,a,o){var r="vertical"===o?"x":"y";i.__(e,(function(e){var i,s,l;e.sort((function(e,t){return e.getLayout()[r]-t.getLayout()[r]}));for(var u=0,d=e.length,h="vertical"===o?"dx":"dy",c=0;c<d;c++)(l=u-(s=e[c]).getLayout()[r])>0&&(i=s.getLayout()[r]+l,"vertical"===o?s.setLayout({x:i},!0):s.setLayout({y:i},!0)),u=s.getLayout()[r]+s.getLayout()[h]+t;if((l=u-t-("vertical"===o?a:n))>0){i=s.getLayout()[r]-l,"vertical"===o?s.setLayout({x:i},!0):s.setLayout({y:i},!0),u=i;for(c=d-2;c>=0;--c)(l=(s=e[c]).getLayout()[r]+s.getLayout()[h]+t-u)>0&&(i=s.getLayout()[r]-l,"vertical"===o?s.setLayout({x:i},!0):s.setLayout({y:i},!0)),u=s.getLayout()[r]}}))}function Po(e,t,n){i.__(e.slice().reverse(),(function(e){i.__(e,(function(e){if(e.outEdges.length){var a=Go(e.outEdges,Eo,n)/Go(e.outEdges,Oo);if(isNaN(a)){var i=e.outEdges.length;a=i?Go(e.outEdges,Ro,n)/i:0}if("vertical"===n){var o=e.getLayout().x+(a-zo(e,n))*t;e.setLayout({x:o},!0)}else{var r=e.getLayout().y+(a-zo(e,n))*t;e.setLayout({y:r},!0)}}}))}))}function Eo(e,t){return zo(e.node2,t)*e.getValue()}function Ro(e,t){return zo(e.node2,t)}function Vo(e,t){return zo(e.node1,t)*e.getValue()}function ko(e,t){return zo(e.node1,t)}function zo(e,t){return"vertical"===t?e.getLayout().x+e.getLayout().dx/2:e.getLayout().y+e.getLayout().dy/2}function Oo(e){return e.getValue()}function Go(e,t,n){for(var a=0,i=e.length,o=-1;++o<i;){var r=+t(e[o],n);isNaN(r)||(a+=r)}return a}function Bo(e,t,n){i.__(e,(function(e){i.__(e,(function(e){if(e.inEdges.length){var a=Go(e.inEdges,Vo,n)/Go(e.inEdges,Oo);if(isNaN(a)){var i=e.inEdges.length;a=i?Go(e.inEdges,ko,n)/i:0}if("vertical"===n){var o=e.getLayout().x+(a-zo(e,n))*t;e.setLayout({x:o},!0)}else{var r=e.getLayout().y+(a-zo(e,n))*t;e.setLayout({y:r},!0)}}}))}))}function Wo(e){e.eachSeriesByType("sankey",(function(e){var t=e.getGraph(),n=t.nodes,a=t.edges;if(n.length){var o=1/0,r=-1/0;i.__(n,(function(e){var t=e.getLayout().value;t<o&&(o=t),t>r&&(r=t)})),i.__(n,(function(t){var n=new La.A({type:"color",mappingMethod:"linear",dataExtent:[o,r],visual:e.get("color")}).mapValueToVisual(t.getLayout().value),a=t.getModel().get(["itemStyle","color"]);null!=a?(t.setVisual("color",a),t.setVisual("style",{fill:a})):(t.setVisual("color",n),t.setVisual("style",{fill:n}))}))}a.length&&i.__(a,(function(e){var t=e.getModel().get("lineStyle");e.setVisual("style",t)}))}))}function Fo(e){e.registerChartView(Mo),e.registerSeriesModel(Lo),e.registerLayout(Co),e.registerVisual(Wo),e.registerAction({type:"dragNode",event:"dragnode",update:"update"},(function(e,t){t.eachComponent({mainType:"series",subType:"sankey",query:e},(function(t){t.setNodePosition(e.dataIndex,[e.localX,e.localY])}))}))}var Xo=function(){function e(){}return e.prototype.getInitialData=function(e,t){var n,a,o=t.getComponent("xAxis",this.get("xAxisIndex")),r=t.getComponent("yAxis",this.get("yAxisIndex")),s=o.get("type"),l=r.get("type");"category"===s?(e.layout="horizontal",n=o.getOrdinalMeta(),a=!0):"category"===l?(e.layout="vertical",n=r.getOrdinalMeta(),a=!0):e.layout=e.layout||"horizontal";var u=["x","y"],d="horizontal"===e.layout?0:1,c=this._baseAxisDim=u[d],p=u[1-d],g=[o,r],y=g[d].get("type"),m=g[1-d].get("type"),v=e.data;if(v&&a){var x=[];i.__(v,(function(e,t){var n;i.cy(e)?(n=e.slice(),e.unshift(t)):i.cy(e.value)?((n=i.X$({},e)).value=n.value.slice(),e.value.unshift(t)):n=e,x.push(n)})),e.data=x}var _=this.defaultValueDimensions,b=[{name:c,type:(0,f.B)(y),ordinalMeta:n,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:p,type:(0,f.B)(m),dimsDef:_.slice()}];return It(this,{coordDimensions:b,dimensionsCount:_.length+1,encodeDefaulter:i.cF(h.OC,b,this)})},e.prototype.getBaseAxis=function(){var e=this._baseAxisDim;return this.ecModel.getComponent(e+"Axis",this.get(e+"AxisIndex")).axis},e}(),Yo=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],n.visualDrawType="stroke",n}return(0,a.C6)(t,e),t.type="series.boxplot",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},t}(S.A);(0,i.co)(Yo,Xo,!0);const Ho=Yo;var Uo=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,a.C6)(t,e),t.prototype.render=function(e,t,n){var a=e.getData(),i=this.group,o=this._data;this._data||i.removeAll();var r="horizontal"===e.get("layout")?1:0;a.diff(o).add((function(e){if(a.hasValue(e)){var t=Zo(a.getItemLayout(e),a,e,r,!0);a.setItemGraphicEl(e,t),i.add(t)}})).update((function(e,t){var n=o.getItemGraphicEl(t);if(a.hasValue(e)){var s=a.getItemLayout(e);n?((0,E.ap)(n),$o(s,n,a,e)):n=Zo(s,a,e,r),i.add(n),a.setItemGraphicEl(e,n)}else i.remove(n)})).remove((function(e){var t=o.getItemGraphicEl(e);t&&i.remove(t)})).execute(),this._data=a},t.prototype.remove=function(e){var t=this.group,n=this._data;this._data=null,n&&n.eachItemGraphicEl((function(e){e&&t.remove(e)}))},t.type="boxplot",t}(U.A),jo=function(){},qo=function(e){function t(t){var n=e.call(this,t)||this;return n.type="boxplotBoxPath",n}return(0,a.C6)(t,e),t.prototype.getDefaultShape=function(){return new jo},t.prototype.buildPath=function(e,t){var n=t.points,a=0;for(e.moveTo(n[a][0],n[a][1]),a++;a<4;a++)e.lineTo(n[a][0],n[a][1]);for(e.closePath();a<n.length;a++)e.moveTo(n[a][0],n[a][1]),a++,e.lineTo(n[a][0],n[a][1])},t}(V.Ay);function Zo(e,t,n,a,i){var o=e.ends,r=new qo({shape:{points:i?Ko(o,a,e):o}});return $o(e,r,t,n,i),r}function $o(e,t,n,a,i){var o=n.hostModel;(0,Ce[i?"initProps":"updateProps"])(t,{shape:{points:e.ends}},o,a),t.useStyle(n.getItemVisual(a,"style")),t.style.strokeNoScale=!0,t.z2=100;var r=n.getItemModel(a),s=r.getModel("emphasis");(0,ee.Mx)(t,r),(0,ee.Lm)(t,s.get("focus"),s.get("blurScope"),s.get("disabled"))}function Ko(e,t,n){return i.Tj(e,(function(e){return(e=e.slice())[t]=n.initBaseline,e}))}const Jo=Uo;var Qo=i.__;function er(e){var t=function(e){var t=[],n=[];return e.eachSeriesByType("boxplot",(function(e){var a=e.getBaseAxis(),o=i.qh(n,a);o<0&&(o=n.length,n[o]=a,t[o]={axis:a,seriesModels:[]}),t[o].seriesModels.push(e)})),t}(e);Qo(t,(function(e){var t=e.seriesModels;t.length&&(!function(e){var t,n=e.axis,a=e.seriesModels,o=a.length,r=e.boxWidthList=[],s=e.boxOffsetList=[],l=[];if("category"===n.type)t=n.getBandWidth();else{var u=0;Qo(a,(function(e){u=Math.max(u,e.getData().count())}));var d=n.getExtent();t=Math.abs(d[1]-d[0])/u}Qo(a,(function(e){var n=e.get("boxWidth");i.cy(n)||(n=[n,n]),l.push([(0,Z.lo)(n[0],t)||0,(0,Z.lo)(n[1],t)||0])}));var h=.8*t-2,c=h/o*.3,p=(h-c*(o-1))/o,g=p/2-h/2;Qo(a,(function(e,t){s.push(g),g+=c+p,r.push(Math.min(Math.max(p,l[t][0]),l[t][1]))}))}(e),Qo(t,(function(t,n){!function(e,t,n){var a=e.coordinateSystem,i=e.getData(),o=n/2,r="horizontal"===e.get("layout")?0:1,s=1-r,l=["x","y"],u=i.mapDimension(l[r]),d=i.mapDimensionsAll(l[s]);if(null==u||d.length<5)return;for(var h=0;h<i.count();h++){var c=i.get(u,h),p=x(c,d[2],h),g=x(c,d[0],h),f=x(c,d[1],h),y=x(c,d[3],h),m=x(c,d[4],h),v=[];_(v,f,!1),_(v,y,!0),v.push(g,f,m,y),b(v,g),b(v,m),b(v,p),i.setItemLayout(h,{initBaseline:p[s],ends:v})}function x(e,n,o){var l,u=i.get(n,o),d=[];return d[r]=e,d[s]=u,isNaN(e)||isNaN(u)?l=[NaN,NaN]:(l=a.dataToPoint(d))[r]+=t,l}function _(e,t,n){var a=t.slice(),i=t.slice();a[r]+=o,i[r]-=o,n?e.push(a,i):e.push(i,a)}function b(e,t){var n=t.slice(),a=t.slice();n[r]-=o,a[r]+=o,e.push(n,a)}}(t,e.boxOffsetList[n],e.boxWidthList[n])})))}))}var tr=n(41025),nr={type:"echarts:boxplot",transform:function(e){var t=e.upstream;if(t.sourceFormat!==r.Km){0,(0,tr.$8)("")}var n=function(e,t){for(var n=[],a=[],o=(t=t||{}).boundIQR,r="none"===o||0===o,s=0;s<e.length;s++){var l=(0,Z.Y6)(e[s].slice()),u=(0,Z.YV)(l,.25),d=(0,Z.YV)(l,.5),h=(0,Z.YV)(l,.75),c=l[0],p=l[l.length-1],g=(null==o?1.5:o)*(h-u),f=r?c:Math.max(c,u-g),y=r?p:Math.min(p,h+g),m=t.itemNameFormatter,v=(0,i.Tn)(m)?m({value:s}):(0,i.Kg)(m)?m.replace("{value}",s+""):s+"";n.push([v,f,u,d,h,y]);for(var x=0;x<l.length;x++){var _=l[x];if(_<f||_>y){var b=[v,_];a.push(b)}}}return{boxData:n,outliers:a}}(t.getRawData(),e.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:n.boxData},{data:n.outliers}]}};function ar(e){e.registerSeriesModel(Ho),e.registerChartView(Jo),e.registerLayout(er),e.registerTransform(nr)}var ir=["color","borderColor"],or=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,a.C6)(t,e),t.prototype.render=function(e,t,n){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(e),this._isLargeDraw?this._renderLarge(e):this._renderNormal(e)},t.prototype.incrementalPrepareRender=function(e,t,n){this._clear(),this._updateDrawMode(e)},t.prototype.incrementalRender=function(e,t,n,a){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(e,t):this._incrementalRenderNormal(e,t)},t.prototype.eachRendered=function(e){Ce.traverseElements(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var t=e.pipelineContext.large;null!=this._isLargeDraw&&t===this._isLargeDraw||(this._isLargeDraw=t,this._clear())},t.prototype._renderNormal=function(e){var t=e.getData(),n=this._data,a=this.group,i=t.getLayout("isSimpleBox"),o=e.get("clip",!0),r=e.coordinateSystem,s=r.getArea&&r.getArea();this._data||a.removeAll(),t.diff(n).add((function(n){if(t.hasValue(n)){var r=t.getItemLayout(n);if(o&&ur(s,r))return;var l=lr(r,n,!0);E.LW(l,{shape:{points:r.ends}},e,n),dr(l,t,n,i),a.add(l),t.setItemGraphicEl(n,l)}})).update((function(r,l){var u=n.getItemGraphicEl(l);if(t.hasValue(r)){var d=t.getItemLayout(r);o&&ur(s,d)?a.remove(u):(u?(E.oi(u,{shape:{points:d.ends}},e,r),(0,E.ap)(u)):u=lr(d,r),dr(u,t,r,i),a.add(u),t.setItemGraphicEl(r,u))}else a.remove(u)})).remove((function(e){var t=n.getItemGraphicEl(e);t&&a.remove(t)})).execute(),this._data=t},t.prototype._renderLarge=function(e){this._clear(),gr(e,this.group);var t=e.get("clip",!0)?J(e.coordinateSystem,!1,e):null;t?this.group.setClipPath(t):this.group.removeClipPath()},t.prototype._incrementalRenderNormal=function(e,t){for(var n,a=t.getData(),i=a.getLayout("isSimpleBox");null!=(n=e.next());){var o=lr(a.getItemLayout(n),n);dr(o,a,n,i),o.incremental=!0,this.group.add(o),this._progressiveEls.push(o)}},t.prototype._incrementalRenderLarge=function(e,t){gr(t,this.group,this._progressiveEls,!0)},t.prototype.remove=function(e){this._clear()},t.prototype._clear=function(){this.group.removeAll(),this._data=null},t.type="candlestick",t}(U.A),rr=function(){},sr=function(e){function t(t){var n=e.call(this,t)||this;return n.type="normalCandlestickBox",n}return(0,a.C6)(t,e),t.prototype.getDefaultShape=function(){return new rr},t.prototype.buildPath=function(e,t){var n=t.points;this.__simpleBox?(e.moveTo(n[4][0],n[4][1]),e.lineTo(n[6][0],n[6][1])):(e.moveTo(n[0][0],n[0][1]),e.lineTo(n[1][0],n[1][1]),e.lineTo(n[2][0],n[2][1]),e.lineTo(n[3][0],n[3][1]),e.closePath(),e.moveTo(n[4][0],n[4][1]),e.lineTo(n[5][0],n[5][1]),e.moveTo(n[6][0],n[6][1]),e.lineTo(n[7][0],n[7][1]))},t}(V.Ay);function lr(e,t,n){var a=e.ends;return new sr({shape:{points:n?hr(a,e):a},z2:100})}function ur(e,t){for(var n=!0,a=0;a<t.ends.length;a++)if(e.contain(t.ends[a][0],t.ends[a][1])){n=!1;break}return n}function dr(e,t,n,a){var i=t.getItemModel(n);e.useStyle(t.getItemVisual(n,"style")),e.style.strokeNoScale=!0,e.__simpleBox=a,(0,ee.Mx)(e,i)}function hr(e,t){return i.Tj(e,(function(e){return(e=e.slice())[1]=t.initBaseline,e}))}var cr=function(){},pr=function(e){function t(t){var n=e.call(this,t)||this;return n.type="largeCandlestickBox",n}return(0,a.C6)(t,e),t.prototype.getDefaultShape=function(){return new cr},t.prototype.buildPath=function(e,t){for(var n=t.points,a=0;a<n.length;)if(this.__sign===n[a++]){var i=n[a++];e.moveTo(i,n[a++]),e.lineTo(i,n[a++])}else a+=3},t}(V.Ay);function gr(e,t,n,a){var i=e.getData(),o=i.getLayout("largePoints"),r=new pr({shape:{points:o},__sign:1,ignoreCoarsePointer:!0});t.add(r);var s=new pr({shape:{points:o},__sign:-1,ignoreCoarsePointer:!0});t.add(s);var l=new pr({shape:{points:o},__sign:0,ignoreCoarsePointer:!0});t.add(l),fr(1,r,e,i),fr(-1,s,e,i),fr(0,l,e,i),a&&(r.incremental=!0,s.incremental=!0),n&&n.push(r,s)}function fr(e,t,n,a){var i=n.get(["itemStyle",e>0?"borderColor":"borderColor0"])||n.get(["itemStyle",e>0?"color":"color0"]);0===e&&(i=n.get(["itemStyle","borderColorDoji"]));var o=n.getModel("itemStyle").getItemStyle(ir);t.useStyle(o),t.style.fill=null,t.style.stroke=i}const yr=or;var mr=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],n}return(0,a.C6)(t,e),t.prototype.getShadowDim=function(){return"open"},t.prototype.brushSelector=function(e,t,n){var a=t.getItemLayout(e);return a&&n.rect(a.brushRect)},t.type="series.candlestick",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},t}(S.A);(0,i.co)(mr,Xo,!0);const vr=mr;function xr(e){e&&i.cy(e.series)&&i.__(e.series,(function(e){i.Gv(e)&&"k"===e.type&&(e.type="candlestick")}))}var _r=["itemStyle","borderColor"],br=["itemStyle","borderColor0"],Sr=["itemStyle","borderColorDoji"],Ir=["itemStyle","color"],wr=["itemStyle","color0"],Ar={seriesType:"candlestick",plan:(0,ve.A)(),performRawSeries:!0,reset:function(e,t){function n(e,t){return t.get(e>0?Ir:wr)}function a(e,t){return t.get(0===e?Sr:e>0?_r:br)}if(!t.isSeriesFiltered(e))return!e.pipelineContext.large&&{progress:function(e,t){for(var o;null!=(o=e.next());){var r=t.getItemModel(o),s=t.getItemLayout(o).sign,l=r.getItemStyle();l.fill=n(s,r),l.stroke=a(s,r)||l.fill;var u=t.ensureUniqueItemVisual(o,"style");(0,i.X$)(u,l)}}}}};const Mr=Ar;function Dr(e,t,n,a,i,o){return n>a?-1:n<a?1:o?0:t>0?e.get(i,t-1)<=a?1:-1:1}const Lr={seriesType:"candlestick",plan:(0,ve.A)(),reset:function(e){var t=e.coordinateSystem,n=e.getData(),a=function(e,t){var n,a=e.getBaseAxis(),o="category"===a.type?a.getBandWidth():(n=a.getExtent(),Math.abs(n[1]-n[0])/t.count()),r=(0,Z.lo)((0,i.bZ)(e.get("barMaxWidth"),o),o),s=(0,Z.lo)((0,i.bZ)(e.get("barMinWidth"),1),o),l=e.get("barWidth");return null!=l?(0,Z.lo)(l,o):Math.max(Math.min(o/2,r),s)}(e,n),o=["x","y"],r=n.getDimensionIndex(n.mapDimension(o[0])),s=(0,i.Tj)(n.mapDimensionsAll(o[1]),n.getDimensionIndex,n),l=s[0],u=s[1],d=s[2],h=s[3];if(n.setLayout({candleWidth:a,isSimpleBox:a<=1.3}),!(r<0||s.length<4))return{progress:e.pipelineContext.large?function(n,a){var i,o,s=(0,N.J)(4*n.count),c=0,p=[],g=[],f=a.getStore(),y=!!e.get(["itemStyle","borderColorDoji"]);for(;null!=(o=n.next());){var m=f.get(r,o),v=f.get(l,o),x=f.get(u,o),_=f.get(d,o),b=f.get(h,o);isNaN(m)||isNaN(_)||isNaN(b)?(s[c++]=NaN,c+=3):(s[c++]=Dr(f,o,v,x,u,y),p[0]=m,p[1]=_,i=t.dataToPoint(p,null,g),s[c++]=i?i[0]:NaN,s[c++]=i?i[1]:NaN,p[1]=b,i=t.dataToPoint(p,null,g),s[c++]=i?i[1]:NaN)}a.setLayout("largePoints",s)}:function(e,n){var i,o=n.getStore();for(;null!=(i=e.next());){var s=o.get(r,i),c=o.get(l,i),p=o.get(u,i),g=o.get(d,i),f=o.get(h,i),y=Math.min(c,p),m=Math.max(c,p),v=w(y,s),x=w(m,s),_=w(g,s),b=w(f,s),S=[];A(S,x,0),A(S,v,1),S.push(D(b),D(x),D(_),D(v));var I=!!n.getItemModel(i).get(["itemStyle","borderColorDoji"]);n.setItemLayout(i,{sign:Dr(o,i,c,p,u,I),initBaseline:c>p?x[1]:v[1],ends:S,brushRect:M(g,f,s)})}function w(e,n){var a=[];return a[0]=n,a[1]=e,isNaN(n)||isNaN(e)?[NaN,NaN]:t.dataToPoint(a)}function A(e,t,n){var i=t.slice(),o=t.slice();i[0]=(0,Ce.subPixelOptimize)(i[0]+a/2,1,!1),o[0]=(0,Ce.subPixelOptimize)(o[0]-a/2,1,!0),n?e.push(i,o):e.push(o,i)}function M(e,t,n){var i=w(e,n),o=w(t,n);return i[0]-=a/2,o[0]-=a/2,{x:i[0],y:i[1],width:a,height:o[1]-i[1]}}function D(e){return e[0]=(0,Ce.subPixelOptimize)(e[0],1),e}}}}};function Cr(e){e.registerChartView(yr),e.registerSeriesModel(vr),e.registerPreprocessor(xr),e.registerVisual(Mr),e.registerLayout(Lr)}function Tr(e,t){var n=t.rippleEffectColor||t.color;e.eachChild((function(e){e.attr({z:t.z,zlevel:t.zlevel,style:{stroke:"stroke"===t.brushType?n:null,fill:"fill"===t.brushType?n:null}})}))}const Nr=function(e){function t(t,n){var a=e.call(this)||this,i=new L.A(t,n),o=new w.A;return a.add(i),a.add(o),a.updateData(t,n),a}return(0,a.C6)(t,e),t.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},t.prototype.startEffectAnimation=function(e){for(var t=e.symbolType,n=e.color,a=e.rippleNumber,i=this.childAt(1),o=0;o<a;o++){var r=(0,I.v5)(t,-1,-1,2,2,n);r.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var s=-o/a*e.period+e.effectOffset;r.animate("",!0).when(e.period,{scaleX:e.rippleScale/2,scaleY:e.rippleScale/2}).delay(s).start(),r.animateStyle(!0).when(e.period,{opacity:0}).delay(s).start(),i.add(r)}Tr(i,e)},t.prototype.updateEffectAnimation=function(e){for(var t=this._effectCfg,n=this.childAt(1),a=["symbolType","period","rippleScale","rippleNumber"],i=0;i<a.length;i++){var o=a[i];if(t[o]!==e[o])return this.stopEffectAnimation(),void this.startEffectAnimation(e)}Tr(n,e)},t.prototype.highlight=function(){(0,ee.HY)(this)},t.prototype.downplay=function(){(0,ee.SD)(this)},t.prototype.getSymbolType=function(){var e=this.childAt(0);return e&&e.getSymbolType()},t.prototype.updateData=function(e,t){var n=this,a=e.hostModel;this.childAt(0).updateData(e,t);var i=this.childAt(1),o=e.getItemModel(t),r=e.getItemVisual(t,"symbol"),s=(0,I.xU)(e.getItemVisual(t,"symbolSize")),l=e.getItemVisual(t,"style"),u=l&&l.fill,d=o.getModel("emphasis");i.setScale(s),i.traverse((function(e){e.setStyle("fill",u)}));var h=(0,I.hV)(e.getItemVisual(t,"symbolOffset"),s);h&&(i.x=h[0],i.y=h[1]);var c=e.getItemVisual(t,"symbolRotate");i.rotation=(c||0)*Math.PI/180||0;var p={};p.showEffectOn=a.get("showEffectOn"),p.rippleScale=o.get(["rippleEffect","scale"]),p.brushType=o.get(["rippleEffect","brushType"]),p.period=1e3*o.get(["rippleEffect","period"]),p.effectOffset=t/e.count(),p.z=a.getShallow("z")||0,p.zlevel=a.getShallow("zlevel")||0,p.symbolType=r,p.color=u,p.rippleEffectColor=o.get(["rippleEffect","color"]),p.rippleNumber=o.get(["rippleEffect","number"]),"render"===p.showEffectOn?(this._effectCfg?this.updateEffectAnimation(p):this.startEffectAnimation(p),this._effectCfg=p):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(e){"emphasis"===e?"render"!==p.showEffectOn&&n.startEffectAnimation(p):"normal"===e&&"render"!==p.showEffectOn&&n.stopEffectAnimation()}),this._effectCfg=p,(0,ee.Lm)(this,d.get("focus"),d.get("blurScope"),d.get("disabled"))},t.prototype.fadeOut=function(e){e&&e()},t}(w.A);const Pr=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,a.C6)(t,e),t.prototype.init=function(){this._symbolDraw=new D.A(Nr)},t.prototype.render=function(e,t,n){var a=e.getData(),i=this._symbolDraw;i.updateData(a,{clipShape:this._getClipShape(e)}),this.group.add(i.group)},t.prototype._getClipShape=function(e){var t=e.coordinateSystem,n=t&&t.getArea&&t.getArea();return e.get("clip",!0)?n:null},t.prototype.updateTransform=function(e,t,n){var a=e.getData();this.group.dirty();var i=xe("").reset(e,t,n);i.progress&&i.progress({start:0,end:a.count(),count:a.count()},a),this._symbolDraw.updateLayout()},t.prototype._updateGroupTransform=function(e){var t=e.coordinateSystem;t&&t.getRoamTransform&&(this.group.transform=ca.o8(t.getRoamTransform()),this.group.decomposeTransform())},t.prototype.remove=function(e,t){this._symbolDraw&&this._symbolDraw.remove(!0)},t.type="effectScatter",t}(U.A);const Er=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return(0,a.C6)(t,e),t.prototype.getInitialData=function(e,t){return b(null,this,{useEncodeDefaulter:!0})},t.prototype.brushSelector=function(e,t,n){return n.point(t.getItemLayout(e))},t.type="series.effectScatter",t.dependencies=["grid","polar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},t}(S.A);function Rr(e){e.registerChartView(Pr),e.registerSeriesModel(Er),e.registerLayout(xe("effectScatter"))}var Vr=n(48629),kr=function(e){function t(t,n,a){var i=e.call(this)||this;return i.add(i.createLine(t,n,a)),i._updateEffectSymbol(t,n),i}return(0,a.C6)(t,e),t.prototype.createLine=function(e,t,n){return new Vr.A(e,t,n)},t.prototype._updateEffectSymbol=function(e,t){var n=e.getItemModel(t).getModel("effect"),a=n.get("symbolSize"),o=n.get("symbol");i.cy(a)||(a=[a,a]);var r=e.getItemVisual(t,"style"),s=n.get("color")||r&&r.stroke,l=this.childAt(1);this._symbolType!==o&&(this.remove(l),(l=(0,I.v5)(o,-.5,-.5,1,1,s)).z2=100,l.culling=!0,this.add(l)),l&&(l.setStyle("shadowColor",s),l.setStyle(n.getItemStyle(["color"])),l.scaleX=a[0],l.scaleY=a[1],l.setColor(s),this._symbolType=o,this._symbolScale=a,this._updateEffectAnimation(e,n,t))},t.prototype._updateEffectAnimation=function(e,t,n){var a=this.childAt(1);if(a){var o=e.getItemLayout(n),r=1e3*t.get("period"),s=t.get("loop"),l=t.get("roundTrip"),u=t.get("constantSpeed"),d=i.Je(t.get("delay"),(function(t){return t/e.count()*r/3}));if(a.ignore=!0,this._updateAnimationPoints(a,o),u>0&&(r=this._getLineLength(a)/u*1e3),r!==this._period||s!==this._loop||l!==this._roundTrip){a.stopAnimation();var h=void 0;h=i.Tn(d)?d(n):d,a.__t>0&&(h=-r*a.__t),this._animateSymbol(a,r,h,s,l)}this._period=r,this._loop=s,this._roundTrip=l}},t.prototype._animateSymbol=function(e,t,n,a,i){if(t>0){e.__t=0;var o=this,r=e.animate("",a).when(i?2*t:t,{__t:i?2:1}).delay(n).during((function(){o._updateSymbolPosition(e)}));a||r.done((function(){o.remove(e)})),r.start()}},t.prototype._getLineLength=function(e){return ei.xg(e.__p1,e.__cp1)+ei.xg(e.__cp1,e.__p2)},t.prototype._updateAnimationPoints=function(e,t){e.__p1=t[0],e.__p2=t[1],e.__cp1=t[2]||[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]},t.prototype.updateData=function(e,t,n){this.childAt(0).updateData(e,t,n),this._updateEffectSymbol(e,t)},t.prototype._updateSymbolPosition=function(e){var t=e.__p1,n=e.__p2,a=e.__cp1,i=e.__t<1?e.__t:2-e.__t,o=[e.x,e.y],r=o.slice(),s=z.k3,l=z.z7;o[0]=s(t[0],a[0],n[0],i),o[1]=s(t[1],a[1],n[1],i);var u=e.__t<1?l(t[0],a[0],n[0],i):l(n[0],a[0],t[0],1-i),d=e.__t<1?l(t[1],a[1],n[1],i):l(n[1],a[1],t[1],1-i);e.rotation=-Math.atan2(d,u)-Math.PI/2,"line"!==this._symbolType&&"rect"!==this._symbolType&&"roundRect"!==this._symbolType||(void 0!==e.__lastT&&e.__lastT<e.__t?(e.scaleY=1.05*ei.xg(r,o),1===i&&(o[0]=r[0]+(o[0]-r[0])/2,o[1]=r[1]+(o[1]-r[1])/2)):1===e.__lastT?e.scaleY=2*ei.xg(t,o):e.scaleY=this._symbolScale[1]),e.__lastT=e.__t,e.ignore=!1,e.x=o[0],e.y=o[1]},t.prototype.updateLayout=function(e,t){this.childAt(0).updateLayout(e,t);var n=e.getItemModel(t).getModel("effect");this._updateEffectAnimation(e,n,t)},t}(w.A);const zr=kr;var Or=function(e){function t(t,n,a){var i=e.call(this)||this;return i._createPolyline(t,n,a),i}return(0,a.C6)(t,e),t.prototype._createPolyline=function(e,t,n){var a=e.getItemLayout(t),i=new ct.A({shape:{points:a}});this.add(i),this._updateCommonStl(e,t,n)},t.prototype.updateData=function(e,t,n){var a=e.hostModel,i=this.childAt(0),o={shape:{points:e.getItemLayout(t)}};E.oi(i,o,a,t),this._updateCommonStl(e,t,n)},t.prototype._updateCommonStl=function(e,t,n){var a=this.childAt(0),i=e.getItemModel(t),o=n&&n.emphasisLineStyle,r=n&&n.focus,s=n&&n.blurScope,l=n&&n.emphasisDisabled;if(!n||e.hasItemOption){var u=i.getModel("emphasis");o=u.getModel("lineStyle").getLineStyle(),l=u.get("disabled"),r=u.get("focus"),s=u.get("blurScope")}a.useStyle(e.getItemVisual(t,"style")),a.style.fill=null,a.style.strokeNoScale=!0,a.ensureState("emphasis").style=o,(0,ee.Lm)(this,r,s,l)},t.prototype.updateLayout=function(e,t){this.childAt(0).setShape("points",e.getItemLayout(t))},t}(w.A);const Gr=Or;const Br=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._lastFrame=0,t._lastFramePercent=0,t}return(0,a.C6)(t,e),t.prototype.createLine=function(e,t,n){return new Gr(e,t,n)},t.prototype._updateAnimationPoints=function(e,t){this._points=t;for(var n=[0],a=0,i=1;i<t.length;i++){var o=t[i-1],r=t[i];a+=ei.xg(o,r),n.push(a)}if(0!==a){for(i=0;i<n.length;i++)n[i]/=a;this._offsets=n,this._length=a}else this._length=0},t.prototype._getLineLength=function(){return this._length},t.prototype._updateSymbolPosition=function(e){var t=e.__t<1?e.__t:2-e.__t,n=this._points,a=this._offsets,i=n.length;if(a){var o,r=this._lastFrame;if(t<this._lastFramePercent){for(o=Math.min(r+1,i-1);o>=0&&!(a[o]<=t);o--);o=Math.min(o,i-2)}else{for(o=r;o<i&&!(a[o]>t);o++);o=Math.min(o-1,i-2)}var s=(t-a[o])/(a[o+1]-a[o]),l=n[o],u=n[o+1];e.x=l[0]*(1-s)+s*u[0],e.y=l[1]*(1-s)+s*u[1];var d=e.__t<1?u[0]-l[0]:l[0]-u[0],h=e.__t<1?u[1]-l[1]:l[1]-u[1];e.rotation=-Math.atan2(h,d)-Math.PI/2,this._lastFrame=o,this._lastFramePercent=t,e.ignore=!1}},t}(zr);var Wr=n(57043),Fr=n(14423),Xr=function(){this.polyline=!1,this.curveness=0,this.segs=[]},Yr=function(e){function t(t){var n=e.call(this,t)||this;return n._off=0,n.hoverDataIdx=-1,n}return(0,a.C6)(t,e),t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new Xr},t.prototype.buildPath=function(e,t){var n,a=t.segs,i=t.curveness;if(t.polyline)for(n=this._off;n<a.length;){var o=a[n++];if(o>0){e.moveTo(a[n++],a[n++]);for(var r=1;r<o;r++)e.lineTo(a[n++],a[n++])}}else for(n=this._off;n<a.length;){var s=a[n++],l=a[n++],u=a[n++],d=a[n++];if(e.moveTo(s,l),i>0){var h=(s+u)/2-(l-d)*i,c=(l+d)/2-(u-s)*i;e.quadraticCurveTo(h,c,u,d)}else e.lineTo(u,d)}this.incremental&&(this._off=n,this.notClear=!0)},t.prototype.findDataIndex=function(e,t){var n=this.shape,a=n.segs,i=n.curveness,o=this.style.lineWidth;if(n.polyline)for(var r=0,s=0;s<a.length;){var l=a[s++];if(l>0)for(var u=a[s++],d=a[s++],h=1;h<l;h++){var c=a[s++],p=a[s++];if(Wr.l(u,d,c,p,o,e,t))return r}r++}else for(r=0,s=0;s<a.length;){u=a[s++],d=a[s++],c=a[s++],p=a[s++];if(i>0){var g=(u+c)/2-(d-p)*i,f=(d+p)/2-(c-u)*i;if(Fr.l(u,d,g,f,c,p,o,e,t))return r}else if(Wr.l(u,d,c,p,o,e,t))return r;r++}return-1},t.prototype.contain=function(e,t){var n=this.transformCoordToLocal(e,t),a=this.getBoundingRect();return e=n[0],t=n[1],a.contain(e,t)?(this.hoverDataIdx=this.findDataIndex(e,t))>=0:(this.hoverDataIdx=-1,!1)},t.prototype.getBoundingRect=function(){var e=this._rect;if(!e){for(var t=this.shape.segs,n=1/0,a=1/0,i=-1/0,o=-1/0,r=0;r<t.length;){var s=t[r++],l=t[r++];n=Math.min(s,n),i=Math.max(s,i),a=Math.min(l,a),o=Math.max(l,o)}e=this._rect=new Tt.A(n,a,i,o)}return e},t}(V.Ay);const Hr=function(){function e(){this.group=new w.A}return e.prototype.updateData=function(e){this._clear();var t=this._create();t.setShape({segs:e.getLayout("linesPoints")}),this._setCommon(t,e)},e.prototype.incrementalPrepareUpdate=function(e){this.group.removeAll(),this._clear()},e.prototype.incrementalUpdate=function(e,t){var n=this._newAdded[0],a=t.getLayout("linesPoints"),i=n&&n.shape.segs;if(i&&i.length<2e4){var o=i.length,r=new Float32Array(o+a.length);r.set(i),r.set(a,o),n.setShape({segs:r})}else{this._newAdded=[];var s=this._create();s.incremental=!0,s.setShape({segs:a}),this._setCommon(s,t),s.__startIndex=e.start}},e.prototype.remove=function(){this._clear()},e.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},e.prototype._create=function(){var e=new Yr({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(e),this.group.add(e),e},e.prototype._setCommon=function(e,t,n){var a=t.hostModel;e.setShape({polyline:a.get("polyline"),curveness:a.get(["lineStyle","curveness"])}),e.useStyle(a.getModel("lineStyle").getLineStyle()),e.style.strokeNoScale=!0;var i=t.getVisual("style");i&&i.stroke&&e.setStyle("stroke",i.stroke),e.setStyle("fill",null);var o=(0,ae.z)(e);o.seriesIndex=a.seriesIndex,e.on("mousemove",(function(t){o.dataIndex=null;var n=e.hoverDataIdx;n>0&&(o.dataIndex=n+e.__startIndex)}))},e.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},e}();const Ur={seriesType:"lines",plan:(0,ve.A)(),reset:function(e){var t=e.coordinateSystem;if(t){var n=e.get("polyline"),a=e.pipelineContext.large;return{progress:function(i,o){var r=[];if(a){var s=void 0,l=i.end-i.start;if(n){for(var u=0,d=i.start;d<i.end;d++)u+=e.getLineCoordsCount(d);s=new Float32Array(l+2*u)}else s=new Float32Array(4*l);var h=0,c=[];for(d=i.start;d<i.end;d++){var p=e.getLineCoords(d,r);n&&(s[h++]=p);for(var g=0;g<p;g++)c=t.dataToPoint(r[g],!1,c),s[h++]=c[0],s[h++]=c[1]}o.setLayout("linesPoints",s)}else for(d=i.start;d<i.end;d++){var f=o.getItemModel(d),y=(p=e.getLineCoords(d,r),[]);if(n)for(var m=0;m<p;m++)y.push(t.dataToPoint(r[m]));else{y[0]=t.dataToPoint(r[0]),y[1]=t.dataToPoint(r[1]);var v=f.get(["lineStyle","curveness"]);+v&&(y[2]=[(y[0][0]+y[1][0])/2-(y[0][1]-y[1][1])*v,(y[0][1]+y[1][1])/2-(y[1][0]-y[0][0])*v])}o.setItemLayout(d,y)}}}}}};const jr=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,a.C6)(t,e),t.prototype.render=function(e,t,n){var a=e.getData(),i=this._updateLineDraw(a,e),o=e.get("zlevel"),r=e.get(["effect","trailLength"]),s=n.getZr(),l="svg"===s.painter.getType();l||s.painter.getLayer(o).clear(!0),null==this._lastZlevel||l||s.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(e)&&r>0&&(l||s.configLayer(o,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(r/10+.9,1),0)})),i.updateData(a);var u=e.get("clip",!0)&&J(e.coordinateSystem,!1,e);u?this.group.setClipPath(u):this.group.removeClipPath(),this._lastZlevel=o,this._finished=!0},t.prototype.incrementalPrepareRender=function(e,t,n){var a=e.getData();this._updateLineDraw(a,e).incrementalPrepareUpdate(a),this._clearLayer(n),this._finished=!1},t.prototype.incrementalRender=function(e,t,n){this._lineDraw.incrementalUpdate(e,t.getData()),this._finished=e.end===t.getData().count()},t.prototype.eachRendered=function(e){this._lineDraw&&this._lineDraw.eachRendered(e)},t.prototype.updateTransform=function(e,t,n){var a=e.getData(),i=e.pipelineContext;if(!this._finished||i.large||i.progressiveRender)return{update:!0};var o=Ur.reset(e,t,n);o.progress&&o.progress({start:0,end:a.count(),count:a.count()},a),this._lineDraw.updateLayout(),this._clearLayer(n)},t.prototype._updateLineDraw=function(e,t){var n=this._lineDraw,a=this._showEffect(t),i=!!t.get("polyline"),o=t.pipelineContext.large;return n&&a===this._hasEffet&&i===this._isPolyline&&o===this._isLargeDraw||(n&&n.remove(),n=this._lineDraw=o?new Hr:new wi.A(i?a?Br:Gr:a?zr:Vr.A),this._hasEffet=a,this._isPolyline=i,this._isLargeDraw=o),this.group.add(n.group),n},t.prototype._showEffect=function(e){return!!e.get(["effect","show"])},t.prototype._clearLayer=function(e){var t=e.getZr();"svg"===t.painter.getType()||null==this._lastZlevel||t.painter.getLayer(this._lastZlevel).clear(!0)},t.prototype.remove=function(e,t){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(t)},t.prototype.dispose=function(e,t){this.remove(e,t)},t.type="lines",t}(U.A);var qr="undefined"==typeof Uint32Array?Array:Uint32Array,Zr="undefined"==typeof Float64Array?Array:Float64Array;function $r(e){var t=e.data;t&&t[0]&&t[0][0]&&t[0][0].coord&&(e.data=(0,i.Tj)(t,(function(e){var t={coords:[e[0].coord,e[1].coord]};return e[0].name&&(t.fromName=e[0].name),e[1].name&&(t.toName=e[1].name),(0,i.Um)([t,e[0],e[1]])})))}const Kr=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.visualStyleAccessPath="lineStyle",n.visualDrawType="stroke",n}return(0,a.C6)(t,e),t.prototype.init=function(t){t.data=t.data||[],$r(t);var n=this._processFlatCoordsArray(t.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(t.data=new Float32Array(n.count)),e.prototype.init.apply(this,arguments)},t.prototype.mergeOption=function(t){if($r(t),t.data){var n=this._processFlatCoordsArray(t.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(t.data=new Float32Array(n.count))}e.prototype.mergeOption.apply(this,arguments)},t.prototype.appendData=function(e){var t=this._processFlatCoordsArray(e.data);t.flatCoords&&(this._flatCoords?(this._flatCoords=(0,i.yB)(this._flatCoords,t.flatCoords),this._flatCoordsOffset=(0,i.yB)(this._flatCoordsOffset,t.flatCoordsOffset)):(this._flatCoords=t.flatCoords,this._flatCoordsOffset=t.flatCoordsOffset),e.data=new Float32Array(t.count)),this.getRawData().appendData(e.data)},t.prototype._getCoordsFromItemModel=function(e){var t=this.getData().getItemModel(e);return t.option instanceof Array?t.option:t.getShallow("coords")},t.prototype.getLineCoordsCount=function(e){return this._flatCoordsOffset?this._flatCoordsOffset[2*e+1]:this._getCoordsFromItemModel(e).length},t.prototype.getLineCoords=function(e,t){if(this._flatCoordsOffset){for(var n=this._flatCoordsOffset[2*e],a=this._flatCoordsOffset[2*e+1],i=0;i<a;i++)t[i]=t[i]||[],t[i][0]=this._flatCoords[n+2*i],t[i][1]=this._flatCoords[n+2*i+1];return a}var o=this._getCoordsFromItemModel(e);for(i=0;i<o.length;i++)t[i]=t[i]||[],t[i][0]=o[i][0],t[i][1]=o[i][1];return o.length},t.prototype._processFlatCoordsArray=function(e){var t=0;if(this._flatCoords&&(t=this._flatCoords.length),(0,i.Et)(e[0])){for(var n=e.length,a=new qr(n),o=new Zr(n),r=0,s=0,l=0,u=0;u<n;){l++;var d=e[u++];a[s++]=r+t,a[s++]=d;for(var h=0;h<d;h++){var c=e[u++],p=e[u++];o[r++]=c,o[r++]=p}}return{flatCoordsOffset:new Uint32Array(a.buffer,0,s),flatCoords:o,count:l}}return{flatCoordsOffset:null,flatCoords:null,count:e.length}},t.prototype.getInitialData=function(e,t){var n=new o.A(["value"],this);return n.hasItemOption=!1,n.initData(e.data,[],(function(e,t,a,i){if(e instanceof Array)return NaN;n.hasItemOption=!0;var o=e.value;return null!=o?o instanceof Array?o[i]:o:void 0})),n},t.prototype.formatTooltip=function(e,t,n){var a=this.getData().getItemModel(e),i=a.get("name");if(i)return i;var o=a.get("fromName"),r=a.get("toName"),s=[];return null!=o&&s.push(o),null!=r&&s.push(r),(0,Yt.Qx)("nameValue",{name:s.join(" > ")})},t.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},t.prototype.getProgressive=function(){var e=this.option.progressive;return null==e?this.option.large?1e4:this.get("progressive"):e},t.prototype.getProgressiveThreshold=function(){var e=this.option.progressiveThreshold;return null==e?this.option.large?2e4:this.get("progressiveThreshold"):e},t.prototype.getZLevelKey=function(){var e=this.getModel("effect"),t=e.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:e.get("show")&&t>0?t+"":""},t.type="series.lines",t.dependencies=["grid","polar","geo","calendar"],t.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},t}(S.A);function Jr(e){return e instanceof Array||(e=[e,e]),e}const Qr={seriesType:"lines",reset:function(e){var t=Jr(e.get("symbol")),n=Jr(e.get("symbolSize")),a=e.getData();return a.setVisual("fromSymbol",t&&t[0]),a.setVisual("toSymbol",t&&t[1]),a.setVisual("fromSymbolSize",n&&n[0]),a.setVisual("toSymbolSize",n&&n[1]),{dataEach:a.hasItemOption?function(e,t){var n=e.getItemModel(t),a=Jr(n.getShallow("symbol",!0)),i=Jr(n.getShallow("symbolSize",!0));a[0]&&e.setItemVisual(t,"fromSymbol",a[0]),a[1]&&e.setItemVisual(t,"toSymbol",a[1]),i[0]&&e.setItemVisual(t,"fromSymbolSize",i[0]),i[1]&&e.setItemVisual(t,"toSymbolSize",i[1])}:null}}};function es(e){e.registerChartView(jr),e.registerSeriesModel(Kr),e.registerLayout(Ur),e.registerVisual(Qr)}var ts=n(59741),ns=function(){function e(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var e=ts.yh.createCanvas();this.canvas=e}return e.prototype.update=function(e,t,n,a,i,o){var r=this._getBrush(),s=this._getGradient(i,"inRange"),l=this._getGradient(i,"outOfRange"),u=this.pointSize+this.blurSize,d=this.canvas,h=d.getContext("2d"),c=e.length;d.width=t,d.height=n;for(var p=0;p<c;++p){var g=e[p],f=g[0],y=g[1],m=a(g[2]);h.globalAlpha=m,h.drawImage(r,f-u,y-u)}if(!d.width||!d.height)return d;for(var v=h.getImageData(0,0,d.width,d.height),x=v.data,_=0,b=x.length,S=this.minOpacity,I=this.maxOpacity-S;_<b;){m=x[_+3]/256;var w=4*Math.floor(255*m);if(m>0){var A=o(m)?s:l;m>0&&(m=m*I+S),x[_++]=A[w],x[_++]=A[w+1],x[_++]=A[w+2],x[_++]=A[w+3]*m*256}else _+=4}return h.putImageData(v,0,0),d},e.prototype._getBrush=function(){var e=this._brushCanvas||(this._brushCanvas=ts.yh.createCanvas()),t=this.pointSize+this.blurSize,n=2*t;e.width=n,e.height=n;var a=e.getContext("2d");return a.clearRect(0,0,n,n),a.shadowOffsetX=n,a.shadowBlur=this.blurSize,a.shadowColor="#000",a.beginPath(),a.arc(-t,t,this.pointSize,0,2*Math.PI,!0),a.closePath(),a.fill(),e},e.prototype._getGradient=function(e,t){for(var n=this._gradientPixels,a=n[t]||(n[t]=new Uint8ClampedArray(1024)),i=[0,0,0,0],o=0,r=0;r<256;r++)e[t](r/255,!0,i),a[o++]=i[0],a[o++]=i[1],a[o++]=i[2],a[o++]=i[3];return a},e}();const as=ns;function is(e){var t=e.dimensions;return"lng"===t[0]&&"lat"===t[1]}const os=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,a.C6)(t,e),t.prototype.render=function(e,t,n){var a;t.eachComponent("visualMap",(function(t){t.eachTargetSeries((function(n){n===e&&(a=t)}))})),this._progressiveEls=null,this.group.removeAll();var i=e.coordinateSystem;"cartesian2d"===i.type||"calendar"===i.type?this._renderOnCartesianAndCalendar(e,n,0,e.getData().count()):is(i)&&this._renderOnGeo(i,e,a,n)},t.prototype.incrementalPrepareRender=function(e,t,n){this.group.removeAll()},t.prototype.incrementalRender=function(e,t,n,a){var i=t.coordinateSystem;i&&(is(i)?this.render(t,n,a):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(t,a,e.start,e.end,!0)))},t.prototype.eachRendered=function(e){Ce.traverseElements(this._progressiveEls||this.group,e)},t.prototype._renderOnCartesianAndCalendar=function(e,t,n,a,i){var o,r,s,l,u=e.coordinateSystem,d=(0,Q.g)(u,"cartesian2d");if(d){var h=u.getAxis("x"),c=u.getAxis("y");0,o=h.getBandWidth()+.5,r=c.getBandWidth()+.5,s=h.scale.getExtent(),l=c.scale.getExtent()}for(var p=this.group,g=e.getData(),f=e.getModel(["emphasis","itemStyle"]).getItemStyle(),y=e.getModel(["blur","itemStyle"]).getItemStyle(),m=e.getModel(["select","itemStyle"]).getItemStyle(),v=e.get(["itemStyle","borderRadius"]),x=(0,te.lx)(e),_=e.getModel("emphasis"),b=_.get("focus"),S=_.get("blurScope"),I=_.get("disabled"),w=d?[g.mapDimension("x"),g.mapDimension("y"),g.mapDimension("value")]:[g.mapDimension("time"),g.mapDimension("value")],A=n;A<a;A++){var M=void 0,D=g.getItemVisual(A,"style");if(d){var L=g.get(w[0],A),C=g.get(w[1],A);if(isNaN(g.get(w[2],A))||isNaN(L)||isNaN(C)||L<s[0]||L>s[1]||C<l[0]||C>l[1])continue;var T=u.dataToPoint([L,C]);M=new j.A({shape:{x:T[0]-o/2,y:T[1]-r/2,width:o,height:r},style:D})}else{if(isNaN(g.get(w[1],A)))continue;M=new j.A({z2:1,shape:u.dataToRect([g.get(w[0],A)]).contentShape,style:D})}if(g.hasItemOption){var N=g.getItemModel(A),P=N.getModel("emphasis");f=P.getModel("itemStyle").getItemStyle(),y=N.getModel(["blur","itemStyle"]).getItemStyle(),m=N.getModel(["select","itemStyle"]).getItemStyle(),v=N.get(["itemStyle","borderRadius"]),b=P.get("focus"),S=P.get("blurScope"),I=P.get("disabled"),x=(0,te.lx)(N)}M.shape.r=v;var E=e.getRawValue(A),R="-";E&&null!=E[2]&&(R=E[2]+""),(0,te.qM)(M,x,{labelFetcher:e,labelDataIndex:A,defaultOpacity:D.opacity,defaultText:R}),M.ensureState("emphasis").style=f,M.ensureState("blur").style=y,M.ensureState("select").style=m,(0,ee.Lm)(M,b,S,I),M.incremental=i,i&&(M.states.emphasis.hoverLayer=!0),p.add(M),g.setItemGraphicEl(A,M),this._progressiveEls&&this._progressiveEls.push(M)}},t.prototype._renderOnGeo=function(e,t,n,a){var o=n.targetVisuals.inRange,r=n.targetVisuals.outOfRange,s=t.getData(),l=this._hmLayer||this._hmLayer||new as;l.blurSize=t.get("blurSize"),l.pointSize=t.get("pointSize"),l.minOpacity=t.get("minOpacity"),l.maxOpacity=t.get("maxOpacity");var u=e.getViewRect().clone(),d=e.getRoamTransform();u.applyTransform(d);var h=Math.max(u.x,0),c=Math.max(u.y,0),p=Math.min(u.width+u.x,a.getWidth()),g=Math.min(u.height+u.y,a.getHeight()),f=p-h,y=g-c,m=[s.mapDimension("lng"),s.mapDimension("lat"),s.mapDimension("value")],v=s.mapArray(m,(function(t,n,a){var i=e.dataToPoint([t,n]);return i[0]-=h,i[1]-=c,i.push(a),i})),x=n.getExtent(),_="visualMap.continuous"===n.type?function(e,t){var n=e[1]-e[0];return t=[(t[0]-e[0])/n,(t[1]-e[0])/n],function(e){return e>=t[0]&&e<=t[1]}}(x,n.option.range):function(e,t,n){var a=e[1]-e[0],o=(t=i.Tj(t,(function(t){return{interval:[(t.interval[0]-e[0])/a,(t.interval[1]-e[0])/a]}}))).length,r=0;return function(e){var a;for(a=r;a<o;a++)if((i=t[a].interval)[0]<=e&&e<=i[1]){r=a;break}if(a===o)for(a=r-1;a>=0;a--){var i;if((i=t[a].interval)[0]<=e&&e<=i[1]){r=a;break}}return a>=0&&a<o&&n[a]}}(x,n.getPieceList(),n.option.selected);l.update(v,f,y,o.color.getNormalizer(),{inRange:o.color.getColorMapper(),outOfRange:r.color.getColorMapper()},_);var b=new Ft.Ay({style:{width:f,height:y,x:h,y:c,image:l.canvas},silent:!0});this.group.add(b)},t.type="heatmap",t}(U.A);const rs=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,a.C6)(t,e),t.prototype.getInitialData=function(e,t){return b(null,this,{generateCoord:"value"})},t.prototype.preventIncremental=function(){var e=y.A.get(this.get("coordinateSystem"));if(e&&e.dimensions)return"lng"===e.dimensions[0]&&"lat"===e.dimensions[1]},t.type="series.heatmap",t.dependencies=["grid","geo","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},t}(S.A);function ss(e){e.registerChartView(os),e.registerSeriesModel(rs)}var ls=["itemStyle","borderWidth"],us=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],ds=new qt.A;function hs(e,t,n,a){var o=e.getItemLayout(t),r=n.get("symbolRepeat"),s=n.get("symbolClip"),l=n.get("symbolPosition")||"start",u=(n.get("symbolRotate")||0)*Math.PI/180||0,d=n.get("symbolPatternSize")||2,h=n.isAnimationEnabled(),c={dataIndex:t,layout:o,itemModel:n,symbolType:e.getItemVisual(t,"symbol")||"circle",style:e.getItemVisual(t,"style"),symbolClip:s,symbolRepeat:r,symbolRepeatDirection:n.get("symbolRepeatDirection"),symbolPatternSize:d,rotation:u,animationModel:h?n:null,hoverScale:h&&n.get(["emphasis","scale"]),z2:n.getShallow("z",!0)||0};!function(e,t,n,a,o){var r,s=a.valueDim,l=e.get("symbolBoundingData"),u=a.coordSys.getOtherAxis(a.coordSys.getBaseAxis()),d=u.toGlobalCoord(u.dataToCoord(0)),h=1-+(n[s.wh]<=0);if(i.cy(l)){var c=[cs(u,l[0])-d,cs(u,l[1])-d];c[1]<c[0]&&c.reverse(),r=c[h]}else r=null!=l?cs(u,l)-d:t?a.coordSysExtent[s.index][h]-d:n[s.wh];o.boundingLength=r,t&&(o.repeatCutLength=n[s.wh]);o.pxSign=r>0?1:-1}(n,r,o,a,c),function(e,t,n,a,o,r,s,l,u,d){var h,c=u.valueDim,p=u.categoryDim,g=Math.abs(n[p.wh]),f=e.getItemVisual(t,"symbolSize");h=i.cy(f)?f.slice():null==f?["100%","100%"]:[f,f];h[p.index]=(0,Z.lo)(h[p.index],g),h[c.index]=(0,Z.lo)(h[c.index],a?g:Math.abs(r)),d.symbolSize=h;var y=d.symbolScale=[h[0]/l,h[1]/l];y[c.index]*=(u.isHorizontal?-1:1)*s}(e,t,o,r,0,c.boundingLength,c.pxSign,d,a,c),function(e,t,n,a,i){var o=e.get(ls)||0;o&&(ds.attr({scaleX:t[0],scaleY:t[1],rotation:n}),ds.updateTransform(),o/=ds.getLineScale(),o*=t[a.valueDim.index]);i.valueLineWidth=o||0}(n,c.symbolScale,u,a,c);var p=c.symbolSize,g=(0,I.hV)(n.get("symbolOffset"),p);return function(e,t,n,a,o,r,s,l,u,d,h,c){var p=h.categoryDim,g=h.valueDim,f=c.pxSign,y=Math.max(t[g.index]+l,0),m=y;if(a){var v=Math.abs(u),x=i.Je(e.get("symbolMargin"),"15%")+"",_=!1;x.lastIndexOf("!")===x.length-1&&(_=!0,x=x.slice(0,x.length-1));var b=(0,Z.lo)(x,t[g.index]),S=Math.max(y+2*b,0),I=_?0:2*b,w=(0,Z.kf)(a),A=w?a:Ds((v+I)/S);S=y+2*(b=(v-A*y)/2/(_?A:Math.max(A-1,1))),I=_?0:2*b,w||"fixed"===a||(A=d?Ds((Math.abs(d)+I)/S):0),m=A*S-I,c.repeatTimes=A,c.symbolMargin=b}var M=f*(m/2),D=c.pathPosition=[];D[p.index]=n[p.wh]/2,D[g.index]="start"===s?M:"end"===s?u-M:u/2,r&&(D[0]+=r[0],D[1]+=r[1]);var L=c.bundlePosition=[];L[p.index]=n[p.xy],L[g.index]=n[g.xy];var C=c.barRectShape=i.X$({},n);C[g.wh]=f*Math.max(Math.abs(n[g.wh]),Math.abs(D[g.index]+M)),C[p.wh]=n[p.wh];var T=c.clipShape={};T[p.xy]=-n[p.xy],T[p.wh]=h.ecSize[p.wh],T[g.xy]=0,T[g.wh]=n[g.wh]}(n,p,o,r,0,g,l,c.valueLineWidth,c.boundingLength,c.repeatCutLength,a,c),c}function cs(e,t){return e.toGlobalCoord(e.dataToCoord(e.scale.parse(t)))}function ps(e){var t=e.symbolPatternSize,n=(0,I.v5)(e.symbolType,-t/2,-t/2,t,t);return n.attr({culling:!0}),"image"!==n.type&&n.setStyle({strokeNoScale:!0}),n}function gs(e,t,n,a){var i=e.__pictorialBundle,o=n.symbolSize,r=n.valueLineWidth,s=n.pathPosition,l=t.valueDim,u=n.repeatTimes||0,d=0,h=o[t.valueDim.index]+r+2*n.symbolMargin;for(ws(e,(function(e){e.__pictorialAnimationIndex=d,e.__pictorialRepeatTimes=u,d<u?As(e,null,g(d),n,a):As(e,null,{scaleX:0,scaleY:0},n,a,(function(){i.remove(e)})),d++}));d<u;d++){var c=ps(n);c.__pictorialAnimationIndex=d,c.__pictorialRepeatTimes=u,i.add(c);var p=g(d);As(c,{x:p.x,y:p.y,scaleX:0,scaleY:0},{scaleX:p.scaleX,scaleY:p.scaleY,rotation:p.rotation},n,a)}function g(e){var t=s.slice(),a=n.pxSign,i=e;return("start"===n.symbolRepeatDirection?a>0:a<0)&&(i=u-1-e),t[l.index]=h*(i-u/2+.5)+s[l.index],{x:t[0],y:t[1],scaleX:n.symbolScale[0],scaleY:n.symbolScale[1],rotation:n.rotation}}}function fs(e,t,n,a){var i=e.__pictorialBundle,o=e.__pictorialMainPath;o?As(o,null,{x:n.pathPosition[0],y:n.pathPosition[1],scaleX:n.symbolScale[0],scaleY:n.symbolScale[1],rotation:n.rotation},n,a):(o=e.__pictorialMainPath=ps(n),i.add(o),As(o,{x:n.pathPosition[0],y:n.pathPosition[1],scaleX:0,scaleY:0,rotation:n.rotation},{scaleX:n.symbolScale[0],scaleY:n.symbolScale[1]},n,a))}function ys(e,t,n){var a=i.X$({},t.barRectShape),o=e.__pictorialBarRect;o?As(o,null,{shape:a},t,n):((o=e.__pictorialBarRect=new j.A({z2:2,shape:a,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}})).disableMorphing=!0,e.add(o))}function ms(e,t,n,a){if(n.symbolClip){var o=e.__pictorialClipPath,r=i.X$({},n.clipShape),s=t.valueDim,l=n.animationModel,u=n.dataIndex;if(o)E.oi(o,{shape:r},l,u);else{r[s.wh]=0,o=new j.A({shape:r}),e.__pictorialBundle.setClipPath(o),e.__pictorialClipPath=o;var d={};d[s.wh]=n.clipShape[s.wh],Ce[a?"updateProps":"initProps"](o,{shape:d},l,u)}}}function vs(e,t){var n=e.getItemModel(t);return n.getAnimationDelayParams=xs,n.isAnimationEnabled=_s,n}function xs(e){return{index:e.__pictorialAnimationIndex,count:e.__pictorialRepeatTimes}}function _s(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function bs(e,t,n,a){var i=new w.A,o=new w.A;return i.add(o),i.__pictorialBundle=o,o.x=n.bundlePosition[0],o.y=n.bundlePosition[1],n.symbolRepeat?gs(i,t,n):fs(i,0,n),ys(i,n,a),ms(i,t,n,a),i.__pictorialShapeStr=Is(e,n),i.__pictorialSymbolMeta=n,i}function Ss(e,t,n,a){var o=a.__pictorialBarRect;o&&o.removeTextContent();var r=[];ws(a,(function(e){r.push(e)})),a.__pictorialMainPath&&r.push(a.__pictorialMainPath),a.__pictorialClipPath&&(n=null),i.__(r,(function(e){E.Nz(e,{scaleX:0,scaleY:0},n,t,(function(){a.parent&&a.parent.remove(a)}))})),e.setItemGraphicEl(t,null)}function Is(e,t){return[e.getItemVisual(t.dataIndex,"symbol")||"none",!!t.symbolRepeat,!!t.symbolClip].join(":")}function ws(e,t,n){i.__(e.__pictorialBundle.children(),(function(a){a!==e.__pictorialBarRect&&t.call(n,a)}))}function As(e,t,n,a,i,o){t&&e.attr(t),a.symbolClip&&!i?n&&e.attr(n):n&&Ce[i?"updateProps":"initProps"](e,n,a.animationModel,a.dataIndex,o)}function Ms(e,t,n){var a=n.dataIndex,o=n.itemModel,r=o.getModel("emphasis"),s=r.getModel("itemStyle").getItemStyle(),l=o.getModel(["blur","itemStyle"]).getItemStyle(),u=o.getModel(["select","itemStyle"]).getItemStyle(),d=o.getShallow("cursor"),h=r.get("focus"),c=r.get("blurScope"),p=r.get("scale");ws(e,(function(e){if(e instanceof Ft.Ay){var t=e.style;e.useStyle(i.X$({image:t.image,x:t.x,y:t.y,width:t.width,height:t.height},n.style))}else e.useStyle(n.style);var a=e.ensureState("emphasis");a.style=s,p&&(a.scaleX=1.1*e.scaleX,a.scaleY=1.1*e.scaleY),e.ensureState("blur").style=l,e.ensureState("select").style=u,d&&(e.cursor=d),e.z2=n.z2}));var g=t.valueDim.posDesc[+(n.boundingLength>0)],f=e.__pictorialBarRect;f.ignoreClip=!0,(0,te.qM)(f,(0,te.lx)(o),{labelFetcher:t.seriesModel,labelDataIndex:a,defaultText:(0,ne.i)(t.seriesModel.getData(),a),inheritColor:n.style.fill,defaultOpacity:n.style.opacity,defaultOutsidePosition:g}),(0,ee.Lm)(e,h,c,r.get("disabled"))}function Ds(e){var t=Math.round(e);return Math.abs(e-t)<1e-4?t:Math.ceil(e)}const Ls=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,a.C6)(t,e),t.prototype.render=function(e,t,n){var a=this.group,i=e.getData(),o=this._data,r=e.coordinateSystem,s=r.getBaseAxis().isHorizontal(),l=r.master.getRect(),u={ecSize:{width:n.getWidth(),height:n.getHeight()},seriesModel:e,coordSys:r,coordSysExtent:[[l.x,l.x+l.width],[l.y,l.y+l.height]],isHorizontal:s,valueDim:us[+s],categoryDim:us[1-+s]};i.diff(o).add((function(e){if(i.hasValue(e)){var t=vs(i,e),n=hs(i,e,t,u),o=bs(i,u,n);i.setItemGraphicEl(e,o),a.add(o),Ms(o,u,n)}})).update((function(e,t){var n=o.getItemGraphicEl(t);if(i.hasValue(e)){var r=vs(i,e),s=hs(i,e,r,u),l=Is(i,s);n&&l!==n.__pictorialShapeStr&&(a.remove(n),i.setItemGraphicEl(e,null),n=null),n?function(e,t,n){var a=n.animationModel,i=n.dataIndex,o=e.__pictorialBundle;E.oi(o,{x:n.bundlePosition[0],y:n.bundlePosition[1]},a,i),n.symbolRepeat?gs(e,t,n,!0):fs(e,t,n,!0);ys(e,n,!0),ms(e,t,n,!0)}(n,u,s):n=bs(i,u,s,!0),i.setItemGraphicEl(e,n),n.__pictorialSymbolMeta=s,a.add(n),Ms(n,u,s)}else a.remove(n)})).remove((function(e){var t=o.getItemGraphicEl(e);t&&Ss(o,e,t.__pictorialSymbolMeta.animationModel,t)})).execute();var d=e.get("clip",!0)?J(e.coordinateSystem,!1,e):null;return d?a.setClipPath(d):a.removeClipPath(),this._data=i,this.group},t.prototype.remove=function(e,t){var n=this.group,a=this._data;e.get("animation")?a&&a.eachItemGraphicEl((function(t){Ss(a,(0,ae.z)(t).dataIndex,e,t)})):n.removeAll()},t.type="pictorialBar",t}(U.A);const Cs=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n.defaultSymbol="roundRect",n}return(0,a.C6)(t,e),t.prototype.getInitialData=function(t){return t.stack=null,e.prototype.getInitialData.apply(this,arguments)},t.type="series.pictorialBar",t.dependencies=["grid"],t.defaultOption=(0,De.G_)(Me.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",clip:!1,progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),t}(Me);function Ts(e){e.registerChartView(Ls),e.registerSeriesModel(Cs),e.registerLayout(e.PRIORITY.VISUAL.LAYOUT,(0,i.cF)(we.Zp,"pictorialBar")),e.registerLayout(e.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,(0,we.KF)("pictorialBar"))}var Ns=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n._layers=[],n}return(0,a.C6)(t,e),t.prototype.render=function(e,t,n){var a=e.getData(),o=this,r=this.group,s=e.getLayerSeries(),l=a.getLayout("layoutInfo"),u=l.rect,d=l.boundaryGap;function h(e){return e.name}r.x=0,r.y=u.y+d[0];var c=new sa.A(this._layersSeries||[],s,h,h),p=[];function g(t,n,i){var l=o._layers;if("remove"!==t){for(var u,d,h=[],c=[],g=s[n].indices,f=0;f<g.length;f++){var y=a.getItemLayout(g[f]),m=y.x,v=y.y0,x=y.y;h.push(m,v),c.push(m,v+x),u=a.getItemVisual(g[f],"style")}var _=a.getItemLayout(g[0]),b=e.getModel("label").get("margin"),S=e.getModel("emphasis");if("add"===t){var I=p[n]=new w.A;d=new H({shape:{points:h,stackedOnPoints:c,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),I.add(d),r.add(I),e.isAnimationEnabled()&&d.setClipPath(function(e,t,n){var a=new j.A({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}});return E.LW(a,{shape:{x:e.x-50,width:e.width+100,height:e.height+20}},t,n),a}(d.getBoundingRect(),e,(function(){d.removeClipPath()})))}else{I=l[i];d=I.childAt(0),r.add(I),p[n]=I,E.oi(d,{shape:{points:h,stackedOnPoints:c}},e),(0,E.ap)(d)}(0,te.qM)(d,(0,te.lx)(e),{labelDataIndex:g[f-1],defaultText:a.getName(g[f-1]),inheritColor:u.fill},{normal:{verticalAlign:"middle"}}),d.setTextConfig({position:null,local:!0});var A=d.getTextContent();A&&(A.x=_.x-b,A.y=_.y0+_.y/2),d.useStyle(u),a.setItemGraphicEl(n,d),(0,ee.Mx)(d,e),(0,ee.Lm)(d,S.get("focus"),S.get("blurScope"),S.get("disabled"))}else r.remove(l[n])}c.add((0,i.oI)(g,this,"add")).update((0,i.oI)(g,this,"update")).remove((0,i.oI)(g,this,"remove")).execute(),this._layersSeries=s,this._layers=p},t.type="themeRiver",t}(U.A);const Ps=Ns;const Es=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,a.C6)(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new wt(i.oI(this.getData,this),i.oI(this.getRawData,this))},t.prototype.fixData=function(e){var t=e.length,n={},a=(0,d.Sq)(e,(function(e){return n.hasOwnProperty(e[0]+"")||(n[e[0]+""]=-1),e[2]})),i=[];a.buckets.each((function(e,t){i.push({name:t,dataList:e})}));for(var o=i.length,r=0;r<o;++r){for(var s=i[r].name,l=0;l<i[r].dataList.length;++l){var u=i[r].dataList[l][0]+"";n[u]=r}for(var u in n)n.hasOwnProperty(u)&&n[u]!==r&&(n[u]=r,e[t]=[u,0,s],t++)}return e},t.prototype.getInitialData=function(e,t){for(var n=this.getReferringComponents("singleAxis",d.US).models[0].get("type"),a=i.pb(e.data,(function(e){return void 0!==e[2]})),r=this.fixData(a||[]),s=[],l=this.nameMap=i.nt(),u=0,h=0;h<r.length;++h)s.push(r[h][2]),l.get(r[h][2])||(l.set(r[h][2],u),u++);var c=p(r,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:(0,f.B)(n)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,g=new o.A(c,this);return g.initData(r),g},t.prototype.getLayerSeries=function(){for(var e=this.getData(),t=e.count(),n=[],a=0;a<t;++a)n[a]=a;var i=e.mapDimension("single"),o=(0,d.Sq)(n,(function(t){return e.get("name",t)})),r=[];return o.buckets.each((function(t,n){t.sort((function(t,n){return e.get(i,t)-e.get(i,n)})),r.push({name:n,indices:t})})),r},t.prototype.getAxisTooltipData=function(e,t,n){i.cy(e)||(e=e?[e]:[]);for(var a,o=this.getData(),r=this.getLayerSeries(),s=[],l=r.length,u=0;u<l;++u){for(var d=Number.MAX_VALUE,h=-1,c=r[u].indices.length,p=0;p<c;++p){var g=o.get(e[0],r[u].indices[p]),f=Math.abs(g-t);f<=d&&(a=g,d=f,h=r[u].indices[p])}s.push(h)}return{dataIndices:s,nestestValue:a}},t.prototype.formatTooltip=function(e,t,n){var a=this.getData(),i=a.getName(e),o=a.get(a.mapDimension("value"),e);return(0,Yt.Qx)("nameValue",{name:i,value:o})},t.type="series.themeRiver",t.dependencies=["singleAxis"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},t}(S.A);function Rs(e,t){e.eachSeriesByType("themeRiver",(function(e){var t=e.getData(),n=e.coordinateSystem,a={},i=n.getRect();a.rect=i;var o=e.get("boundaryGap"),r=n.getAxis();(a.boundaryGap=o,"horizontal"===r.orient)?(o[0]=Z.lo(o[0],i.height),o[1]=Z.lo(o[1],i.height),Vs(t,e,i.height-o[0]-o[1])):(o[0]=Z.lo(o[0],i.width),o[1]=Z.lo(o[1],i.width),Vs(t,e,i.width-o[0]-o[1]));t.setLayout("layoutInfo",a)}))}function Vs(e,t,n){if(e.count())for(var a,o=t.coordinateSystem,r=t.getLayerSeries(),s=e.mapDimension("single"),l=e.mapDimension("value"),u=i.Tj(r,(function(t){return i.Tj(t.indices,(function(t){var n=o.dataToPoint(e.get(s,t));return n[1]=e.get(l,t),n}))})),d=function(e){for(var t=e.length,n=e[0].length,a=[],i=[],o=0,r=0;r<n;++r){for(var s=0,l=0;l<t;++l)s+=e[l][r][1];s>o&&(o=s),a.push(s)}for(var u=0;u<n;++u)i[u]=(o-a[u])/2;o=0;for(var d=0;d<n;++d){var h=a[d]+i[d];h>o&&(o=h)}return{y0:i,max:o}}(u),h=d.y0,c=n/d.max,p=r.length,g=r[0].indices.length,f=0;f<g;++f){a=h[f]*c,e.setItemLayout(r[0].indices[f],{layerIndex:0,x:u[0][f][0],y0:a,y:u[0][f][1]*c});for(var y=1;y<p;++y)a+=u[y-1][f][1]*c,e.setItemLayout(r[y].indices[f],{layerIndex:y,x:u[y][f][0],y0:a,y:u[y][f][1]*c})}}function ks(e){e.registerChartView(Ps),e.registerSeriesModel(Es),e.registerLayout(Rs),e.registerProcessor(ht("themeRiver"))}var zs=n(76868),Os=n(41589),Gs=function(e){function t(t,n,a,i){var o=e.call(this)||this;o.z2=2,o.textConfig={inside:!0},(0,ae.z)(o).seriesIndex=n.seriesIndex;var r=new R.Ay({z2:4,silent:t.getModel().get(["label","silent"])});return o.setTextContent(r),o.updateData(!0,t,n,a,i),o}return(0,a.C6)(t,e),t.prototype.updateData=function(e,t,n,a,o){this.node=t,t.piece=this,n=n||this._seriesModel,a=a||this._ecModel;var r=this;(0,ae.z)(r).dataIndex=t.dataIndex;var s=t.getModel(),l=s.getModel("emphasis"),u=t.getLayout(),d=i.X$({},u);d.label=null;var h=t.getVisual("style");h.lineJoin="bevel";var c=t.getVisual("decal");c&&(h.decal=(0,zs.w)(c,o));var p=ze(s.getModel("itemStyle"),d,!0);i.X$(d,p),i.__(ee.BV,(function(e){var t=r.ensureState(e),n=s.getModel([e,"itemStyle"]);t.style=n.getItemStyle();var a=ze(n,d);a&&(t.shape=a)})),e?(r.setShape(d),r.shape.r=u.r0,E.LW(r,{shape:{r:u.r}},n,t.dataIndex)):(E.oi(r,{shape:d},n),(0,E.ap)(r)),r.useStyle(h),this._updateLabel(n);var g=s.getShallow("cursor");g&&r.attr("cursor",g),this._seriesModel=n||this._seriesModel,this._ecModel=a||this._ecModel;var f=l.get("focus"),y="ancestor"===f?t.getAncestorsIndices():"descendant"===f?t.getDescendantIndices():f;(0,ee.Lm)(this,y,l.get("blurScope"),l.get("disabled"))},t.prototype._updateLabel=function(e){var t=this,n=this.node.getModel(),a=n.getModel("label"),o=this.node.getLayout(),r=o.endAngle-o.startAngle,s=(o.startAngle+o.endAngle)/2,l=Math.cos(s),u=Math.sin(s),d=this,h=d.getTextContent(),c=this.node.dataIndex,p=a.get("minAngle")/180*Math.PI,g=a.get("show")&&!(null!=p&&Math.abs(r)<p);function f(e,t){var n=e.get(t);return null==n?a.get(t):n}h.ignore=!g,i.__(ee.wV,(function(a){var p="normal"===a?n.getModel("label"):n.getModel([a,"label"]),g="normal"===a,y=g?h:h.ensureState(a),m=e.getFormattedLabel(c,a);g&&(m=m||t.node.name),y.style=(0,te.VB)(p,{},null,"normal"!==a,!0),m&&(y.style.text=m);var v=p.get("show");null==v||g||(y.ignore=!v);var x,_=f(p,"position"),b=g?d:d.states[a],S=b.style.fill;b.textConfig={outsideFill:"inherit"===p.get("color")?S:null,inside:"outside"!==_};var I=f(p,"distance")||0,w=f(p,"align"),A=f(p,"rotate"),M=.5*Math.PI,D=1.5*Math.PI,L=(0,Os.n)("tangential"===A?Math.PI/2-s:s),C=L>M&&!(0,Z.dh)(L-M)&&L<D;"outside"===_?(x=o.r+I,w=C?"right":"left"):w&&"center"!==w?"left"===w?(x=o.r0+I,w=C?"right":"left"):"right"===w&&(x=o.r-I,w=C?"left":"right"):(x=r===2*Math.PI&&0===o.r0?0:(o.r+o.r0)/2,w="center"),y.style.align=w,y.style.verticalAlign=f(p,"verticalAlign")||"middle",y.x=x*l+o.cx,y.y=x*u+o.cy;var T=0;"radial"===A?T=(0,Os.n)(-s)+(C?Math.PI:0):"tangential"===A?T=(0,Os.n)(Math.PI/2-s)+(C?Math.PI:0):i.Et(A)&&(T=A*Math.PI/180),y.rotation=(0,Os.n)(T)})),h.dirtyStyle()},t}(q.A);const Bs=Gs;var Ws="sunburstRootToNode",Fs="sunburstHighlight",Xs="sunburstUnhighlight";var Ys=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,a.C6)(t,e),t.prototype.render=function(e,t,n,a){var o=this;this.seriesModel=e,this.api=n,this.ecModel=t;var r=e.getData(),s=r.tree.root,l=e.getViewRoot(),u=this.group,d=e.get("renderLabelForZeroData"),h=[];l.eachNode((function(e){h.push(e)}));var c=this._oldChildren||[];!function(a,o){if(0===a.length&&0===o.length)return;function l(e){return e.getId()}function h(i,l){!function(a,i){d||!a||a.getValue()||(a=null);if(a!==s&&i!==s)if(i&&i.piece)a?(i.piece.updateData(!1,a,e,t,n),r.setItemGraphicEl(a.dataIndex,i.piece)):function(e){if(!e)return;e.piece&&(u.remove(e.piece),e.piece=null)}(i);else if(a){var o=new Bs(a,e,t,n);u.add(o),r.setItemGraphicEl(a.dataIndex,o)}}(null==i?null:a[i],null==l?null:o[l])}new sa.A(o,a,l,l).add(h).update(h).remove(i.cF(h,null)).execute()}(h,c),function(a,i){i.depth>0?(o.virtualPiece?o.virtualPiece.updateData(!1,a,e,t,n):(o.virtualPiece=new Bs(a,e,t,n),u.add(o.virtualPiece)),i.piece.off("click"),o.virtualPiece.on("click",(function(e){o._rootToNode(i.parentNode)}))):o.virtualPiece&&(u.remove(o.virtualPiece),o.virtualPiece=null)}(s,l),this._initEvents(),this._oldChildren=h},t.prototype._initEvents=function(){var e=this;this.group.off("click"),this.group.on("click",(function(t){var n=!1;e.seriesModel.getViewRoot().eachNode((function(a){if(!n&&a.piece&&a.piece===t.target){var i=a.getModel().get("nodeClick");if("rootToNode"===i)e._rootToNode(a);else if("link"===i){var o=a.getModel(),r=o.get("link");if(r){var s=o.get("target",!0)||"_blank";(0,ie.JW)(r,s)}}n=!0}}))}))},t.prototype._rootToNode=function(e){e!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:Ws,from:this.uid,seriesId:this.seriesModel.id,targetNode:e})},t.prototype.containPoint=function(e,t){var n=t.getData().getItemLayout(0);if(n){var a=e[0]-n.cx,i=e[1]-n.cy,o=Math.sqrt(a*a+i*i);return o<=n.r&&o>=n.r0}},t.type="sunburst",t}(U.A);const Hs=Ys;var Us=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.ignoreStyleOnData=!0,n}return(0,a.C6)(t,e),t.prototype.getInitialData=function(e,t){var n={name:e.name,children:e.data};js(n);var a=this._levelModels=i.Tj(e.levels||[],(function(e){return new Xn.A(e,this,t)}),this),o=Fn.createTree(n,this,(function(e){e.wrapMethod("getItemModel",(function(e,t){var n=o.getNodeByDataIndex(t),i=a[n.depth];return i&&(e.parentModel=i),e}))}));return o.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.getDataParams=function(t){var n=e.prototype.getDataParams.apply(this,arguments),a=this.getData().tree.getNodeByDataIndex(t);return n.treePathInfo=jn(a,this),n},t.prototype.getLevelModel=function(e){return this._levelModels&&this._levelModels[e.depth]},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var t=this.getRawData().tree.root;e&&(e===t||t.contains(e))||(this._viewRoot=t)},t.prototype.enableAriaDecal=function(){aa(this)},t.type="series.sunburst",t.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},t}(S.A);function js(e){var t=0;i.__(e.children,(function(e){js(e);var n=e.value;i.cy(n)&&(n=n[0]),t+=n}));var n=e.value;i.cy(n)&&(n=n[0]),(null==n||isNaN(n))&&(n=t),n<0&&(n=0),i.cy(e.value)?e.value[0]=n:e.value=n}const qs=Us;var Zs=Math.PI/180;function $s(e,t,n){t.eachSeriesByType(e,(function(e){var t=e.get("center"),a=e.get("radius");i.cy(a)||(a=[0,a]),i.cy(t)||(t=[t,t]);var o=n.getWidth(),r=n.getHeight(),s=Math.min(o,r),l=(0,Z.lo)(t[0],o),u=(0,Z.lo)(t[1],r),d=(0,Z.lo)(a[0],s/2),h=(0,Z.lo)(a[1],s/2),c=-e.get("startAngle")*Zs,p=e.get("minAngle")*Zs,g=e.getData().tree.root,f=e.getViewRoot(),y=f.depth,m=e.get("sort");null!=m&&Ks(f,m);var v=0;i.__(f.children,(function(e){!isNaN(e.getValue())&&v++}));var x=f.getValue(),_=Math.PI/(x||v)*2,b=f.depth>0,S=f.height-(b?-1:1),I=(h-d)/(S||1),w=e.get("clockwise"),A=e.get("stillShowZeroSum"),M=w?1:-1,D=function(t,n){if(t){var a=n;if(t!==g){var o=t.getValue(),r=0===x&&A?_:o*_;r<p&&(r=p),a=n+M*r;var h=t.depth-y-(b?-1:1),c=d+I*h,f=d+I*(h+1),m=e.getLevelModel(t);if(m){var v=m.get("r0",!0),S=m.get("r",!0),L=m.get("radius",!0);null!=L&&(v=L[0],S=L[1]),null!=v&&(c=(0,Z.lo)(v,s/2)),null!=S&&(f=(0,Z.lo)(S,s/2))}t.setLayout({angle:r,startAngle:n,endAngle:a,clockwise:w,cx:l,cy:u,r0:c,r:f})}if(t.children&&t.children.length){var C=0;i.__(t.children,(function(e){C+=D(e,n+C)}))}return a-n}};if(b){var L=d,C=d+I,T=2*Math.PI;g.setLayout({angle:T,startAngle:c,endAngle:c+T,clockwise:w,cx:l,cy:u,r0:L,r:C})}D(f,c)}))}function Ks(e,t){var n=e.children||[];e.children=function(e,t){if(i.Tn(t)){var n=i.Tj(e,(function(e,t){var n=e.getValue();return{params:{depth:e.depth,height:e.height,dataIndex:e.dataIndex,getValue:function(){return n}},index:t}}));return n.sort((function(e,n){return t(e.params,n.params)})),i.Tj(n,(function(t){return e[t.index]}))}var a="asc"===t;return e.sort((function(e,t){var n=(e.getValue()-t.getValue())*(a?1:-1);return 0===n?(e.dataIndex-t.dataIndex)*(a?-1:1):n}))}(n,t),n.length&&i.__(e.children,(function(e){Ks(e,t)}))}function Js(e){var t={};e.eachSeriesByType("sunburst",(function(e){var n=e.getData(),a=n.tree;a.eachNode((function(o){var r=o.getModel().getModel("itemStyle").getItemStyle();r.fill||(r.fill=function(e,n,a){for(var o=e;o&&o.depth>1;)o=o.parentNode;var r=n.getColorFromPalette(o.name||o.dataIndex+"",t);return e.depth>1&&(0,i.Kg)(r)&&(r=(0,oe.yY)(r,(e.depth-1)/(a-1)*.5)),r}(o,e,a.root.height));var s=n.ensureUniqueItemVisual(o.dataIndex,"style");(0,i.X$)(s,r)}))}))}function Qs(e){e.registerChartView(Hs),e.registerSeriesModel(qs),e.registerLayout((0,i.cF)($s,"sunburst")),e.registerProcessor((0,i.cF)(ht,"sunburst")),e.registerVisual(Js),function(e){e.registerAction({type:Ws,update:"updateView"},(function(e,t){t.eachComponent({mainType:"series",subType:"sunburst",query:e},(function(t,n){var a=Yn(e,[Ws],t);if(a){var i=t.getViewRoot();i&&(e.direction=Un(i,a.node)?"rollUp":"drillDown"),t.resetViewRoot(a.node)}}))})),e.registerAction({type:Fs,update:"none"},(function(e,t,n){e=(0,i.X$)({},e),t.eachComponent({mainType:"series",subType:"sunburst",query:e},(function(t){var n=Yn(e,[Fs],t);n&&(e.dataIndex=n.node.dataIndex)})),n.dispatchAction((0,i.X$)(e,{type:"highlight"}))})),e.registerAction({type:Xs,update:"updateView"},(function(e,t,n){e=(0,i.X$)({},e),n.dispatchAction((0,i.X$)(e,{type:"downplay"}))}))}(e)}var el={color:"fill",borderColor:"stroke"},tl={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},nl=(0,d.$r)();const al=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,a.C6)(t,e),t.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},t.prototype.getInitialData=function(e,t){return b(null,this)},t.prototype.getDataParams=function(t,n,a){var i=e.prototype.getDataParams.call(this,t,n);return a&&(i.info=nl(a).info),i},t.type="series.custom",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},t}(S.A);function il(e,t){return t=t||[0,0],i.Tj(["x","y"],(function(n,a){var i=this.getAxis(n),o=t[a],r=e[a]/2;return"category"===i.type?i.getBandWidth():Math.abs(i.dataToCoord(o-r)-i.dataToCoord(o+r))}),this)}function ol(e,t){return t=t||[0,0],i.Tj([0,1],(function(n){var a=t[n],i=e[n]/2,o=[],r=[];return o[n]=a-i,r[n]=a+i,o[1-n]=r[1-n]=t[1-n],Math.abs(this.dataToPoint(o)[n]-this.dataToPoint(r)[n])}),this)}function rl(e,t){var n=this.getAxis(),a=t instanceof Array?t[0]:t,i=(e instanceof Array?e[0]:e)/2;return"category"===n.type?n.getBandWidth():Math.abs(n.dataToCoord(a-i)-n.dataToCoord(a+i))}function sl(e,t){return t=t||[0,0],i.Tj(["Radius","Angle"],(function(n,a){var i=this["get"+n+"Axis"](),o=t[a],r=e[a]/2,s="category"===i.type?i.getBandWidth():Math.abs(i.dataToCoord(o-r)-i.dataToCoord(o+r));return"Angle"===n&&(s=s*Math.PI/180),s}),this)}var ll=n(9848),ul=n(57625),dl=n(92606),hl="emphasis",cl="normal",pl="blur",gl="select",fl=[cl,hl,pl,gl],yl={normal:["itemStyle"],emphasis:[hl,"itemStyle"],blur:[pl,"itemStyle"],select:[gl,"itemStyle"]},ml={normal:["label"],emphasis:[hl,"label"],blur:[pl,"label"],select:[gl,"label"]},vl=["x","y"],xl="e\0\0",_l={normal:{},emphasis:{},blur:{},select:{}},bl={cartesian2d:function(e){var t=e.master.getRect();return{coordSys:{type:"cartesian2d",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(t){return e.dataToPoint(t)},size:i.oI(il,e)}}},geo:function(e){var t=e.getBoundingRect();return{coordSys:{type:"geo",x:t.x,y:t.y,width:t.width,height:t.height,zoom:e.getZoom()},api:{coord:function(t){return e.dataToPoint(t)},size:i.oI(ol,e)}}},single:function(e){var t=e.getRect();return{coordSys:{type:"singleAxis",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(t){return e.dataToPoint(t)},size:(0,i.oI)(rl,e)}}},polar:function(e){var t=e.getRadiusAxis(),n=e.getAngleAxis(),a=t.getExtent();return a[0]>a[1]&&a.reverse(),{coordSys:{type:"polar",cx:e.cx,cy:e.cy,r:a[1],r0:a[0]},api:{coord:function(a){var i=t.dataToRadius(a[0]),o=n.dataToAngle(a[1]),r=e.coordToPoint([i,o]);return r.push(i,o*Math.PI/180),r},size:i.oI(sl,e)}}},calendar:function(e){var t=e.getRect(),n=e.getRangeInfo();return{coordSys:{type:"calendar",x:t.x,y:t.y,width:t.width,height:t.height,cellWidth:e.getCellWidth(),cellHeight:e.getCellHeight(),rangeInfo:{start:n.start,end:n.end,weeks:n.weeks,dayCount:n.allDay}},api:{coord:function(t,n){return e.dataToPoint(t,n)}}}}};function Sl(e){return e instanceof V.Ay}function Il(e){return e instanceof fa.Ay}const wl=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,a.C6)(t,e),t.prototype.render=function(e,t,n,a){this._progressiveEls=null;var i=this._data,o=e.getData(),r=this.group,s=Cl(e,o,t,n);i||r.removeAll(),o.diff(i).add((function(t){Nl(n,null,t,s(t,a),e,r,o)})).remove((function(t){var n=i.getItemGraphicEl(t);n&&(0,ul.h8)(n,nl(n).option,e)})).update((function(t,l){var u=i.getItemGraphicEl(l);Nl(n,u,t,s(t,a),e,r,o)})).execute();var l=e.get("clip",!0)?J(e.coordinateSystem,!1,e):null;l?r.setClipPath(l):r.removeClipPath(),this._data=o},t.prototype.incrementalPrepareRender=function(e,t,n){this.group.removeAll(),this._data=null},t.prototype.incrementalRender=function(e,t,n,a,i){var o=t.getData(),r=Cl(t,o,n,a),s=this._progressiveEls=[];function l(e){e.isGroup||(e.incremental=!0,e.ensureState("emphasis").hoverLayer=!0)}for(var u=e.start;u<e.end;u++){var d=Nl(null,null,u,r(u,i),t,this.group,o);d&&(d.traverse(l),s.push(d))}},t.prototype.eachRendered=function(e){Ce.traverseElements(this._progressiveEls||this.group,e)},t.prototype.filterForExposedEvent=function(e,t,n,a){var i=t.element;if(null==i||n.name===i)return!0;for(;(n=n.__hostTarget||n.parent)&&n!==this.group;)if(n.name===i)return!0;return!1},t.type="custom",t}(U.A);function Al(e){var t,n=e.type;if("path"===n){var a=e.shape,i=null!=a.width&&null!=a.height?{x:a.x||0,y:a.y||0,width:a.width,height:a.height}:null,o=Wl(a);t=Ce.makePath(o,null,i,a.layout||"center"),nl(t).customPathData=o}else if("image"===n)t=new Ft.Ay({}),nl(t).customImagePath=e.style.image;else if("text"===n)t=new R.Ay({});else if("group"===n)t=new w.A;else{if("compoundPath"===n)throw new Error('"compoundPath" is not supported yet.');var r=Ce.getShapeClass(n);if(!r){0,(0,tr.$8)("")}t=new r}return nl(t).customGraphicType=n,t.name=e.name,t.z2EmphasisLift=1,t.z2SelectLift=1,t}function Ml(e,t,n,a,o,r,s){(0,dl.$)(t);var l=o&&o.normal.cfg;l&&t.setTextConfig(l),a&&null==a.transition&&(a.transition=vl);var u=a&&a.style;if(u){if("text"===t.type){var d=u;(0,i.$3)(d,"textFill")&&(d.fill=d.textFill),(0,i.$3)(d,"textStroke")&&(d.stroke=d.textStroke)}var h=void 0,c=Sl(t)?u.decal:null;e&&c&&(c.dirty=!0,h=(0,zs.w)(c,e)),u.__decalPattern=h}Il(t)&&(u&&(h=u.__decalPattern)&&(u.decal=h));(0,ul.rh)(t,a,r,{dataIndex:n,isInit:s,clearStyle:!0}),(0,dl.L)(t,a.keyframeAnimation,r)}function Dl(e,t,n,a,i){var o=t.isGroup?null:t,r=i&&i[e].cfg;if(o){var s=o.ensureState(e);if(!1===a){var l=o.getState(e);l&&(l.style=null)}else s.style=a||null;r&&(s.textConfig=r),(0,ee.DW)(o)}}function Ll(e,t,n){var a=n===cl,i=a?t:Vl(t,n),o=i?i.z2:null;null!=o&&((a?e:e.ensureState(n)).z2=o||0)}function Cl(e,t,n,a){var o=e.get("renderItem"),r=e.coordinateSystem,s={};r&&(s=r.prepareCustoms?r.prepareCustoms(r):bl[r.type](r));for(var l,u,d=(0,i.NT)({getWidth:a.getWidth,getHeight:a.getHeight,getZr:a.getZr,getDevicePixelRatio:a.getDevicePixelRatio,value:function(e,n){return null==n&&(n=l),t.getStore().get(t.getDimensionIndex(e||0),n)},style:function(n,a){0;null==a&&(a=l);var o=t.getItemVisual(a,"style"),r=o&&o.fill,s=o&&o.opacity,u=x(a,cl).getItemStyle();null!=r&&(u.fill=r),null!=s&&(u.opacity=s);var d={inheritColor:(0,i.Kg)(r)?r:"#000"},h=_(a,cl),c=te.VB(h,null,d,!1,!0);c.text=h.getShallow("show")?(0,i.bZ)(e.getFormattedLabel(a,cl),(0,ne.i)(t,a)):null;var p=te.sD(h,d,!1);return S(n,u),u=(0,ll.Fs)(u,c,p),n&&b(u,n),u.legacy=!0,u},ordinalRawValue:function(e,n){null==n&&(n=l),e=e||0;var a=t.getDimensionInfo(e);if(!a){var i=t.getDimensionIndex(e);return i>=0?t.getStore().get(i,n):void 0}var o=t.get(a.name,n),r=a&&a.ordinalMeta;return r?r.categories[o]:o},styleEmphasis:function(n,a){0;null==a&&(a=l);var o=x(a,hl).getItemStyle(),r=_(a,hl),s=te.VB(r,null,null,!0,!0);s.text=r.getShallow("show")?(0,i.WV)(e.getFormattedLabel(a,hl),e.getFormattedLabel(a,cl),(0,ne.i)(t,a)):null;var u=te.sD(r,null,!0);return S(n,o),o=(0,ll.Fs)(o,s,u),n&&b(o,n),o.legacy=!0,o},visual:function(e,n){if(null==n&&(n=l),(0,i.$3)(el,e)){var a=t.getItemVisual(n,"style");return a?a[el[e]]:null}if((0,i.$3)(tl,e))return t.getItemVisual(n,e)},barLayout:function(e){if("cartesian2d"===r.type){var t=r.getBaseAxis();return(0,we.DL)((0,i.NT)({axis:t},e))}},currentSeriesIndices:function(){return n.getCurrentSeriesIndices()},font:function(e){return te.c8(e,n)}},s.api||{}),h={context:{},seriesId:e.id,seriesName:e.name,seriesIndex:e.seriesIndex,coordSys:s.coordSys,dataInsideLength:t.count(),encode:Tl(e.getData())},c={},p={},g={},f={},y=0;y<fl.length;y++){var m=fl[y];g[m]=e.getModel(yl[m]),f[m]=e.getModel(ml[m])}function v(e){return e===l?u||(u=t.getItemModel(e)):t.getItemModel(e)}function x(e,n){return t.hasItemOption?e===l?c[n]||(c[n]=v(e).getModel(yl[n])):v(e).getModel(yl[n]):g[n]}function _(e,n){return t.hasItemOption?e===l?p[n]||(p[n]=v(e).getModel(ml[n])):v(e).getModel(ml[n]):f[n]}return function(e,n){return l=e,u=null,c={},p={},o&&o((0,i.NT)({dataIndexInside:e,dataIndex:t.getRawIndex(e),actionType:n?n.type:null},h),d)};function b(e,t){for(var n in t)(0,i.$3)(t,n)&&(e[n]=t[n])}function S(e,t){e&&(e.textFill&&(t.textFill=e.textFill),e.textPosition&&(t.textPosition=e.textPosition))}}function Tl(e){var t={};return(0,i.__)(e.dimensions,(function(n){var a=e.getDimensionInfo(n);if(!a.isExtraCoord){var i=a.coordDim;(t[i]=t[i]||[])[a.coordDimIndex]=e.getDimensionIndex(n)}})),t}function Nl(e,t,n,a,i,o,r){if(a){var s=Pl(e,t,n,a,i,o);return s&&r.setItemGraphicEl(n,s),s&&(0,ee.Lm)(s,a.focus,a.blurScope,a.emphasisDisabled),s}o.remove(t)}function Pl(e,t,n,a,o,r){var s=-1,l=t;t&&El(t,a,o)&&(s=(0,i.qh)(r.childrenRef(),t),t=null);var u,d,h=!t,c=t;c?c.clearStates():(c=Al(a),l&&(u=l,(d=c).copyTransform(u),Il(d)&&Il(u)&&(d.setStyle(u.style),d.z=u.z,d.z2=u.z2,d.zlevel=u.zlevel,d.invisible=u.invisible,d.ignore=u.ignore,Sl(d)&&Sl(u)&&d.setShape(u.shape)))),!1===a.morph?c.disableMorphing=!0:c.disableMorphing&&(c.disableMorphing=!1),_l.normal.cfg=_l.normal.conOpt=_l.emphasis.cfg=_l.emphasis.conOpt=_l.blur.cfg=_l.blur.conOpt=_l.select.cfg=_l.select.conOpt=null,_l.isLegacy=!1,function(e,t,n,a,i,o){if(e.isGroup)return;Rl(n,null,o),Rl(n,hl,o);var r=o.normal.conOpt,s=o.emphasis.conOpt,l=o.blur.conOpt,u=o.select.conOpt;if(null!=r||null!=s||null!=u||null!=l){var d=e.getTextContent();if(!1===r)d&&e.removeTextContent();else{r=o.normal.conOpt=r||{type:"text"},d?d.clearStates():(d=Al(r),e.setTextContent(d)),Ml(null,d,t,r,null,a,i);for(var h=r&&r.style,c=0;c<fl.length;c++){var p=fl[c];if(p!==cl){var g=o[p].conOpt;Dl(p,d,0,kl(r,g,p),null)}}h?d.dirty():d.markRedraw()}}}(c,n,a,o,h,_l),function(e,t,n,a,i){var o=n.clipPath;if(!1===o)e&&e.getClipPath()&&e.removeClipPath();else if(o){var r=e.getClipPath();r&&El(r,o,a)&&(r=null),r||(r=Al(o),e.setClipPath(r)),Ml(null,r,t,o,null,a,i)}}(c,n,a,o,h),Ml(e,c,n,a,_l,o,h),(0,i.$3)(a,"info")&&(nl(c).info=a.info);for(var p=0;p<fl.length;p++){var g=fl[p];if(g!==cl){var f=Vl(a,g);Dl(g,c,0,kl(a,f,g),_l)}}return function(e,t,n){if(!e.isGroup){var a=e,i=n.currentZ,o=n.currentZLevel;a.z=i,a.zlevel=o;var r=t.z2;null!=r&&(a.z2=r||0);for(var s=0;s<fl.length;s++)Ll(a,t,fl[s])}}(c,a,o),"group"===a.type&&function(e,t,n,a,i){var o=a.children,r=o?o.length:0,s=a.$mergeChildren,l="byName"===s||a.diffChildrenByName,u=!1===s;if(!r&&!l&&!u)return;if(l)return d={api:e,oldChildren:t.children()||[],newChildren:o||[],dataIndex:n,seriesModel:i,group:t},void new sa.A(d.oldChildren,d.newChildren,Ol,Ol,d).add(Gl).update(Gl).remove(Bl).execute();var d;u&&t.removeAll();for(var h=0;h<r;h++){var c=o[h],p=t.childAt(h);c?(null==c.ignore&&(c.ignore=!1),Pl(e,p,n,c,i,t)):p.ignore=!0}for(var g=t.childCount()-1;g>=h;g--){var f=t.childAt(g);zl(t,f,i)}}(e,c,n,a,o),s>=0?r.replaceAt(c,s):r.add(c),c}function El(e,t,n){var a,o=nl(e),r=t.type,s=t.shape,l=t.style;return n.isUniversalTransitionEnabled()||null!=r&&r!==o.customGraphicType||"path"===r&&((a=s)&&((0,i.$3)(a,"pathData")||(0,i.$3)(a,"d")))&&Wl(s)!==o.customPathData||"image"===r&&(0,i.$3)(l,"image")&&l.image!==o.customImagePath}function Rl(e,t,n){var a=t?Vl(e,t):e,i=t?kl(e,a,hl):e.style,o=e.type,r=a?a.textConfig:null,s=e.textContent,l=s?t?Vl(s,t):s:null;if(i&&(n.isLegacy||(0,ll.ex)(i,o,!!r,!!l))){n.isLegacy=!0;var u=(0,ll.lH)(i,o,!t);!r&&u.textConfig&&(r=u.textConfig),!l&&u.textContent&&(l=u.textContent)}if(!t&&l){var d=l;!d.type&&(d.type="text")}var h=t?n[t]:n.normal;h.cfg=r,h.conOpt=l}function Vl(e,t){return t?e?e[t]:null:e}function kl(e,t,n){var a=t&&t.style;return null==a&&n===hl&&e&&(a=e.styleEmphasis),a}function zl(e,t,n){t&&(0,ul.h8)(t,nl(e).option,n)}function Ol(e,t){var n=e&&e.name;return null!=n?n:xl+t}function Gl(e,t){var n=this.context,a=null!=e?n.newChildren[e]:null,i=null!=t?n.oldChildren[t]:null;Pl(n.api,i,n.dataIndex,a,n.seriesModel,n.group)}function Bl(e){var t=this.context,n=t.oldChildren[e];n&&(0,ul.h8)(n,nl(n).option,t.seriesModel)}function Wl(e){return e&&(e.pathData||e.d)}function Fl(e){e.registerChartView(wl),e.registerSeriesModel(al)}},92621:(e,t,n)=>{n.d(t,{QK:()=>P,YI:()=>N,eR:()=>V,lB:()=>L,rv:()=>k});var a=n(26346),i=n(5070),o=n(39195),r=n(68717),s=n(41589),l=n(89259),u=n(98026),d=n(45587),h=n(83509),c=n(34833),p=2*Math.PI,g=r.A.CMD,f=["top","right","bottom","left"];function y(e,t,n,a,i){var o=n.width,r=n.height;switch(e){case"top":a.set(n.x+o/2,n.y-t),i.set(0,-1);break;case"bottom":a.set(n.x+o/2,n.y+r+t),i.set(0,1);break;case"left":a.set(n.x-t,n.y+r/2),i.set(-1,0);break;case"right":a.set(n.x+o+t,n.y+r/2),i.set(1,0)}}function m(e,t,n,a,i,o,r,l,u){r-=e,l-=t;var d=Math.sqrt(r*r+l*l),h=(r/=d)*n+e,c=(l/=d)*n+t;if(Math.abs(a-i)%p<1e-4)return u[0]=h,u[1]=c,d-n;if(o){var g=a;a=(0,s.n)(i),i=(0,s.n)(g)}else a=(0,s.n)(a),i=(0,s.n)(i);a>i&&(i+=p);var f=Math.atan2(l,r);if(f<0&&(f+=p),f>=a&&f<=i||f+p>=a&&f+p<=i)return u[0]=h,u[1]=c,d-n;var y=n*Math.cos(a)+e,m=n*Math.sin(a)+t,v=n*Math.cos(i)+e,x=n*Math.sin(i)+t,_=(y-r)*(y-r)+(m-l)*(m-l),b=(v-r)*(v-r)+(x-l)*(x-l);return _<b?(u[0]=y,u[1]=m,Math.sqrt(_)):(u[0]=v,u[1]=x,Math.sqrt(b))}function v(e,t,n,a,i,o,r,s){var l=i-e,u=o-t,d=n-e,h=a-t,c=Math.sqrt(d*d+h*h),p=(l*(d/=c)+u*(h/=c))/c;s&&(p=Math.min(Math.max(p,0),1)),p*=c;var g=r[0]=e+p*d,f=r[1]=t+p*h;return Math.sqrt((g-i)*(g-i)+(f-o)*(f-o))}function x(e,t,n,a,i,o,r){n<0&&(e+=n,n=-n),a<0&&(t+=a,a=-a);var s=e+n,l=t+a,u=r[0]=Math.min(Math.max(i,e),s),d=r[1]=Math.min(Math.max(o,t),l);return Math.sqrt((u-i)*(u-i)+(d-o)*(d-o))}var _=[];function b(e,t,n){var a=x(t.x,t.y,t.width,t.height,e.x,e.y,_);return n.set(_[0],_[1]),a}function S(e,t,n){for(var a,i,o=0,r=0,s=0,u=0,d=1/0,h=t.data,c=e.x,p=e.y,f=0;f<h.length;){var y=h[f++];1===f&&(s=o=h[f],u=r=h[f+1]);var b=d;switch(y){case g.M:o=s=h[f++],r=u=h[f++];break;case g.L:b=v(o,r,h[f],h[f+1],c,p,_,!0),o=h[f++],r=h[f++];break;case g.C:b=(0,l.Et)(o,r,h[f++],h[f++],h[f++],h[f++],h[f],h[f+1],c,p,_),o=h[f++],r=h[f++];break;case g.Q:b=(0,l.kh)(o,r,h[f++],h[f++],h[f],h[f+1],c,p,_),o=h[f++],r=h[f++];break;case g.A:var S=h[f++],I=h[f++],w=h[f++],A=h[f++],M=h[f++],D=h[f++];f+=1;var L=!!(1-h[f++]);a=Math.cos(M)*w+S,i=Math.sin(M)*A+I,f<=1&&(s=a,u=i),b=m(S,I,A,M,M+D,L,(c-S)*A/w+S,p,_),o=Math.cos(M+D)*w+S,r=Math.sin(M+D)*A+I;break;case g.R:b=x(s=o=h[f++],u=r=h[f++],h[f++],h[f++],c,p,_);break;case g.Z:b=v(o,r,s,u,c,p,_,!0),o=s,r=u}b<d&&(d=b,n.set(_[0],_[1]))}return d}var I=new a.A,w=new a.A,A=new a.A,M=new a.A,D=new a.A;function L(e,t){if(e){var n=e.getTextGuideLine(),o=e.getTextContent();if(o&&n){var r=e.textGuideLineConfig||{},s=[[0,0],[0,0],[0,0]],l=r.candidates||f,u=o.getBoundingRect().clone();u.applyTransform(o.getComputedTransform());var h=1/0,c=r.anchor,p=e.getComputedTransform(),g=p&&(0,d.B8)([],p),m=t.get("length2")||0;c&&A.copy(c);for(var v=0;v<l.length;v++){y(l[v],0,u,I,M),a.A.scaleAndAdd(w,I,M,m),w.transform(g);var x=e.getBoundingRect(),_=c?c.distance(w):e instanceof i.Ay?S(w,e.path,A):b(w,x,A);_<h&&(h=_,w.transform(p),A.transform(p),A.toArray(s[0]),w.toArray(s[1]),I.toArray(s[2]))}N(s,t.get("minTurnAngle")),n.setShape({points:s})}}}var C=[],T=new a.A;function N(e,t){if(t<=180&&t>0){t=t/180*Math.PI,I.fromArray(e[0]),w.fromArray(e[1]),A.fromArray(e[2]),a.A.sub(M,I,w),a.A.sub(D,A,w);var n=M.len(),i=D.len();if(!(n<.001||i<.001)){M.scale(1/n),D.scale(1/i);var o=M.dot(D);if(Math.cos(t)<o){var r=v(w.x,w.y,A.x,A.y,I.x,I.y,C,!1);T.fromArray(C),T.scaleAndAdd(D,r/Math.tan(Math.PI-t));var s=A.x!==w.x?(T.x-w.x)/(A.x-w.x):(T.y-w.y)/(A.y-w.y);if(isNaN(s))return;s<0?a.A.copy(T,w):s>1&&a.A.copy(T,A),T.toArray(e[1])}}}}function P(e,t,n){if(n<=180&&n>0){n=n/180*Math.PI,I.fromArray(e[0]),w.fromArray(e[1]),A.fromArray(e[2]),a.A.sub(M,w,I),a.A.sub(D,A,w);var i=M.len(),o=D.len();if(!(i<.001||o<.001))if(M.scale(1/i),D.scale(1/o),M.dot(t)<Math.cos(n)){var r=v(w.x,w.y,A.x,A.y,I.x,I.y,C,!1);T.fromArray(C);var s=Math.PI/2,l=s+Math.acos(D.dot(t))-n;if(l>=s)a.A.copy(T,A);else{T.scaleAndAdd(D,r/Math.tan(Math.PI/2-l));var u=A.x!==w.x?(T.x-w.x)/(A.x-w.x):(T.y-w.y)/(A.y-w.y);if(isNaN(u))return;u<0?a.A.copy(T,w):u>1&&a.A.copy(T,A)}T.toArray(e[1])}}}function E(e,t,n,a){var i="normal"===n,o=i?e:e.ensureState(n);o.ignore=t;var r=a.get("smooth");r&&!0===r&&(r=.3),o.shape=o.shape||{},r>0&&(o.shape.smooth=r);var s=a.getModel("lineStyle").getLineStyle();i?e.useStyle(s):o.style=s}function R(e,t){var n=t.smooth,a=t.points;if(a)if(e.moveTo(a[0][0],a[0][1]),n>0&&a.length>=3){var i=h.xg(a[0],a[1]),o=h.xg(a[1],a[2]);if(!i||!o)return e.lineTo(a[1][0],a[1][1]),void e.lineTo(a[2][0],a[2][1]);var r=Math.min(i,o)*n,s=h.Cc([],a[1],a[0],r/i),l=h.Cc([],a[1],a[2],r/o),u=h.Cc([],s,l,.5);e.bezierCurveTo(s[0],s[1],s[0],s[1],u[0],u[1]),e.bezierCurveTo(l[0],l[1],l[0],l[1],a[2][0],a[2][1])}else for(var d=1;d<a.length;d++)e.lineTo(a[d][0],a[d][1])}function V(e,t,n){var a=e.getTextGuideLine(),i=e.getTextContent();if(i){for(var r=t.normal,s=r.get("show"),l=i.ignore,d=0;d<c.wV.length;d++){var h=c.wV[d],p=t[h],g="normal"===h;if(p){var f=p.get("show");if((g?l:(0,u.bZ)(i.states[h]&&i.states[h].ignore,l))||!(0,u.bZ)(f,s)){var y=g?a:a&&a.states[h];y&&(y.ignore=!0),a&&E(a,!0,h,p);continue}a||(a=new o.A,e.setTextGuideLine(a),g||!l&&s||E(a,!0,"normal",t.normal),e.stateProxy&&(a.stateProxy=e.stateProxy)),E(a,!1,h,p)}}if(a){(0,u.NT)(a.style,n),a.style.fill=null;var m=r.get("showAbove");(e.textGuideLineConfig=e.textGuideLineConfig||{}).showAbove=m||!1,a.buildPath=R}}else a&&e.removeTextGuideLine()}function k(e,t){t=t||"labelLine";for(var n={normal:e.getModel(t)},a=0;a<c.BV.length;a++){var i=c.BV[a];n[i]=e.getModel([i,t])}return n}}}]);